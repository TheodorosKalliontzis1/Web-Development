(function () {
var p;function ta(a,f,e){this.Qm=a;this.i=e;this.zj=this.Uj();this.Yn=this.pj(f);this.vf=this.Tj()}p=ta.prototype;p.Uj=function(){var a=this.i;return"vroid"===a?{Mb:function(f){var e=f.x,c=f.z,g=f.c;f.x=-f.y;f.y=-c;f.z=e;f.c=g}}:"webaverse"===a?{Mb:function(f){var e=f.x,c=f.z,g=f.c;f.x=f.y;f.y=-c;f.z=-e;f.c=g}}:{Mb:function(){}}};p.pj=function(a){var f={},e={};z(Aa.M(a),function(c){e[Ca.getName(c)]=c});f.get=function(c){return e[c]};return f};
p.Tj=function(){var a={},f={};a.set=function(e,c,g,h,k){f[e]={x:c,y:g,z:h,w:k}};a.get=function(e){return f[e]};return a};p.Dn=function(a){Da(this.Qm,function(f,e){a(f,e)})};p.ll=function(a){return this.vf.get(a)};p.Xo=function(a,f,e,c,g){this.vf.set(a,f,e,c,g)};p.sl=function(a){return this.Yn.get(a)};p.Oa=function(a){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(a,this.i)};p.qq=function(a){this.zj.Mb(a)};
p.lq=function(a,f,e,c){var g=this,h=function(){return"right"===c?{Lg:function(k){return/RightHand.+/.test(k)},Wf:function(k){return k.replace("Right","Left")},Mb:function(k){k.y*=-1;k.z*=-1}}:{Lg:function(k){return/LeftHand.+/.test(k)},Wf:function(k){return k},Mb:function(){}}}();z(U.j(a),function(k){var b=Ea.f(k);if("rotationQuaternion"===V.B(b)){k=Ea.m(k);k=Ca.getName(k);var d=g.sl(k);if(null!=d&&(k=g.Oa(k),Ga(k,"mixamorig:")&&(k=k.substring(10)),!1!==h.Lg(k)&&(k=g.ll(h.Wf(k)),null!=k))){var l=
V.g(b);if(!1===Ia(l)){var m={x:k.x,y:k.y,z:k.z,c:k.w};g.qq(m);h.Mb(m);(function(){var n=!0;cb(l,{v:function(){return n},$:function(q,r){var P=q.frame;P<f?n=!1:P>=f&&P<=e&&l.splice(r,1)}})})();b=function(){var n=Mb.create(),q=Ca.Hc(d);Nb.Wa(q,null,n,null);q=Mb.create(m.x,m.y,m.z,m.c);return Mb.multiply(n,q)}();l.push(Tb(f,Mb.clone(b)));l.push(Tb(e,Mb.clone(b)));Ub(l)}}}})};p.$i=function(){var a=this;return new Promise(function(f){a.Dn(function(e,c){a.Xo(e,c[0],c[1],c[2],c[3])});f()})};function $b(a,f){this.Wh=a;this.Pm=f}$b.prototype.load=function(){var a=this;return new Promise(function(f,e){a.Ln().then(function(c){return ac(a.Wh+c)}).then(function(c){f(c)})["catch"](function(c){e(c)})})};$b.prototype.Ln=function(){var a=this;return new Promise(function(f,e){var c=a.Pm;dc({parentId:"eae2fba2-d263-4335-b859-784e35f79a7e",_id:c}).then(function(g){Array.isArray(g)&&1===g.length?f(g[0].path):e("Cannot get hand gesture asset: "+c)})["catch"](function(g){e(g)})})};function ic(){this.values=[]}ic.prototype.Di=function(a){this.values.push(a)};ic.prototype.rd=function(a,f){this.Di({left:a,right:f})};ic.prototype.N=function(){return 0===this.values.length};ic.prototype.Ad=function(){return this.values[0]};function Ga(a,f){var e=!1;null==jc(a)===!1&&null==jc(f)===!1&&(e=0===a.lastIndexOf(f,0));return e}function kc(a,f){var e;null==e&&(e=!1);var c=!1;if(null==jc(a)===!1&&null==jc(f)===!1){c=a.length;if(null==g||g>c)var g=c;g=a.substring(g-f.length,g);e&&(g=g.toLowerCase(),f=f.toLowerCase());c=g===f}return c}function jc(a){null!=a&&"string"===typeof a&&(a=a.trim(),0===a.length&&(a=null));return a};function nc(){var a={},f=new Map;a.nf=function(e){f[e]=!0};!1===Ia(void 0)&&z(void 0,function(e){a.nf(e)});a.sn=function(e){return!0===f[e]};return a}function tc(a){return new Promise(function(f){setTimeout(function(){f()},a)})}function Da(a,f){uc(a,{ie:function(e,c){f(e,c)},v:function(){return!0}})}function uc(a,f){for(var e in a)if(a.hasOwnProperty(e)&&(f.ie(e,a[e]),!1===f.v()))break}function xc(a){a=JSON.stringify(a);return JSON.parse(a)}
function Bc(a,f){var e=null,c=!1;Cc(a,{v:function(){return!1===c},$:function(g,h){f(g,h)&&(e=g,c=!0)}});return e}function Fc(a,f){return new Promise(function(e,c){function g(){return new Promise(function(d,l){f(a[b],b).then(function(){d()})["catch"](function(m){l(m)})})}function h(){b===k?e():g().then(function(){b++;h()})["catch"](function(d){c(d)})}if(Ia(a))e();else{var k=a.length,b=0;h()}})}function Gc(a,f){var e=[];z(a,function(c){c=f(c);e.push(c)});return e}
function Ia(a){return null==a||0===a.length}function Hc(a,f){cb(a,{v:function(){return!0},$:function(e,c){f(e,c)}})}function cb(a,f){if(null!=a&&0<a.length)for(var e=a.length-1;f.v()&&0<=e;e--)f.$(a[e],e)}function z(a,f){Cc(a,{v:function(){return!0},$:function(e,c){f(e,c)}})}function Cc(a,f){if(null!=a&&0<a.length)for(var e=a.length,c=0;f.v()&&c<e;c++)f.$(a[c],c)};var Kc,Lc;Kc=function(a){if(null==f)var f=Math.round;if((""+a).includes("e")){a=(""+a).split("e");var e="";0<+a[1]+2&&(e="+");return+(f(+a[0]+"e"+e+(+a[1]+2))+"e-2")}return+(f(a+"e+2")+"e-2")};Lc=function(a,f){if(Ia(a)||Ia(f))return null;var e=Math.max(a[0],f[0]),c=Math.min(a[1],f[1]);return e<=c?[e,c]:null};function Mc(a){this.key=a;this.next=this.La=null}function Nc(){this.wj=200;this.head=this.Ta=null;this.length=0;this.data={};this.O={}}p=Nc.prototype;
p.set=function(a,f){if(this.data[a])Pc(this,a);else{var e=new Mc(a);null===this.head&&null===this.Ta?(this.Ta=this.head=e,this.head.next=this.Ta,this.Ta.La=this.head):(this.head.La=e,e.next=this.head,this.head=e);this.O[e.key]=e;this.length+=1;this.length>this.wj&&(e=this.Ta,this.Ta=e.La,--this.length,this.Ff(this.data[e.key]),delete this.data[e.key],delete this.O[e.key])}this.data[a]=f};p.Ff=function(){};p.get=function(a){return this.data[a]?(Pc(this,a),this.data[a]):null};
function Pc(a,f){if(a.O[f]&&a.O[f]!==a.head){var e=a.O[f].La,c=a.O[f].next;e.next=c;c.La=e;a.head.La=a.O[f];a.O[f].next=a.head;a.head=a.O[f]}}p.has=function(a){return null!=this.O[a]};
p["delete"]=function(a){if(this.O[a]){var f=this.data[a];if(1==this.length)this.head=this.Ta=null,this.length=0,this.data={},this.O={};else{if(this.O[a]===this.head){var e=this.O[a].next;delete e.La;this.head=e}else if(this.O[a]===this.Ta){var c=this.O[a].La;delete c.next;this.Ta=c}else c=this.O[a].La,e=this.O[a].next,c.next=e,e.La=c;this.length--;delete this.data[a];delete this.O[a]}return f}return null};
p.keys=function(){function a(e){e&&!f.includes(e.key)&&(f.push(e.key),a(e.next))}var f=[];a(this.head);return f};var ac,dc,Qc,Rc,Uc;
(function(){function a(e,c,g){null==g&&(g=!1);return new Promise(function(h,k){var b=!1===g?null:f();fetch(e,b).then(function(d){!1===d.ok?Qc(d).then(function(l){k(l)})["catch"](function(l){k(l)}):c(d).then(function(l){h(l)})["catch"](function(l){k(l)})})["catch"](function(d){k(d)})})}function f(){return{method:"GET",credentials:"include"}}dc=function(e){var c=null==c?"":"&"+c;e="https://content-global.visual-paradigm.com/asset/assets?filter="+encodeURIComponent(JSON.stringify(e))+c;return ac(e)};
Qc=function(e){return new Promise(function(c){e.text().then(function(g){c(g)})["catch"](function(g){c(g)})})};ac=function(e,c){return a(e,function(g){return g.json()},c)};Rc=function(e){return a(e,function(c){return c.text()})};Uc=function(e){return new Promise(function(c,g){var h=f();fetch(e,h).then(function(k){c(k)})["catch"](function(k){g(k)})})}})();var Tb,Ub,Vc,Wc,Xc,Yc,Zc,$c,ad,cd,dd,ed,fd,gd,jd,kd,ld,md,nd,sd,td,ud,zd,Ad,Bd;Vc=function(a){Cd()&&Dd.Ij(a);Ed()&&Dd.Fj(a)};Wc=function(a){Dd.Ah(a,Fd.create(0,0,0,0))};Xc=function(a){var f=Gd.create(0,5,-10);a=Hd.create("camera1",f,a);f=Gd.create(0,5,0);Hd.Sa(a,f);return a};Yc=function(a){var f=Gd.create(0,.7,-1);return Id.create("light",f,a)};
Zc=function(a){var f={preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1,doNotHandleContextLost:Jd(),loseContextOnDispose:!0};a=Kd.create(a,!0,f);Kd.qp(a,Ld());return a};$c=function(a){a=Md(0,a);return Mb.ga(0,a,0)};
(function(){var a=Math.PI/180*80,f=-Math.PI/180*80,e=Math.PI/180*60,c=-Math.PI/180*40;ad=function(g,h,k,b){return Qd.create(g,h,k,{yawAxis:b?Gd.di():null,adjustYaw:Math.PI,slerpAmount:1,maxYaw:a,minYaw:f,maxPitch:e,minPitch:c,upAxisSpace:Rd.Xh()})};cd=function(g){var h=Mb.Ma(g),k=h.x;g=h.z;h=h.y;k=Math.max(c,Math.min(e,k));h=Math.max(f,Math.min(a,h));return Mb.ga(k,h,g)}})();
dd=function(a,f){return new Promise(function(e,c){var g=encodeURIComponent(f);g="https://anitool.visual-paradigm.com/engine2/retarget_animation?source_series="+g+"&target_series="+g;var h=new FormData,k=new File([a],"temp.glb");h.append("file",k,"temp.glb");fetch(g,{method:"POST",body:h}).then(function(b){if(!1===b.ok)Qc(b).then(function(d){c(d)})["catch"](function(d){c(d)});else return b.blob()}).then(function(b){e(b)})["catch"](function(b){c(b)})})};
ed=function(a,f,e){if("number"===typeof a&&"number"===typeof f)return a+e*(f-a);if(a instanceof Sd()&&f instanceof Sd())return Gd.oc(a,f,e);if(a instanceof Td()&&f instanceof Td())return Mb.hd(a,f,e);throw Error("Unsupported data type for interpolation");};fd=function(a,f,e,c){return(a-a*f-a*(1-e))*c};gd=function(a,f){var e=Mb.Nj(a);return Mb.multiply(f,e)};jd=function(a,f){var e=Mb.clone(f);Mb.Qc(e,a);return Mb.normalize(e)};
self.applyRotationQuaternionDifference=function(a,f){function e(h){return Mb.create(h.x,h.y,h.z,h.w)}var c=e(a),g=e(f);c=jd(c,g);return{x:c.x,y:c.y,z:c.z,w:c.w}};
kd=function(a,f,e,c,g,h){return new Promise(function(k,b){function d(){if(Xd(e)||Yd(e))Aa.Mo(m);else{var n=Dd.ce(a);if(!1===Ia(n)){var q=Zd;z(n,function(r){var P=q[$d.getName(r)];null!=P&&(P=Mb.create(P.x,P.y,P.z,P.w),$d.da(r,P))})}}}var l,m;(function(){return new Promise(function(n,q){ld(f).then(function(r){return ae.wa("",r.U,r.url,a,null,r.T)}).then(function(r){var P=be.ca(r);!1===Ia(P)&&Hc(P,function(fa){U.b(fa)});P=be.I(r)[0];r=be.Ya(r)[0];l=P;m=r;var N=ce(r,e),da=de(r);P=new ee(r,P,c,N,da,e,
a);P.Xe(!0);P.Se(!0);P.Jb(h);P.ob();n()})["catch"](function(r){q(r)})})})().then(function(){Dd.eq(a);d();var n=null;if(null!=g){var q=fe(a);null!=q&&(g.actionAssetPathForLoadProps&&q.actionAssetPathForLoadProps&&(g.actionAssetPathForLoadProps=q.actionAssetPathForLoadProps),g.patchedAnimationGroupData&&q.patchedAnimationGroupData&&(g.patchedAnimationGroupData=q.patchedAnimationGroupData));ge(a,g);n=he(a)}return ie.ji(a,"glbFile",{metadataSelector:function(r){return g===r?r:null},shouldExportNode:function(r){return r===
n?!0:(r===l||je.ln(r,l))&&!(r instanceof ke())&&(r instanceof le()||r instanceof me())},shouldExportAnimation:function(){return!0}})}).then(function(n){n=md(n).hj;k(n)})["catch"](function(n){b(n)})})};nd=function(a){return a*Math.PI/180};sd=function(a){return 180*a/Math.PI};td=function(a){return Mb.create(a.x,a.y,a.z,a.w)};md=function(a){var f,e;uc(ne.Tl(a),{ie:function(c,g){f=c;e=g},v:function(){return!1}});return{fileName:f,hj:e}};
ld=function(){function a(f,e){for(var c=new Uint8Array(e.match(/.{1,2}/g).map(function(k){return parseInt(k,16)})),g=new Uint8Array(f.length),h=0;h<f.length;h++)g[h]=f[h]^c[h%c.length];return g}return function(f,e){null==e&&(e=!1);return new Promise(function(c,g){if("string"!==typeof f)c({url:f,T:null,U:""});else{var h=f;if(h.endsWith(".eglb")||h.endsWith(".evrm")||e){var k=h;fetch(h).then(function(b){return b.arrayBuffer()}).then(function(b){var d=e?".glb":"."+h.slice(-3);h=a(new Uint8Array(b),"c28d3530f9fa1f8dba8ec6d5b9dbe0e2fd659872d7d1aac021ae81c38584e173");
c({url:h,T:d,U:k})})["catch"](function(b){g(b)})}else c({url:h,T:null,U:""})}})}}();ud=function(a){a=a.gltf;return null!=a?a.extras:null};Tb=function(a,f){return{frame:a,value:f}};Ub=function(a){a.sort(function(f,e){return f.frame-e.frame})};zd=function(a,f){return new Promise(function(e,c){Uc(a).then(function(g){!1===g.ok?Qc(g).then(function(h){c(h)})["catch"](function(h){c(h)}):g.blob().then(function(h){h=new File([h],f+".glb");e(h)})["catch"](function(h){c(h)})})["catch"](function(g){c(g)})})};
Ad=function(a,f,e,c,g){return"string"===typeof f&&f.includes("/rest/diagrams/assets/")?zd(f,g).then(function(h){return ae.pc(a,h,e,null,c)})["catch"](function(h){console.error(h)}):ae.pc(a,f,e,null,c)};Bd=function(a,f,e,c,g){return"string"===typeof f&&f.includes("/rest/diagrams/assets/")?zd(f,g).then(function(h){return ae.wa("",a,h,e,null,c)})["catch"](function(h){console.error(h)}):ae.wa("",a,f,e,null,c)};var oe,pe,qe,re,se,te,ue,ve;oe=function(a,f,e){var c=a.horizontal||0,g=a.vertical||0;if(0!==c||0!==g)a=pe(e,f,"position"),null!=a&&(a=V.g(Ea.f(a)),z(a,function(h){var k=Gd.clone(h.value);k.x+=c;k.y+=g;h.value=k}))};
qe=function(a,f){z(U.j(a),function(e){function c(k){var b=V.g(g);z(b,function(d){var l=d.value;l=k(l);d.value=l})}var g=Ea.f(e),h=V.$f(g);h===V.Jd()?c(function(k){k=Gd.clone(k);k.x=-k.x;return k}):h===V.Id()&&(e=Ea.m(e),h=Ca.getName(e),h=self.BabylonJsBoneMapper.flipDirectionOfBoneName(h,f),e.name=h,c(function(k){k=Gd.clone(k);k.y=-k.y;k.z=-k.z;return k}))})};
re=function(a,f,e){z(U.j(a),function(c){var g=Ea.f(c),h=V.H(g,f);c=V.H(g,e);g=V.g(g);var k=g[h],b=g[c],d=k.frame,l=b.frame;k=k.value;b=b.value;for(h+=1;h<c;h++){var m=g[h];m.value=ed(k,b,(m.frame-d)/(l-d))}})};se=function(a,f){var e=U.ae(a);if(f!==e){var c=1/(f/e);e=U.W(a);var g=U.A(a);z(U.j(a),function(h){h=V.g(Ea.f(h));z(h,function(k){var b=k.frame;b*=c;k.frame=b})});U.Dh(a,e*c);U.Lb(a,g*c)}};
te=function(a,f,e){var c=!0;null==c&&(c=!1);var g=U.A(a),h=g*f,k=g*e;(function(){function b(d){Cc(U.j(a),{v:function(){return d.v()},$:function(l){l=Ea.f(l);var m=V.g(l),n=m[0].frame;(h>m[m.length-1].frame||k<n)&&d.dh(l)}})}(function(){var d=!1;b({v:function(){return!1===d},dh:function(){d=!0}});return d})()&&(!1===c&&(a=U.clone(a)),b({v:function(){return!0},dh:function(d){d=V.g(d);var l=d[d.length-1].value;d.unshift(Tb(h,d[0].value.clone()));d.push(Tb(k,l.clone()))}}))})();f=U.Yh(a,h,k,null,!0);
c&&U.b(a);return f};ue=function(a,f,e){var c=e.animationGroup;if(null!=c)return c;e=e.animationGroupDelta;return null!=e?we(xe(a,f),e):null};pe=function(a,f,e){var c=null;Cc(U.j(a),{v:function(){return null==c},$:function(g){Ea.m(g).name===f&&V.B(Ea.f(g))===e&&(c=g)}});return c};ve=function(a){a=U.jl(a);return Ia(a)?null:ye.km(a[0])};var ze,Ae,Be,Ce,De,Ee,Fe;
(function(){function a(c,g,h){c=nd(30*(50-c)/50);var k=0,b=Xd(g),d=Yd(g);if(b||d)g=f(h,g),h=k,d?k="mixamorig:LeftArm"===g?-c:c:b&&(k="mixamorig:RightArm"===g?-c:c),c=h;return Mb.ga(c,0,k)}function f(c,g){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(c,g)}var e=["mixamorig:LeftArm","mixamorig:RightArm"];ze=function(){return 50};Ae=function(c){return c===ze()};Be=function(c,g,h,k){c=V.g(c);z(c,function(b){var d=Ce(Ke.ua(b),g,k,h);Ke.$a(b,d)})};De=function(c,g){var h=f(c,g);return 0<=e.indexOf(h)};
Ee=function(c,g,h,k){g=a(g,h,k);g=Mb.jb(g);return Mb.multiply(c,g)};Ce=function(c,g,h,k){g=a(g,h,k);return Mb.multiply(c,g)};Fe=function(c,g,h){z(U.j(c),function(k){var b=Ea.m(k);b=Ca.getName(b);k=Ea.f(k);"rotationQuaternion"===V.B(k)&&De(b,h)&&Be(k,g,b,h)})}})();var Le,Me,Ne,Oe,Pe,Qe,Re;
(function(){function a(g,h){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(g,h)}function f(g,h,k){0<=a(h,k).indexOf("Arm")&&(g=-g);return g}function e(g,h,k,b){b=$d.create(null,b);try{return $d.da(b,Mb.clone(g)),$d.rotate(b,h,nd(k)),$d.J(b)}finally{$d.b(b)}}var c=["mixamorig:LeftArm","mixamorig:LeftShoulder","mixamorig:RightArm","mixamorig:RightShoulder"];Le=function(g,h,k,b,d){var l=V.g(g),m=function(){var n=l[0].value,q=Me(n,h,b,k,d);return gd(n,q)}();z(l,function(n){var q=jd(Ke.ua(n),m);
Ke.$a(n,q)})};Ne=function(g,h,k,b,d){h=f(h,b,k);k=Xd(k)?Ga(b,"J_Bip_L_")?Gd.Nb():Gd.nc():Yd(k)?0<=b.indexOf("left")?Gd.nc():Gd.Nb():Gd.ri();return e(g,k,h,d)};Me=function(g,h,k,b,d){h=f(h,b,k);k=Xd(k)?Ga(b,"J_Bip_L_")?Gd.nc():Gd.Nb():Yd(k)?0<=b.indexOf("left")?Gd.Nb():Gd.nc():Gd.li();return e(g,k,h,d)};Oe=function(g,h){var k=a(g,h);return 0<=c.indexOf(k)};Pe=function(){return 0};Qe=function(g){return null==g||0===g};Re=function(g,h,k,b){z(U.j(g),function(d){var l=Ea.m(d);l=Ca.getName(l);d=Ea.f(d);
"rotationQuaternion"===V.B(d)&&Oe(l,k)&&Le(d,h,l,k,b)})}})();var Se,Te,Ue,Ve,We,Xe;Se=function(a,f){return null!=a&&(Xd(f)||Yd(f))?self.BabylonJsBoneMapper.remapBoneName(a,f):a};Te=function(a){return(a=W.Yf(a))&&1===a.length&&(a=W.getMetadata(a[0]),null!=a&&(a=ud(a),null!=a))?a.attachTo:null};
Ue=function(a,f,e,c){function g(){var b=W.ra(a);b=$d.create(null,b);$d.l(b).x=-1;var d=W.getParent(a);$d.aa(b,d);W.aa(a,b)}var h=Te(a);"left"===f?h=h.replace("Right","Left"):"right"===f&&(h=h.replace("Left","Right"));var k=Se(h,c);(function(){Ve({get:function(){return a},set:function(b){a=b}},{Lf:e,Nf:!1,Of:!1,i:c},{xf:k,Ua:h},{position:null,scale:null,rotation:null},!1)})();"right"===f&&g();return a};
Ve=function(a,f,e,c,g){function h(){var ua=W.Od(va,!1,function(Ja){return je.getName(Ja)===pa})[0],Ba=f.i,La=Xd(Ba);Ba=Yd(Ba);if(La||Ba){var za=La?"dummy_106008":void 0;Ba=$d.create(La?void 0:"dummy_106008",m);$d.aa(Ba,ua);var Wa=Ye[q];ua=function(){var Ja=Mb.create(Wa.x,Wa.y,Wa.z,Wa.c),xa=Mb.create(0,0,0,.7071067811865476);xa=Nb.jb(xa);xa=Nb.normalize(xa);return Mb.multiply(Ja,xa)}();$d.da(Ba,ua);La&&(La=$d.create(za,m),$d.da(La,Mb.create(0,1,0,0)),$d.aa(La,$d.getParent(Ba)),$d.aa(Ba,La));ua=Ba}b(ua);
g&&(La=W.getParent(l),Ba=$d.create(null,m),$d.aa(Ba,La),W.aa(l,Ba),La=$d.l(Ba),La.x=-La.x)}function k(){var ua=W.Od(va,!0)[0];b(ua)}function b(ua){function Ba(){W.Ea(l,!0);return Gd.clone(W.Qf(l))}var La=Gd.clone(W.l(l));null==W.getParent(l)&&0>La.z&&(Gd.set(W.l(l),La.x,La.y,-La.z),W.Ea(l,!0));var za=Ba();W.bd(l,La);W.aa(l,ua);(function(){var Wa=Ba();!1===Gd.Sb(za,Wa)&&(Gd.Gk(za,Wa),0>za.x&&(za.x=-za.x),0>za.y&&(za.y=-za.y),0>za.z&&(za.z=-za.z),Gd.Qc(W.l(l),za))})()}function d(){return Mb.create(fa.x,
fa.y,fa.z,Mb.hb(fa))}var l=a.get(),m=W.ra(l),n=e.xf,q=e.Ua,r=e=null,P=null,N=c.position,da=c.scale,fa=c.rotation;if(null!=n){var ma=W.Yf(l)[0];W.Ea(ma,!0);e=function(){if(null!=N)return Gd.create(N.x,N.y,N.z);var ua=W.Cd(ma);return Gd.clone(ua)}();r=null!=da?Gd.create(da.x,da.y,da.z):Gd.clone(W.Qf(ma));P=null!=fa?d():Gd.clone(W.$k(ma));W.aa(ma,null);Ze(l);l=ma;a.set(l);var pa=n}else pa="__root__",null!=N&&(e=Gd.create(N.x,N.y,N.z)),null!=da&&(r=Gd.create(da.x,da.y,da.z)),null!=fa&&(P=d());null!=e&&
W.setPosition(l,e);null!=r&&W.bd(l,r);null!=P&&W.da(l,P);var va=f.Lf;a=function(){var ua=W.l(va),Ba=ua.x,La=ua.y,za=ua.z;ua.x=f.Nf?-1:1;ua.y=f.Of?-1:1;ua.z=-1;return function(){ua.x=Ba;ua.y=La;ua.z=za}}();try{"__root__"===pa?k():h()}finally{a()}};We=function(a){return new Promise(function(f,e){dc({parentId:"d861f9f7-fc58-4ed6-a9f9-3a9f3cfa8516",name:a}).then(function(c){null==c||1!==c.length?e("Invalid action props asset"):(c=c[0],f({id:c.id,path:c.path}))})["catch"](function(c){e(c)})})};
Xe=function(a){var f=W.ra(a);f=$d.create(null,f);$d.l(f).x=-1;var e=W.getParent(a);$d.aa(f,e);W.aa(a,f)};var $e;
$e=function(a){function f(n){Ia(b)||Cc(b,{v:function(){return n.v()},$:function(q){var r=af.getName(q);r=r.substring(4);n.Cg(q,r)}})}function e(n){return f({v:function(){return!0},Cg:function(q,r){n(q,r)}})}function c(n){var q=null;f({v:function(){return null==q},Cg:function(r,P){P===n&&(q=r)}});return q}function g(n,q){var r=c(n);null!=r&&(r=bf.Rf(r),null!=r&&q(r))}function h(n,q){var r=cf.fd(q);bf.yh(n,r);bf.Oe(n,null)}var k={},b=[],d=function(){var n={},q=new Map;n.add=function(r){q.set(r,{Vi:bf.il(r),
Wi:bf.Rf(r)})};n.He=function(r){var P=q.get(r);if(null!=P){var N=P.Wi;bf.yh(r,P.Vi);bf.Oe(r,N)}};return n}(),l=nc();z(a,function(n){n=W.Ud(n);null!=n&&!1!==Ga(af.getName(n),"cth-")&&!1===l.sn(n)&&(l.nf(n),d.add(n),b.push(n))});var m=Gc(b,function(n){n=af.getName(n);return n=n.substring(4)});k.zp=function(n,q){g(n,function(r){df.Lh(r,q);df.Mh(r,q)})};k.xp=function(n,q){var r=c(n);null!=r&&h(r,q)};k.yp=function(n,q){g(n,function(r){var P=nd(q);df.Nh(r,P)})};k.Ap=function(n){e(function(q,r){var P=af.rl(q);
Ia(P)||z(P,function(N){var da=!1,fa=null,ma=null,pa=null!=n?n[r]:null;null!=pa&&(da=!0,fa=pa.color,fa=cf.fd(fa),ma=pa.width);W.Np(N,da);W.Ip(N,fa);W.Jp(N,ma)})})};k.pm=function(){return m};k.He=function(){Ia(b)||e(function(n){d.He(n)})};k.aj=function(n,q,r){return new Promise(function(P,N){var da=[];e(function(fa,ma){function pa(){var Ba=va.assetId,La=va.scale,za=va.rotation;da.push(new Promise(function(Wa,Ja){q(Ba).then(function(xa){return new Promise(function(ub,Kb){if(Ga(xa,ef.qc)){var wc=df.create(xa,
r);ub(wc)}else Uc(xa).then(function(fb){if(!1===fb.ok)Kb("response not ok");else return fb.blob()}).then(function(fb){fb=URL.createObjectURL(fb);fb=df.create(fb,r);ub(fb)})["catch"](function(fb){Kb(fb)})})}).then(function(xa){null!=La&&(df.Lh(xa,La),df.Mh(xa,La));if(null!=za){var ub=nd(za);df.Nh(xa,ub)}bf.Oe(fa,xa);Wa()})["catch"](function(xa){Ja(xa)})}))}var va=n[ma];if(null!=va){var ua=va.type;"color"===ua?h(fa,va.color):"image"===ua&&pa()}});Promise.all(da).then(function(){P()})["catch"](function(fa){N(fa)})})};
return k};function ff(a,f,e,c){this.Ka=a;this.a=f;this.ba=e;this.$m=c}p=ff.prototype;p.En=function(a){z(this.Ka,function(f){a(f)})};
p.vl=function(a){function f(m){if(!kc(W.getName(m),"_ColliderSphere")){var n=function(){if("function"===typeof m.zf)return m.zf();var q=W.Vb(m);return gf.zg(hf.Md(q))}();z(n,function(q){a.Wp(q,g);h>g.x&&(h=g.x);b<g.x&&(b=g.x);k>g.y&&(k=g.y);d<g.y&&(d=g.y)})}}function e(){var m=[];c.En(function(n){m.push(n);n=W.Xf(n,!1,function(q){return W.isEnabled(q)});!1===Ia(n)&&z(n,function(q){m.push(q)})});return m}var c=this,g=Gd.create(),h=1E10,k=1E10,b=-1E10,d=-1E10,l=this.Ka;this.$m&&(l=e());z(l,function(m){f(m)});
l={};l.x=h;l.y=k;l.width=b-h;l.height=d-k;return l};p.xa=function(){return Dd.xa(this.a)};p.qa=function(){return Dd.qa(this.a)};p.Ed=function(){return jf.Kc(this.qa())};p.$d=function(){return Dd.Jc(this.a)};p.zl=function(){var a=this.ba;return null==a?0:a.offsetLeft};p.Al=function(){var a=this.ba;return null==a?0:a.offsetTop};
p.Cc=function(){var a=kf.dd(this.Ed(),this.ba.clientWidth||1,this.ba.clientHeight||1),f=this.$d(),e=this.zl(),c=this.Al(),g=this.vl({Wp:function(h,k){var b=Nb.Ab();Gd.pi(h,b,f,a,k)}});g.x+=e;g.y+=c;return g};function lf(a,f,e,c){this.Ka=a;this.ma=f;this.a=e;this.ba=c;this.Ph=!1}p=lf.prototype;p.Qp=function(a){this.Ph=a};p.Fn=function(a){Hc(this.Ka,function(f){a(f)})};p.nh=function(){this.Fn(function(a){mf(a)})};p.ya=function(){return this.Ka[0]};p.fk=function(a,f){return new ff(a,this.a,this.ba,f)};p.vd=function(a,f){return this.fk(a,f).Cc()};p.xa=function(){return Dd.xa(this.a)};p.qa=function(){return Dd.qa(this.a)};p.Ed=function(){return jf.Kc(this.qa())};p.gl=function(){return jf.ee(this.qa(),void 0)};
p.fl=function(){return jf.Yd(this.qa(),void 0)};p.$d=function(){return Dd.Jc(this.a)};
p.F=function(){var a=this,f=a.ba.clientWidth,e=a.ba.clientHeight;if(0!==f&&0!==e){var c=this.ya(),g=this.ma.x,h=this.ma.y,k=this.ma.width,b=this.ma.height,d;(function(){a.nh();d=a.vd([c],!0);if(0!==d.width&&0!==d.height){var l=Math.min(k/d.width,b/d.height),m=W.l(c);m.x*=l;m.y*=l;m.z*=l}})();(function(){a.nh();d=a.vd([c],!0);var l=W.u(c),m=kf.dd(a.Ed(),f,e),n=a.$d();l=Gd.gd(l,Nb.Ab(),n,m);m=a.vd([c],!1);l=Gd.gf(Gd.create(g+k/2+(m.x+m.width/2-(d.x+d.width/2)),h+b+(m.y+m.height-(d.y+d.height)),l.z),
f,e,Nb.Ab(),a.gl(),a.fl());W.setPosition(c,l);if(!1===a.Ph){l=a.Ka;var q=W.fe(l[0]),r=1E10,P=1E10,N=1E10,da=-1E10,fa=-1E10,ma=-1E10;l.slice(1).forEach(function(ua){var Ba=W.Vb(ua);ua=hf.Yg(Ba);Ba=hf.Vg(Ba);ua.x<r&&(r=ua.x);ua.y<P&&(P=ua.y);ua.z<N&&(N=ua.z);Ba.x>da&&(da=Ba.x);Ba.y>fa&&(fa=Ba.y);Ba.z>ma&&(ma=Ba.z)});var pa=Gd.create(r,P,N),va=Gd.create(da,fa,ma);l.slice(1).forEach(function(ua){ua=W.Vb(ua);hf.po(ua,pa,va,q)})}})()}};var nf;nf=function(a,f,e,c,g){function h(){var b=gsap.to({progress:0},{progress:1,duration:.001,onStart:function(){g()},onComplete:function(){},onUpdate:function(){g()}});a.add(b,f-.001)}0<f&&h();var k=gsap.to({progress:0},{progress:1,duration:e,onStart:function(){c(k)},onComplete:function(){g()},onUpdate:function(){k?c(k):g()}});k.forceExitForTimeAheadOfCharacter=function(){g(!0)};return k};var fe,ge,he;he=function(a){return a instanceof of()?Dd.Gm(a,"node-for-metadata"):a instanceof pf()?(a=qf.ce(a),Ia(a)?null:Bc(a,function(f){return"node-for-metadata"===$d.Sd(f)})):null};fe=function(a){a=he(a);if(null==a)return null;a=$d.getMetadata(a);return null==a?null:ud(a)};ge=function(a,f){var e=he(a);null==e&&(e=$d.create("node-for-metadata",a),$d.tp(e,"node-for-metadata"));$d.Cp(e,f)};var ce,de,rf,sf,tf,uf;rf=function(a,f){var e=Aa.M(a);return Ia(e)?null:Bc(e,function(c){return f===Ca.getName(c)})};de=function(a){var f={};z(Aa.M(a),function(e){var c=Ca.J(e);c=Mb.Ma(c);f[Ca.getName(e)]={x:c.x,y:c.y,z:c.z}});return f};ce=function(a,f,e){null==e&&(e=!1);var c=void 0;a=sf(a,f);if(null!=a){if(e)return c=Ca.Hc(a),e=Gd.wi(),Nb.Wa(c,null,null,e),e.y;e=Ca.u(a);null!=e&&(c=e.y)}return c};tf=function(a){return"mixamorig:Hips"===Ca.getName(Aa.M(a)[0])};
uf=function(a){return"J_Bip_C_Hips"===Ca.getName(Aa.M(a)[1])};sf=function(a,f){if(a){if(null!=f){var e=self.BabylonJsBoneMapper.remapBoneName("mixamorig:Hips",f);if(null!=e&&(e=rf(a,e),null!=e))return e}var c=Aa.M(a);e=c[1];c=c[0];var g=Ca.getName(c);"root"===g&&"hips"===Ca.getName(e)?c=e:"Root"===g&&"J_Bip_C_Hips"===Ca.getName(e)&&(c=e);return c}};var Ze,mf,vf,wf,xf,yf;vf=function(a){var f=Dd.I(a);f=f.slice(0);Hc(f,function(e,c){null!=W.getParent(e)&&f.splice(c,1)});return f};wf=function(a,f){var e=W.Od(a,!0);if(!Ia(e)&&(e=W.getMetadata(e[0]),null!=e&&(e=ud(e),null!=e&&(e=e["z-index"],null!=e)))){a:{try{var c=JSON.parse(e);break a}catch(h){console.error(h)}c=null}if(null!=c){var g=function(){var h=Object.entries(c);h.sort(function(k,b){return k[1]-b[1]});return Gc(h,function(k){return k[0]})}();z(f,function(h){W.To(h,g.indexOf(W.getName(h)))})}}};
Ze=function(a){W.b(a);var f=W.mg(a);null!=f&&zf.b(f);a=W.Ud(a);null!=a&&af.b(a,!0,!0)};xf=function(a){return a instanceof self.BABYLON.Mesh};mf=function(a){W.Ea(a,!0)};yf=function(a,f){function e(h){z(a,function(k,b){h(k,b)})}var c=null,g=[];e(function(h){var k=W.Vb(h);h=W.fe(h);k=hf.create(hf.Yg(k),hf.Vg(k),h);g.push(k)});try{e(function(h){W.qo(h,!0)}),c=f()}finally{e(function(h,k){W.cp(h,g[k])})}return c};self.VpBabylonJsMeshUtils={setMeshesAlphaIndices:wf};var Af;Af=function(a,f){var e=function(g){var h=Nb.hi(f,Nb.Td());var k=Gd.create(0,0,1);h=Gd.ff(k,h);return Gd.scale(h,g)}(10),c=function(){var g=$d.Ea(Ca.ta(a),void 0,void 0),h=Gd.create();Nb.Wa(g,null,null,h);return h}();return Gd.add(c,e)};var Bf;
(function(){Bf=function(f,e){if(0===f.length)return[e];var c=e.startTime,g=e.endTime,h=[],k=[],b=[];f.reduce(function(m,n){n.endTime<c?m.oq.push(n):n.startTime>g?m.On.push(n):m.Rn.push(n);return m},{oq:h,On:b,Rn:k});var d=0,l=[];k.forEach(function(m,n){m.endTime===g&&m.startTime===c?d=n:m.startTime<c&&m.endTime>=c?(l.push(Object.assign({},m,{endTime:c})),d=n+1):m.endTime>=g&&m.startTime<=g&&l.push(Object.assign({},m,{startTime:g}))});l.splice(d,0,e);return h.concat(l,b)};var a={};self.HandPropsUtils=(a.normalizedHandPropsInfo=
Bf,a)})();var Md,Xd,Yd,Cf,Df,Ef,Ff,Gf,Hf,If,Rf,Sf;Cf=function(a){return"pixar-man"===a?!0:ef.isNonMixamoBasedFamily(a)?!1:!0};Df=function(a){return"adventurer_mage_ua"===a||"pixar-man"===a?!0:!1};Ef=function(a,f,e){"adventurer_mage_ua"===e&&(f.jh=function(){var c={},g=[];c.add=function(h){g.push(h)};c.s=function(h){z(g,function(k){W.s(k,h)})};return c}(),z(a,function(c){var g=W.getParent(c);null!=g&&Ga(je.getName(g),"handslot.")&&f.jh.add(c)}))};Xd=function(a){return"vroid"===a};
Yd=function(a){return"webaverse"===a};Ff=function(a){return"mixamo"===a};Gf=function(a){return"readyplayerme_female"===a||"readyplayerme_male"===a};Hf=function(a){return"uavatar"===a};If=function(a){return"vroid"===a||"webaverse"===a?a:Rf(a)};Rf=function(a){return ef.isNonMixamoBasedFamily(a)?a:"mixamo"};Md=function(a,f){return"vroid"===f?a+Math.PI:a};Sf=function(a,f){var e=qf.I(a);null!=e&&e.map(function(c){c=W.Ud(c);null!=c&&null==c.characterFamilyName&&(c.characterFamilyName=f)})};
self.CharacterFamilyUtils={validateRotation:Md};var Tf,Uf,Vf;Tf=function(a){return.01*a};Uf=function(){var a={},f={};a.set=function(e,c){f[String(e)]=c};a.get=function(e){return f[String(e)]};return a};Vf=function(a,f,e){var c=V.g(a);z(c,function(g){var h=g.frame;z(f,function(k){h<=k&&e.set(k,g)})});z(f,function(g){var h=e.get(g);h.frame!==g&&(h=V.H(a,g),h=c[h],e.set(g,h))})};var we,Wf,Xf;Wf=function(a,f){return self.jsondiffpatch.diff(a,f)};we=function(a,f){return self.jsondiffpatch.patch(a,f)};Xf=function(a){var f={},e=!1,c=!1;f.start=function(){return new Promise(function(g,h){e?h("Session already started"):c?h("Session already ended"):(e=!0,g())})};f.end=function(g){return new Promise(function(h,k){if(!1===e)k("Session not yet started");else if(c)k("Session already ended");else{e=!1;c=!0;var b=Wf(a,g);h(b)}})};return f};!function(a,f,e){function c(q,r,P){function N(){for(var ma=fa.Bc(6),pa=d,va=0;ma<l;)ma=256*(ma+va),pa*=256,va=fa.Bc(1);for(;m<=ma;)ma/=2,pa/=2,va>>>=1;return(ma+va)/pa}var da=[];q=k(function ua(pa,va){var Ba,La=[],za=typeof pa;if(va&&"object"==za)for(Ba in pa)try{La.push(ua(pa[Ba],va-1))}catch(Wa){}return La.length?La:"string"==za?pa:pa+"\x00"}((r=1==r?{Nk:!0}:r||{}).Nk?[q,b(f)]:null==q?function(){try{var pa;return n&&(pa=n.Xq)?pa=pa(256):(pa=new Uint8Array(256),(a.crypto||a.msCrypto).getRandomValues(pa)),
b(pa)}catch(va){return pa=a.navigator,[+new Date,a,pa&&pa.plugins,a.screen,b(f)]}}():q,3),da);var fa=new g(da);return N.Sq=function(){return 0|fa.Bc(4)},N.kh=function(){return fa.Bc(4)/4294967296},N.quick=N.kh,N.Hq=N,k(b(fa.Ob),f),(r.Wq||P||function(pa,va,ua,Ba){return Ba&&(Ba.Ob&&h(Ba,fa),pa.state=function(){return h(fa,{})}),ua?(e.random=pa,va):pa})(N,q,"global"in r?r.global:this==e,r.state)}function g(q){var r,P=q.length,N=this,da=0,fa=N.Lc=N.Pc=0,ma=N.Ob=[];for(P||(q=[P++]);256>da;)ma[da]=da++;
for(da=0;256>da;da++)ma[da]=ma[fa=255&fa+q[da%P]+(r=ma[da])],ma[fa]=r;(N.Bc=function(pa){for(var va,ua=0,Ba=N.Lc,La=N.Pc,za=N.Ob;pa--;)va=za[Ba=255&Ba+1],ua=256*ua+za[255&(za[Ba]=za[La=255&La+va])+(za[La]=va)];return N.Lc=Ba,N.Pc=La,ua})(256)}function h(q,r){return r.Lc=q.Lc,r.Pc=q.Pc,r.Ob=q.Ob.slice(),r}function k(q,r){for(var P,N=q+"",da=0;da<N.length;)r[255&da]=255&(P^=19*r[255&da])+N.charCodeAt(da++);return b(r)}function b(q){return String.fromCharCode.apply(0,q)}var d=e.pow(256,6),l=e.pow(2,
52),m=2*l;if(k(e.random(),f),"object"==typeof module&&module.Ok){module.Ok=c;try{var n=require("crypto")}catch(q){}}else"function"==typeof define&&define.Dq?define(function(){return c}):e.seedrandom=c}("undefined"!=typeof self?self:this,[],Math);function Yf(a,f,e,c,g,h,k,b,d,l,m,n,q,r){this.xk=function(){if(1===a.length)return a;a=a.slice(0);var P=[Zf,$f,ag];a.sort(function(N,da){var fa=P.indexOf(N.type),ma=P.indexOf(da.type);return 0>fa||0>ma?0:fa-ma});return a}();this.h=f;this.ge=e;this.i=c;this.o=g;this.pa=h;this.R=k;this.na=b;this.Qa=d;this.cb=l;this.Ha=ef.fa;this.Ia=ef.ea;this.yb=!1;this.speed=ef.bi;this.eb=m;this.mb=n;this.rc=q;this.a=r}var Zf,$f,ag;$f="poseOffset";ag="handProps";Zf="motionMixer";p=Yf.prototype;
p.Yc=function(a){this.yb=a};p.qb=function(a){this.Ha=a};p.pb=function(a){this.Ia=a};p.Kb=function(a){this.speed=a};p.Fa=function(a,f,e){return this.o.Fa?this.o.Fa(a,f,e):Promise.resolve()};p.L=function(a){return this.o.L(a)};p.kb=function(a,f,e){return this.o.kb(a,f,e)};p.Yj=function(a){var f=a.type;return f===$f?new bg(a,this.h,this.i):f===ag?new cg(a,this.ge):f===Zf?this.gk(a):null};
p.gk=function(a){var f=this;return new dg(a,this.h,this.i,{kb:function(e,c,g){return f.kb(e,c,g)},Fa:function(e,c,g){return f.Fa(e,c,g)},L:function(e){return f.L(e)},Na:function(e){return f.Na(e)},Pa:function(e){return f.Pa(e)}},this.pa,this.R,this.na,this.Qa,this.cb,this.Ha,this.Ia,this.speed,this.eb,this.mb,this.rc,this.a,this.yb)};p.Pa=function(a){return this.o.Pa(a)};p.Na=function(a){return this.o.Na(a)};
p.F=function(){var a=this;return new Promise(function(f,e){function c(){b===k?f():g().then(function(){b++;c()})["catch"](function(d){e(d)})}function g(){return new Promise(function(d,l){var m=a.Yj(h[b]);null==m?d():m.F().then(function(){d()})["catch"](function(n){l(n)})})}var h=a.xk,k=h.length,b=0;c()})};function bg(a,f,e){this.eh=a;this.h=f;this.i=e}p=bg.prototype;p.ph=function(a){return self.BabylonJsBoneMapper.remapBoneName(a,this.i)};p.Oa=function(a){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(a,this.i)};p.im=function(){return this.eh.lockedBoneRotations};p.Ld=function(){return this.eh.boneRotations};p.j=function(){return U.j(this.h)};
p.uj=function(){var a={},f={};z(this.j(),function(e){if("rotationQuaternion"===V.B(Ea.f(e))){var c=Ea.m(e).name;f[c]=e}});a.yg=function(e){return f[e]};return a};p.Vo=function(a){this.h.Zi=a};p.rn=function(a){return"mixamorig:Hips"===this.Oa(a)};
p.F=function(){var a=this;return new Promise(function(f){var e=a.Ld(),c=a.im();if(null!=e||null!=c){var g=a.uj(),h=function(){Da(e,function(b,d){if(null==c||null==c[b]){var l=g.yg(b);if(null!=l){l=V.g(Ea.f(l));var m=Mb.create(d.x,d.y,d.z,d.w);z(l,function(n,q){var r=n.value,P=jd(r,m);n.value=P;0===q&&a.rn(b)&&a.Vo({fo:r,No:m,Lo:P})})}}})},k=function(){Da(c,function(b,d){var l=g.yg(b);if(null!=l){l=V.g(Ea.f(l));var m=d.x,n=d.y,q=d.z,r=d.w;z(l,function(P){P.value=Mb.create(m,n,q,r)})}})};null!=e&&h();
null!=c&&k()}f()})};function cg(a,f){this.Rm=a;this.ge=f}cg.prototype.F=function(){var a=this;return new Promise(function(f){var e=a.Rm;a.ge.rd(e.left,e.right);f()})};function dg(a,f,e,c,g,h,k,b,d,l,m,n,q,r,P,N,da){this.Sn=a;this.h=f;this.i=e;this.o=c;this.pa=g;this.R=h;this.na=k;this.Qa=b;this.cb=d;this.Ha=l||ef.fa;this.Ia=m||ef.ea;this.speed=n;this.eb=q;this.mb=r;this.rc=P;this.a=N;this.yb=da}
(function(){function a(e){var c=[];z(e,function(g){var h=g.playCount;if(null!=h&&1<h){var k=g.repeatBlendDuration;null==k&&(k=0);for(var b=0,d=g.duration,l=d/(g.speed||1),m=!0;0<h;){var n=1<h?1:h,q=d*n,r=l*n,P=xc(g);P.startTime+=b;P.duration=q;m?m=!1:P.blendDuration=k;h-=n;b+=r;c.push(P)}}else c.push(g)});return c}function f(){function e(h,k){g[h]=k}var c={},g={};e("upper-body",["Spine","Spine1","Spine2","LeftShoulder","RightShoulder"]);e("head",["Neck","Head","HeadTop_End"]);e("left-upper-arm",["LeftArm"]);
e("right-upper-arm",["RightArm"]);e("left-forearm","LeftForeArm LeftHand LeftHandThumb1 LeftHandThumb2 LeftHandThumb3 LeftHandThumb4 LeftHandIndex1 LeftHandIndex2 LeftHandIndex3 LeftHandIndex4 LeftHandMiddle1 LeftHandMiddle2 LeftHandMiddle3 LeftHandMiddle4 LeftHandRing1 LeftHandRing2 LeftHandRing3 LeftHandRing4 LeftHandPinky1 LeftHandPinky2 LeftHandPinky3 LeftHandPinky4".split(" "));e("right-forearm","RightForeArm RightHand RightHandThumb1 RightHandThumb2 RightHandThumb3 RightHandThumb4 RightHandIndex1 RightHandIndex2 RightHandIndex3 RightHandIndex4 RightHandMiddle1 RightHandMiddle2 RightHandMiddle3 RightHandMiddle4 RightHandRing1 RightHandRing2 RightHandRing3 RightHandRing4 RightHandPinky1 RightHandPinky2 RightHandPinky3 RightHandPinky4".split(" "));
e("legs","Hips LeftUpLeg RightUpLeg LeftLeg LeftFoot LeftToeBase LeftToe_End RightLeg RightFoot RightToeBase RightToe_End".split(" "));c.vm=function(h){var k={},b={};z(h,function(d){d=g[d];!1===Ia(d)&&z(d,function(l){b["mixamorig:"+l]=!0})});k.contains=function(d){return!0===b[d]};return k};return c}dg.prototype.Af=function(){return Tf(this.pa)};dg.prototype.j=function(){return U.j(this.h)};dg.prototype.Ga=function(){return U.W(this.h)};dg.prototype.sa=function(){return U.A(this.h)};dg.prototype.S=
function(e){return e*this.pa};dg.prototype.xb=function(e){return e/this.pa};dg.prototype.kj=function(){var e=this,c={},g={};z(this.j(),function(h){if(!1!==e.Kg(h)){var k=Ea.m(h).name+"\n"+V.B(Ea.f(h));g[k]=h}});c.Em=function(h,k){return g[h+"\n"+k]};return c};dg.prototype.Oa=function(e){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(e,this.i)};dg.prototype.Fa=function(e,c,g){return this.o.Fa?this.o.Fa(e,c,g):Promise.resolve()};dg.prototype.kb=function(e,c,g){return this.o.kb(e,c,g)};dg.prototype.Kg=
function(e){var c=V.B(Ea.f(e)),g;if(!(g="rotationQuaternion"===c)){if(c="position"===c)e=Ea.m(e).name,c="mixamorig:Hips"===this.Oa(e);g=c}return g?!0:!1};dg.prototype.Vk=function(e){qe(e,this.i)};dg.prototype.Zn=function(){U.normalize(this.h,this.Ga(),this.sa())};dg.prototype.qk=function(e){return new ee(this.na,this.R,e,this.Qa,this.cb,this.i,this.a)};dg.prototype.L=function(e){return this.o.L(e)};dg.prototype.Pa=function(e){return this.o.Pa(e)};dg.prototype.Na=function(e){return this.o.Na(e)};dg.prototype.od=
function(e){this.rc.od(e)};dg.prototype.pd=function(e){this.rc.pd(e)};dg.prototype.nk=function(){return eg().Zc(this.yb).ha()};dg.prototype.Vj=function(){return fg(this.eb,this.i,this.R).Xc(this.yb).ha()};dg.prototype.F=function(){var e=this;return new Promise(function(c,g){var h=e.Sn.actions;if(Ia(h))c();else{var k=e.speed;h=a(h);var b=e.kj(),d=f(),l=e.Ga(),m=e.sa(),n=e.xb(e.Ha*m),q=h.length,r=0,P=function(){return new Promise(function(da,fa){var ma=h[r],pa=ma.speed||1,va=m/k,ua=ma.assetId,Ba=ma.assetPath,
La=ma.assetType,za;(function(){return new Promise(function(Wa,Ja){var xa=function(){return{L:function(Fb){return e.L(Fb)},Cb:function(){return null},Bb:function(){return null}}}(),ub=e.Vj(),Kb=e.nk(),wc=function(){var Fb=ma.duration,rc=ma.startRatio,bc=ma.endRatio,Dc=ma.speed;return gg(Ba).Vc(Fb).qb(rc).pb(bc).Kb(Dc).ha()}(),fb=new hg(xa,ub,e.mb,wc,e.a,Kb,e.h);fb.nd=function(Fb){e.Na(Fb)};fb.Eb().then(function(){function Fb(bc){e.od({propInfoList:bc,startTime:ma.startTime,duration:ma.duration/pa,
startRatio:ma.startRatio,endRatio:ma.endRatio,speed:pa})}if(fb.qe())Fb([]);else{var rc=e.Pa(fb.ab);Fb(rc);rc=fb.Aa;null!=rc&&e.pd(rc)}Wa()})["catch"](function(Fb){Ja(Fb)})})})().then(function(){var Wa=ma.startTime;Wa+=n;var Ja=ma.duration,xa=ma.startRatio||ef.fa,ub=ma.endRatio||ef.ea,Kb=!1;ef.isSingleFrameAction(Ja,ma.playCount||1,xa,ub)&&ma.repeatDuration&&0<ma.repeatDuration&&(Ja=ma.repeatDuration,Kb=!0);var wc=Wa+Ja/pa,fb=ma.blendDuration,Fb=ma.blendOutDuration,rc=ma.inPlace,bc=e.S(Wa)*k,Dc=e.S(wc);
if(0>Dc||bc>m)da();else{var hd=e.S(Ja);za=function(Nd){return new Promise(function(Od){function Pd(){var Ec=qf.ca(Nd)[0];e.yb&&e.Vk(Ec);if(Kb){var x=U.A(Ec),ca=e.S(Ja);ca!==x&&U.normalize(Ec,null,ca)}if(xa!==ef.fa||ub!==ef.ea)Ec=te(Ec,xa,ub);x=e.qk(Ec);x.Jb(rc);x.ob();var qa=d.vm(ma.overrideBodyParts);z(U.j(Ec),function(G){if(!1!==e.Kg(G)){var ka=Ea.m(G).name,wa=e.Oa(ka);if(qa.contains(wa)){var Oa=Ea.f(G);G=b.Em(ka,V.B(Oa));if(null!=G){var na=Ea.f(G),ha=V.g(na);(function(){var ba=bc;null!=fb&&0<fb&&
(ba-=e.S(fb*k));0>ba&&(ba=0);if(0<ba){var ea=ba-1;0>ea&&(ea=ba/2);V.H(na,ea)}ea=Dc*k;null!=Fb&&0<Fb&&(ea+=e.S(Fb*k));ea>m&&(ea=m);if(ea<m){var oa=ea+1;oa>m&&(oa=ea+(m-ea)/2);V.H(na,oa)}ba=ba<=l?Math.min(l+e.Af(),m):ba;ea=ea>m?m:ea;ba=V.H(na,ba);ea=V.H(na,ea);ha.splice(ba,ea-ba+1)})();(function(){var ba=bc+hd>va?va-bc:hd,ea=V.H(Oa,0>bc?-bc:0);ba=V.H(Oa,ba);var oa=V.g(Oa);ba>=oa.length&&(ba=oa.length-1);for(var gc,lb,mb=ea;mb<=ba;mb++){var $a=oa[mb];ea=function(){var rb=$a.frame;rb/=pa/k;return rb+=
bc}();0<=ea&&($a.frame=ea,null==gc&&(gc=ea),lb=ea,ha.push($a))}null!=lb&&15>lb-gc&&(gc=ha[ha.length-1],ea=gc.frame,lb=ea+e.Af(),lb<m&&ha.push({frame:lb,value:gc.value.clone()}));ha.sort(function(rb,gb){return rb.frame-gb.frame})})();V.H(na,l);V.H(na,m)}}}})}try{Pd(),Od()}finally{qf.b(Nd)}})};return e.Fa(ua,Ba,La)}}).then(function(){return e.kb(ua,Ba,La)}).then(function(Wa){return za(Wa)}).then(function(){da()})["catch"](function(Wa){fa(Wa)})})},N=function(){r===q?(e.Zn(),c()):P().then(function(){r++;
N()})["catch"](function(da){g(da)})};N()}})}})();function ig(){this.Pb=[];this.Aa=[]}ig.prototype.od=function(a){this.Pb.push(a)};ig.prototype.pd=function(a){this.Aa=this.Aa.concat(a)};function jg(a,f,e,c){this.Pk=a;this.i=f;this.xj=e;this.h=c}p=jg.prototype;p.Nn=function(){var a=this;return new Promise(function(f,e){function c(){return new Promise(function(d,l){h.ag(k).then(function(m){d(m)})["catch"](function(m){l(m)})})}function g(){c().then(function(d){f(d)})["catch"](function(d){e(d)})}var h=kg(null);if(null==h)e("expressionDataProvider is null");else{var k=a.i,b=a.Pk;null==b?g():h.Ml(k,b).then(function(d){null==d?g():f(d)})["catch"](function(d){e(d)})}})};p.Oc=function(a){this.xj.Oc(a)};
p.Ga=function(){return U.W(this.h)};p.sa=function(){return U.A(this.h)};p.ka=function(a,f){U.ka(this.h,a,f)};p.F=function(){var a=this;return new Promise(function(f,e){a.Nn().then(function(c){if(null!=c){var g=a.Ga(),h=a.sa();a.Oc(function(k,b){var d=c[b]||0;var l=ef.FRAME_PER_SECOND;var m=V.Hd();l=V.create(null,"influence",l,m,void 0,!1);d=[Tb(g,d),Tb(h,d)];V.va(l,d);a.ka(l,k)})}f()})["catch"](function(c){e(c)})})};var Zd,Ye,lg;
Zd={"mixamorig:Hips":{w:1,x:0,y:0,z:0},"mixamorig:Spine":{w:.998872697353363,x:-.04746820405125618,y:0,z:0},"mixamorig:Spine1":{w:1,x:2.1097040558970548E-8,y:0,z:0},"mixamorig:Spine2":{w:1,x:7.569126658779624E-9,y:0,z:0},"mixamorig:Neck":{w:.998872697353363,x:.04746817797422409,y:0,z:0},"mixamorig:Head":{w:1,x:-7.583881078687682E-9,y:0,z:0},"mixamorig:HeadTop_End":{w:1,x:0,y:0,z:0},"mixamorig:LeftShoulder":{w:.4278925955295563,x:.5515261888504028,y:.43880894780158997,z:-.5658388137817383},"mixamorig:LeftArm":{w:.9920223355293274,
x:-.125372514128685,y:.004955745302140713,z:.012202877551317215},"mixamorig:LeftForeArm":{w:.9999964237213135,x:8.470238954672027E-10,y:-.0026698021683841944,z:9.274628176569877E-9},"mixamorig:LeftHand":{w:.9977802634239197,x:.0066401222720742226,y:.03733958676457405,z:-.05473822355270386},"mixamorig:LeftHandThumb1":{w:.9506223201751709,x:.2108687460422516,y:.08467505872249603,z:.21138043701648712},"mixamorig:LeftHandThumb2":{w:.9963324069976807,x:4.051882424391806E-4,y:-.004288762342184782,z:.08545885235071182},
"mixamorig:LeftHandThumb3":{w:.9902259707450867,x:-6.312281475402415E-4,y:-.004795566666871309,z:.13938869535923004},"mixamorig:LeftHandThumb4":{w:1,x:-3.508102253135803E-8,y:9.685754776000977E-8,z:-1.1693678914070915E-8},"mixamorig:LeftHandIndex1":{w:.9983327984809875,x:-.008668413385748863,y:-2.5904594804160297E-4,z:.05706537142395973},"mixamorig:LeftHandIndex2":{w:.9999904036521912,x:3.6043030604560045E-7,y:5.255775249679573E-5,z:-.004383080173283815},"mixamorig:LeftHandIndex3":{w:.9999998211860657,
x:-1.1855897810164606E-6,y:2.3420894649461843E-5,z:5.466053262352943E-4},"mixamorig:LeftHandIndex4":{w:1,x:1.7403537378585243E-12,y:9.313224635931761E-10,z:1.6208305219356807E-21},"mixamorig:LeftHandMiddle1":{w:.9983265399932861,x:-.00867488794028759,y:-1.2975693971384317E-4,z:.05717437341809273},"mixamorig:LeftHandMiddle2":{w:.9999877214431763,x:1.3929708302384824E-6,y:4.846076626563445E-5,z:-.00495553994551301},"mixamorig:LeftHandMiddle3":{w:.9999988079071045,x:-1.5046884982439224E-6,y:8.84056935319677E-5,
z:.0015294429613277316},"mixamorig:LeftHandMiddle4":{w:1,x:-4.582888755988446E-12,y:-1.862645149230957E-9,z:3.9770156612384255E-10},"mixamorig:LeftHandRing1":{w:.9985055327415466,x:-.008352326229214668,y:-.005954119376838207,z:.05367999151349068},"mixamorig:LeftHandRing2":{w:.9999991059303284,x:-1.0474824421180529E-6,y:-9.117454465012997E-5,z:-.0013388805091381073},"mixamorig:LeftHandRing3":{w:.9999831318855286,x:1.5274671341103385E-6,y:-1.96895984117873E-4,z:.005800379440188408},"mixamorig:LeftHandRing4":{w:1,
x:1.4760295416471614E-11,y:0,z:1.6230381483239853E-9},"mixamorig:LeftHandPinky1":{w:.9984472393989563,x:-.008452647365629673,y:-.00425378605723381,z:.054895974695682526},"mixamorig:LeftHandPinky2":{w:.9999937415122986,x:-4.038021472752007E-7,y:-2.1630027913488448E-4,z:-.003530306275933981},"mixamorig:LeftHandPinky3":{w:.9999786615371704,x:5.258552846498787E-7,y:-4.3696727516362444E-5,z:.006536003202199936},"mixamorig:LeftHandPinky4":{w:1,x:-8.13862345572236E-12,y:1.862645371275562E-9,z:-7.692878001286374E-10},
"mixamorig:RightShoulder":{w:.42824989557266235,x:.5520950555801392,y:-.43836450576782227,z:.5653579831123352},"mixamorig:RightArm":{w:.9920229315757751,x:-.12545767426490784,y:-.0048871892504394054,z:-.011269839480519295},"mixamorig:RightForeArm":{w:.9999970197677612,x:2.53465665123187E-10,y:.0024429485201835632,z:-2.7857820494858743E-9},"mixamorig:RightHand":{w:.9979417324066162,x:.013079379685223103,y:-.0385211780667305,z:.04957203567028046},"mixamorig:RightHandThumb1":{w:.9525074362754822,x:.203809916973114,
y:-.08618967235088348,z:-.20919474959373474},"mixamorig:RightHandThumb2":{w:.9935000538825989,x:1.9399829034227878E-4,y:.003167405491694808,z:-.11378810554742813},"mixamorig:RightHandThumb3":{w:.9986008405685425,x:-1.2691935990005732E-4,y:.0011996077373623848,z:-.052867621183395386},"mixamorig:RightHandThumb4":{w:1,x:-3.5541990683896074E-8,y:2.2351741790771484E-8,z:-7.944254249662303E-16},"mixamorig:RightHandIndex1":{w:.9985501170158386,x:-.01494995690882206,y:6.461840239353478E-4,z:-.051707908511161804},
"mixamorig:RightHandIndex2":{w:.9999917149543762,x:9.585432962921914E-7,y:-8.157760021276772E-5,z:.004064858425408602},"mixamorig:RightHandIndex3":{w:.9999999403953552,x:-8.640598139209033E-7,y:1.5767293007229455E-5,z:3.0760481604374945E-4},"mixamorig:RightHandIndex4":{w:1,x:2.4564131111126652E-12,y:0,z:0},"mixamorig:RightHandMiddle1":{w:.9986010789871216,x:-.0149061419069767,y:.0015795007348060608,z:-.05070759356021881},"mixamorig:RightHandMiddle2":{w:.999993622303009,x:1.3764935147264623E-6,y:1.815974246710539E-5,
z:.0035819390323013067},"mixamorig:RightHandMiddle3":{w:.9999979138374329,x:-1.2704208529612515E-6,y:-6.887859490234405E-5,z:-.0020491546019911766},"mixamorig:RightHandMiddle4":{w:1,x:-2.0672534864485392E-12,y:0,z:-2.544311983321279E-10},"mixamorig:RightHandRing1":{w:.9986846446990967,x:-.014642230235040188,y:.006872705649584532,z:-.04865517467260361},"mixamorig:RightHandRing2":{w:.9999992847442627,x:1.2899932926302426E-6,y:6.182301149237901E-5,z:.0012003955198451877},"mixamorig:RightHandRing3":{w:.9999909996986389,
x:-1.1895832585651078E-6,y:8.950767369242385E-5,z:-.004237991292029619},"mixamorig:RightHandRing4":{w:1,x:1.939939311620953E-12,y:0,z:-1.986497771833129E-10},"mixamorig:RightHandPinky1":{w:.9985767602920532,x:-.014797168783843517,y:.003859465243294835,z:-.05109375715255737},"mixamorig:RightHandPinky2":{w:.9999899864196777,x:-1.791126123862341E-6,y:4.416379670146853E-5,z:.00447008665651083},"mixamorig:RightHandPinky3":{w:.9999967217445374,x:-1.1846174174934276E-6,y:-1.3540270447265357E-4,z:-.0025576262269169092},
"mixamorig:RightHandPinky4":{w:1,x:-1.0854180374593111E-13,y:0,z:-1.389335035906214E-10},"mixamorig:LeftUpLeg":{w:.008537337183952332,x:.0034817124251276255,y:.041486866772174835,z:-.9990965127944946},"mixamorig:LeftLeg":{w:.9998201727867126,x:.005689653567969799,y:-9.921710443450138E-5,z:-.01809167116880417},"mixamorig:LeftFoot":{w:.8496170043945312,x:.5166261792182922,y:-.06570420414209366,z:.08325472474098206},"mixamorig:LeftToeBase":{w:.9556435346603394,x:.2925143837928772,y:-.03285763040184975,
z:.010057476349174976},"mixamorig:LeftToe_End":{w:1,x:-1.1271390931710812E-8,y:1.1641533959050321E-8,z:-1.5028520650162136E-8},"mixamorig:RightUpLeg":{w:.008525162003934383,x:.003605467965826392,y:-.042979683727025986,z:.9990330934524536},"mixamorig:RightLeg":{w:.9998337626457214,x:.0021865705493837595,y:3.4629807487362996E-5,z:.018103253096342087},"mixamorig:RightFoot":{w:.8444916605949402,x:.525370180606842,y:.06300411373376846,z:-.08276784420013428},"mixamorig:RightToeBase":{w:.9569758176803589,
x:.2874320447444916,y:.03807004541158676,z:-.011434516869485378},"mixamorig:RightToe_End":{w:1,x:-2.2529473397980837E-8,y:-8.754429359214555E-8,z:8.260809636340127E-8}};
Ye={"mixamorig:Hips":{c:1,x:0,y:0,z:0},"mixamorig:Spine":{c:.9988727623756081,x:-.047468086310256626,y:0,z:0},"mixamorig:Spine1":{c:.9988727623756081,x:-.047468086310256626,y:0,z:0},"mixamorig:Spine2":{c:.9988727623756081,x:-.047468086310256626,y:0,z:0},"mixamorig:Neck":{c:1,x:3.708502616106557E-9,y:0,z:0},"mixamorig:Head":{c:1,x:3.708502616106557E-9,y:0,z:0},"mixamorig:HeadTop_End":{c:1,x:3.708502616106557E-9,y:0,z:0},"mixamorig:LeftShoulder":{c:-.4524719942482324,x:-.5313765940925935,y:-.4104429450328143,
z:.5868941472684575},"mixamorig:LeftArm":{c:-.492055192665323,x:-.4774895844206699,y:-.4768149830198854,z:.5500300184505597},"mixamorig:LeftForeArm":{c:.5465620959410201,x:.4835191673678029,y:.4677034568001016,z:-.4987313046345702},"mixamorig:LeftHand":{c:.46983579086102145,x:.5589961256635512,y:.48899969498709506,z:-.47713429324907786},"mixamorig:LeftHandThumb1":{c:.4701317292812204,x:.7569817827044008,y:.25830013419642417,z:-.3731433077440103},"mixamorig:LeftHandThumb2":{c:.4352266007724008,x:.7775754583254206,
y:.24106640061439694,z:-.38450138773511866},"mixamorig:LeftHandThumb3":{c:.46343350410701617,x:.7611014628151692,y:.2549972436065243,z:-.3754070850142933},"mixamorig:LeftHandThumb4":{c:.46343350410701617,x:.7611014628151692,y:.2549972436065243,z:-.3754070850142933},"mixamorig:LeftHandIndex1":{c:.4942492382271149,x:.6009908210791127,y:.4399097186120541,z:-.4483384003210124},"mixamorig:LeftHandIndex2":{c:.45617758166839195,x:.6303763740253394,y:.4113721185104324,z:-.47465857432790126},"mixamorig:LeftHandIndex3":{c:.46112207078395706,
x:.6267686822126399,y:.41509307532443707,z:-.47140781524201314},"mixamorig:LeftHandIndex4":{c:.46112207078395706,x:.6267686822126399,y:.41509307532443707,z:-.47140781524201314},"mixamorig:LeftHandMiddle1":{c:.46908863735009537,x:.5615635998502309,y:.48625467840374814,z:-.47765962917236277},"mixamorig:LeftHandMiddle2":{c:.4123214797876316,x:.6044744032922962,y:.43755608254644607,z:-.5226341765810011},"mixamorig:LeftHandMiddle3":{c:.4303647294834545,x:.5917637378240606,y:.45311966563591755,z:-.5091999131474596},
"mixamorig:LeftHandMiddle4":{c:.4303647294834545,x:.5917637378240606,y:.45311966563591755,z:-.5091999131474596},"mixamorig:LeftHandRing1":{c:.41442734019794536,x:.5833572354149118,y:.4603685291687403,z:-.5253620713288362},"mixamorig:LeftHandRing2":{c:.3964368476349906,x:.5957294126088527,y:.444125966640844,z:-.5391628539486092},"mixamorig:LeftHandRing3":{c:.47174057835660854,x:.5380676529507209,y:.5115296850249997,z:-.47569065679024036},"mixamorig:LeftHandRing4":{c:.47174057835660854,x:.5380676529507209,
y:.5115296850249997,z:-.47569065679024036},"mixamorig:LeftHandPinky1":{c:.4265830638488518,x:.5755027279803665,y:.4702514575804616,z:-.5154485690079252},"mixamorig:LeftHandPinky2":{c:.37947436502670334,x:.6075983094060412,y:.42777941438305717,z:-.5512063383898093},"mixamorig:LeftHandPinky3":{c:.4649028726960382,x:.5450153031464567,y:.5043666441279466,z:-.48211835018953797},"mixamorig:LeftHandPinky4":{c:.4649028726960382,x:.5450153031464567,y:.5043666441279466,z:-.48211835018953797},"mixamorig:RightShoulder":{c:.4528556966437849,
x:.5319281039995847,y:-.41001949986102215,z:.5863943822111105},"mixamorig:RightArm":{c:.4924558102182281,x:.4779788094891449,y:-.4763976717759121,z:.5496079887475681},"mixamorig:RightForeArm":{c:.5439673638454077,x:.4810716920920789,y:-.4707303728693767,z:.5010816921021266},"mixamorig:RightHand":{c:.4743445264329566,x:.5636524210300324,y:-.48532590011889226,z:.4709057278109279},"mixamorig:RightHandThumb1":{c:.4784029667031614,x:.7623687367332884,y:-.25020156009679956,z:.3568247057061887},"mixamorig:RightHandThumb2":{c:.4385907430219486,
x:.7859472825899536,y:-.23153308843523612,z:.3692121602957299},"mixamorig:RightHandThumb3":{c:.44754351965504374,x:.7808838272273615,y:-.23573693498887502,z:.3665426294874786},"mixamorig:RightHandThumb4":{c:.44754351965504374,x:.7808838272273615,y:-.23573693498887502,z:.3665426294874786},"mixamorig:RightHandIndex1":{c:.48005526203058724,x:.5887494214600759,y:-.4573558642837215,z:.4623276779845192},"mixamorig:RightHandIndex2":{c:.44154960002385385,x:.6181529587988349,y:-.42695489370168577,z:.49054109425761455},
"mixamorig:RightHandIndex3":{c:.4383932470025865,x:.620395507831715,y:-.42444888726191793,z:.49271094885428307},"mixamorig:RightHandIndex4":{c:.4383932470025865,x:.620395507831715,y:-.42444888726191793,z:.49271094885428307},"mixamorig:RightHandMiddle1":{c:.4544779115678738,x:.5789013543867917,y:-.46963707269093224,z:.48761081307365906},"mixamorig:RightHandMiddle2":{c:.4148672622047545,x:.6079161448356079,y:-.43607965480522026,z:.5178395929153089},"mixamorig:RightHandMiddle3":{c:.4377599190394624,
x:.5916445177187691,y:-.4555200060668634,z:.5008240989471607},"mixamorig:RightHandMiddle4":{c:.4377599190394624,x:.5916445177187691,y:-.4555200060668634,z:.5008240989471607},"mixamorig:RightHandRing1":{c:.4084596550626845,x:.5770254227424931,y:-.4679307100743545,z:.5303238876923921},"mixamorig:RightHandRing2":{c:.39174013063361784,x:.588504501194291,y:-.4525260448871461,z:.5435278385428551},"mixamorig:RightHandRing3":{c:.4491744027822564,x:.545930443789478,y:-.5051071447456561,z:.4950447714571851},
"mixamorig:RightHandRing4":{c:.4491744027822564,x:.545930443789478,y:-.5051071447456561,z:.4950447714571851},"mixamorig:RightHandPinky1":{c:.4259108194213335,x:.5651437336870043,y:-.48299044881188513,z:.5156869127391858},"mixamorig:RightHandPinky2":{c:.3692957721894041,x:.6036624128104403,y:-.43088799509070247,z:.5599536224033989},"mixamorig:RightHandPinky3":{c:.40318788083435564,x:.581573231657943,y:-.4621816255841232,z:.534416036007544},"mixamorig:RightHandPinky4":{c:.40318788083435564,x:.581573231657943,
y:-.4621816255841232,z:.534416036007544},"mixamorig:LeftUpLeg":{c:-.04609672021096437,x:-.0019221789506009624,y:-.04158855924688755,z:.9980690462818749},"mixamorig:LeftLeg":{c:-.028025110051595123,x:-.001326689978020031,y:-.03593231269811506,z:.9989603196059055},"mixamorig:LeftFoot":{c:-.07605344322141946,x:.06533226693225824,y:.48540126700036795,z:.8685235479634634},"mixamorig:LeftToeBase":{c:-.08457723837546988,x:.07360947102796539,y:.7197643306351615,z:.6851040916736681},"mixamorig:LeftToe_End":{c:-.08457723837546988,
x:.07360947102796539,y:.7197643306351615,z:.6851040916736681},"mixamorig:RightUpLeg":{c:.04608224307663588,x:.001978129952889874,y:-.04308396842523311,z:.9980061666469179},"mixamorig:RightLeg":{c:.028005107340334,x:.0012522188649900963,y:-.04092873601898875,z:.9987687488223644},"mixamorig:RightFoot":{c:.0757082507598853,x:-.06222468607868519,y:.49003827783234766,z:.8661748799041128},"mixamorig:RightToeBase":{c:.08158236694895143,x:-.07636294430291335,y:.7200900115111961,z:.6848237016613314},"mixamorig:RightToe_End":{c:.08158236694895143,
x:-.07636294430291335,y:.7200900115111961,z:.6848237016613314}};
lg={"mixamorig:Hips":{x:-1.5707963267948966,y:0,z:0},"mixamorig:Spine":{x:-.09497190291040665,y:0,z:0},"mixamorig:Spine1":{x:-7.450581485102248E-9,y:0,z:0},"mixamorig:Spine2":{x:7.450581485102248E-9,y:0,z:0},"mixamorig:Neck":{x:.09497192533802137,y:0,z:0},"mixamorig:Head":{x:-1.5167787026371116E-8,y:0,z:0},"mixamorig:HeadTop_End":{x:0,y:0,z:0},"mixamorig:LeftShoulder":{x:1.3156540057644164,y:-1.544555378571899,z:-3.1411568538212564},"mixamorig:LeftArm":{x:-.1992360210320331,y:.007095496938308508,
z:-.03583523075038645},"mixamorig:LeftForeArm":{x:-.08454168448332305,y:-.010656694749552898,z:.12554161718415882},"mixamorig:LeftHand":{x:.11507296581500771,y:.192304354651122,z:.008176369409367498},"mixamorig:LeftHandThumb1":{x:.2674190019799284,y:.1741867253065556,z:.5875056888392549},"mixamorig:LeftHandThumb2":{x:.09096896870074696,y:8.896146088468095E-7,z:6.405726370081794E-7},"mixamorig:LeftHandThumb3":{x:-.07331998587640408,y:1.096381187960466E-6,z:5.174687013770829E-7},"mixamorig:LeftHandThumb4":{x:-9.536768229969788E-7,
y:-2.864747405070031E-6,z:-1.7499538653672733E-6},"mixamorig:LeftHandIndex1":{x:.030602462858328437,y:.004515572228410206,z:.14652628032751072},"mixamorig:LeftHandIndex2":{x:.12363126034613432,y:-2.0233535112612156E-7,z:-6.446656389609913E-9},"mixamorig:LeftHandIndex3":{x:-.01573255125928328,y:3.125124845403518E-7,z:5.284284149769865E-7},"mixamorig:LeftHandIndex4":{x:-4.563480564268031E-8,y:-2.9802323173958735E-8,z:3.4458935940784314E-8},"mixamorig:LeftHandMiddle1":{x:.006384934791890548,y:2.8005595411137925E-5,
z:.004373826555700002},"mixamorig:LeftHandMiddle2":{x:.1945747817124884,y:1.1179890583963509E-7,z:2.736950912347268E-7},"mixamorig:LeftHandMiddle3":{x:-.060327579944276684,y:-2.801511631270863E-7,z:-2.460296328997371E-7},"mixamorig:LeftHandMiddle4":{x:2.0023431901699364E-8,y:-1.5366820574260658E-8,z:1.3038514114411618E-8},"mixamorig:LeftHandRing1":{x:.15938523808615357,y:-.006835255479263236,z:-.04304231821324431},"mixamorig:LeftHandRing2":{x:.06102797079242072,y:-3.815788096075208E-8,z:-8.95916992558509E-8},
"mixamorig:LeftHandRing3":{x:-.26528644773341215,y:3.0666638130604945E-7,z:-3.480378930355415E-7},"mixamorig:LeftHandRing4":{x:7.566995907861653E-8,y:-1.0392977864027839E-7,z:-2.095479725065875E-9},"mixamorig:LeftHandPinky1":{x:.1192269580673516,y:-.004823820306612185,z:-.04053583962082332},"mixamorig:LeftHandPinky2":{x:.15919053316730591,y:5.7396450131221535E-8,z:1.6437891828038645E-7},"mixamorig:LeftHandPinky3":{x:-.2959309989973337,y:-7.403846110706664E-8,z:-5.228061598936302E-7},"mixamorig:LeftHandPinky4":{x:-2.1071171471939893E-8,
y:1.5716067655304067E-9,z:-3.0267979399688933E-9},"mixamorig:RightShoulder":{x:1.315476484824679,y:1.546459455139359,z:3.1411937291394665},"mixamorig:RightArm":{x:-.1992404453994426,y:-.007125371617640997,z:.03598609520361866},"mixamorig:RightForeArm":{x:-.08581602661007935,y:.009758043428714535,z:-.1133654596829817},"mixamorig:RightHand":{x:.11070698997760249,y:-.1959498404771152,z:-.03782229458497844},"mixamorig:RightHandThumb1":{x:.2562724242910343,y:-.1745034568427973,z:-.6077128005695918},"mixamorig:RightHandThumb2":{x:.10282715869275964,
y:7.994576452913529E-7,z:4.744171900349242E-7},"mixamorig:RightHandThumb3":{x:-.02285140006964371,y:9.73727146439412E-7,z:5.384259997082248E-7},"mixamorig:RightHandThumb4":{x:8.791660539901076E-7,y:-2.7660285819332873E-6,z:-1.7350550587205806E-6},"mixamorig:RightHandIndex1":{x:.03532805935860137,y:-.0024575583671376604,z:-.06947619233586314},"mixamorig:RightHandIndex2":{x:.12757303657454883,y:-1.5954330731244424E-7,z:-3.8244200643650946E-8},"mixamorig:RightHandIndex3":{x:.010190562535834094,y:2.926450891808809E-7,
z:3.9676341094374846E-8},"mixamorig:RightHandIndex4":{x:-2.1420419945607228E-8,y:5.4016709038432594E-8,z:2.7008354085318578E-8},"mixamorig:RightHandMiddle1":{x:.06786629870171089,y:1.4090285672500565E-4,z:.0020770471246292503},"mixamorig:RightHandMiddle2":{x:.13345355630542857,y:1.2806751420965036E-7,z:-2.5337661430232317E-7},"mixamorig:RightHandMiddle3":{x:-.07632812099361651,y:-1.0564696505011498E-7,z:3.108160475550064E-8},"mixamorig:RightHandMiddle4":{x:-2.6775520498706348E-8,y:7.450579596530512E-9,
z:8.381902183614314E-9},"mixamorig:RightHandRing1":{x:.1607341890891496,y:.014000609648769773,z:.08726486772492531},"mixamorig:RightHandRing2":{x:.057373586947990954,y:1.2785980027603898E-7,z:-7.70296494870675E-8},"mixamorig:RightHandRing3":{x:-.2023364782979056,y:-9.425122887154659E-8,z:-1.5672500955015994E-7},"mixamorig:RightHandRing4":{x:-4.476168413054663E-8,y:-3.6070556235861924E-9,z:3.594322698046345E-9},"mixamorig:RightHandPinky1":{x:.10145176907770946,y:.008587185860862236,z:.08458832481208997},
"mixamorig:RightHandPinky2":{x:.19360284029126218,y:-4.105414700697029E-9,z:-2.416529570034337E-7},"mixamorig:RightHandPinky3":{x:-.11435195515290157,y:-3.678300819217988E-7,z:-8.78757551236502E-9},"mixamorig:RightHandPinky4":{x:-1.0477387902091354E-9,y:-1.3242247254490772E-9,z:-8.440111719937474E-9},"mixamorig:LeftUpLeg":{x:.08328909530388956,y:7.640686892517434E-6,z:-3.0492857299890206},"mixamorig:LeftLeg":{x:.011373391758428837,y:-4.163986280318869E-4,z:-.03618847244768612},"mixamorig:LeftFoot":{x:1.0857304145640234,
y:-.19359101521206096,z:1.284542194535555E-6},"mixamorig:LeftToeBase":{x:.5940614555885785,y:-.06873967277683787,z:4.332980260390582E-7},"mixamorig:LeftToe_End":{x:4.0000333484571365E-7,y:5.825421678216307E-7,z:-7.972121210482402E-7},"mixamorig:RightUpLeg":{x:.08628804953066395,y:4.638055859229687E-6,z:3.049311008309497},"mixamorig:RightLeg":{x:.004370815094213717,y:1.720843717969996E-4,z:.03620884881283526},"mixamorig:RightFoot":{x:1.1063203738704046,y:.18846584898645308,z:2.8078505738179886E-7},
"mixamorig:RightToeBase":{x:.5835584756225158,y:.07952107705522374,z:-5.268125550987427E-8},"mixamorig:RightToe_End":{x:-2.3166526725785226E-8,y:-5.301553809448441E-7,z:4.614412380324341E-7}};var mg;
mg={leftThumbMetacarpal:[0,0,-.234153,.972199],leftIndexProximal:[.003996,-.042799,-.092886,.994748],leftMiddleProximal:[.003996,-.042799,-.092886,.994748],leftRingProximal:[.003996,-.042799,-.092886,.994748],leftLittleProximal:[.003996,-.042799,-.092886,.994748],rightThumbMetacarpal:[0,0,.234153,.972199],rightIndexProximal:[.003996,.042799,.092886,.994748],rightMiddleProximal:[.003996,.042799,.092886,.994748],rightRingProximal:[.003996,.042799,.092886,.994748],rightLittleProximal:[.003996,.042799,
.092886,.994748]};var ng;
ng={J_Bip_L_Thumb1:[-.029002079740166664,.11686861515045166,.2324834167957306,.9651176333427429],J_Bip_R_Thumb1:[-.029002079740166664,-.11686861515045166,-.2324834167957306,.9651176333427429],J_Bip_L_Thumb2:[6.874939728618301E-9,.04325899854302406,-7.45756256748109E-9,.9990639090538025],J_Bip_R_Thumb2:[6.874939728618301E-9,-.04325899854302406,7.45756256748109E-9,.9990639090538025],J_Bip_L_Index1:[-2.0802879419079545E-9,-.020422078669071198,7.137113816613194E-12,.9997914433479309],J_Bip_R_Index1:[-2.0802879419079545E-9,.020422078669071198,
-7.137113816613194E-12,.9997914433479309]};var kg;
(function(){var a=null;kg=function(f){function e(b,d){return new Promise(function(l,m){g(b).then(function(n){return h(n,d)}).then(function(n){return k(n)}).then(function(n){l(n)})["catch"](function(n){m(n)})})}if(null!=a)return a;a={};var c=f["character_expression.json"],g=function(){var b=null;return function(d){return new Promise(function(l,m){if(null!=b)l(b[d]);else{var n="https://content-global.visual-paradigm.com/asset/logicals?filter="+encodeURIComponent(JSON.stringify({parentId:"769c4d6c-da6c-4894-9066-b80efe611d95"}));ac(n).then(function(q){b=
{};z(q,function(r){b[r.name]=r.id});l(b[d])})["catch"](function(q){m(q)})}})}}(),h=function(){var b={};return function(d,l){return new Promise(function(m,n){var q=b[d];null!=q?m(q[l]):(q="https://content-global.visual-paradigm.com/asset/assets?filter="+encodeURIComponent(JSON.stringify({allLogicalIds:d})),ac(q).then(function(r){var P={};b[d]=P;z(r,function(N){P[N.name]=N.path});m(P[l])})["catch"](function(r){n(r)}))})}}(),k=function(){var b={},d={};return function(l){var m=b[l];if(null!=m)return Promise.resolve(m);
if(d[l])return d[l];d[l]=new Promise(function(n,q){ac("https://static.visual-paradigm.com"+l).then(function(r){r=r.shapeKeys;b[l]=r;r.id=l;n(r)})["catch"](function(r){q(r)})["finally"](function(){delete d[l]})});return d[l]}}();a.Ml=function(b,d){return new Promise(function(l,m){if(null==d)l(null);else{var n=c[b];null==n?l(null):e(n.tag,d+".json").then(function(q){l(q)})["catch"](function(q){m(q)})}})};a.ag=function(b){return new Promise(function(d,l){var m=c[b];null==m?d(null):e(m.tag,m["default"]).then(function(n){d(n)})["catch"](function(n){l(n)})})};
return a}})();var og;
(function(){function a(){return new Promise(function(d,l){f().then(function(){return e()}).then(function(){return Rc("https://static.visual-paradigm.com/asset/df/dff35219-3aa5-4ea5-a10a-5192910473df/hand-to-prop-mapping.csv")}).then(function(m){m=m.trim();var n=self.Papa.parse(m);d(function(){for(var q={},r=n.data,P=r.length,N={},da=1;da<P;da++){var fa=r[da],ma=b[fa[0]];null!=ma&&(fa=fa[1],N[fa]={hh:fa,Om:ma})}q.Dg=function(pa){return null!=N[pa]};q.fg=function(pa){pa=k[pa];return null==pa?null:N[pa]};
return q}())})["catch"](function(m){l(m)})})}function f(){return new Promise(function(d,l){dc({parentId:"d861f9f7-fc58-4ed6-a9f9-3a9f3cfa8516"}).then(function(m){z(m,function(n){k[n.id]=n.name});d()})["catch"](function(m){l(m)})})}function e(){return new Promise(function(d,l){dc({parentId:"eae2fba2-d263-4335-b859-784e35f79a7e"}).then(function(m){z(m,function(n){b[n.name]=n.id});d()})["catch"](function(m){l(m)})})}var c=null,g=function(){var d={},l=[];d.add=function(m,n){var q={};q.resolve=m;q.reject=
n;l.push(q)};d.Ho=function(m){z(l,function(n){n.resolve(m)})};d.uo=function(m){z(l,function(n){n.reject(m)})};return d}(),h=!1,k={},b={};og=function(){return new Promise(function(d,l){null!=c?d(c):(g.add(d,l),h||(h=!0,a().then(function(m){c=m;g.Ho(c)})["catch"](function(m){g.uo(m)})))})}})();var pg;
(function(){function a(f){var e={},c=function(g){function h(b){return b.trim().split(";").map(function(d){return d.trim().split("-").map(function(l){return parseInt(l)})})}var k=new Map;g.slice(1).forEach(function(b){var d=b[3];d&&(d=h(d));var l=b[4]&&h(b[4]),m=b[1];b={familyName:b[0].replaceAll("-","_"),propsFileName:b[2],detachFrames:d,hiddenFrames:l};(d=k.get(m))?d.push(b):k.set(m,[b])});return k}(f);e.rg=function(g){return c.get(g)};e.Nl=function(g){return g&&g.familyName};e.xm=function(g){return g?g.propsFileName:
g};e.wm=function(g){return g?g.detachFrames:g};e.ym=function(g){return g&&g.hiddenFrames};return e}pg=function(){return new Promise(function(f,e){Rc("https://static.visual-paradigm.com/asset/88/88d86fde-23ea-4f0c-ba2b-d8acbcdf72c0/props-mapping.csv").then(function(c){return self.Papa.parse(c)}).then(function(c){c=c.data;c=a(c);f(c)})["catch"](function(c){e(c)})})}})();function qg(a,f,e,c,g){this.o=a;this.eb=f;this.mb=e;this.kd=c;this.i=g}qg.prototype.L=function(a){return this.o.L(a)};qg.prototype.Cl=function(){return this.L(this.eb)};qg.prototype.nl=function(){if(null!=this.o.Vf)return this.o.Vf()};
qg.prototype.load=function(){var a=this;return new Promise(function(f,e){a.Cl().then(function(){var c=a.kd,g=c.lastIndexOf("/");c=c.substring(g+1);var h=a.mb;g=a.i;c=h.rg(c);if(null!=c){var k=Rf(g);if(c.every(function(d){return h.Nl(d)!==k})){f(null);return}}if(null==c){var b=a.nl();null!=b&&(g=b.lastIndexOf("/"),c=b.substring(g+1),c=h.rg(c))}if(null==c)f(null);else return Promise.all(c.map(function(d){var l=h.wm(d),m=h.ym(d);return We(h.xm(d)).then(function(n){n&&(l&&(n.detachFrames=xc(l)),m&&(n.hiddenFrames=
xc(m),n.originalHiddenFrames=xc(m)));return n})}))}).then(function(c){f(c)})["catch"](function(c){e(c)})})};function hg(a,f,e,c,g,h,k){this.o=a;this.Da=f;this.mb=e;this.V=c;this.a=g;this.Hb=h;this.h=k;this.Eg=!1}var eg,fg,gg,rg,sg;(function(){var a=new Map;rg=function(f){return new Promise(function(e,c){if(f.ej)e();else{var g=a.get(f);null==g&&(g=[],a.set(f,g));g.push({resolve:e,reject:c})}})};sg=function(f){f.ej=!0;var e=a.get(f);null!=e&&(a["delete"](f),z(e,function(c){c.resolve()}))}})();
gg=function(a){var f={},e,c,g,h,k,b;f.Me=function(d){e=d;return this};f.Ne=function(d){c=d;return this};f.Vc=function(d){g=d;return this};f.qb=function(d){h=d;return this};f.pb=function(d){k=d;return this};f.Kb=function(d){b=d;return this};f.ha=function(){return{xi:a,kd:e,hf:c,duration:g,Ha:h,Ia:k,speed:b}};return f};
eg=function(){var a={},f=!0,e,c=!1,g=!1;a.Kh=function(h){f=h;return this};a.Ih=function(h){e=h;return this};a.Zc=function(h){c=h;return this};a.Eh=function(h){g=h;return this};a.ha=function(){return{$p:f,oo:e,Mf:c,Mc:g}};return a};fg=function(a,f,e){var c={},g=!1,h=!1;c.Xc=function(k){g=k;return this};c.Re=function(k){h=k;return this};c.ha=function(){return{eb:a,i:f,R:e,Wk:g,Xk:h}};return c};p=hg.prototype;
p.Ul=function(){var a=this.V.hf;return!1===Ia(a)&&(a=Bc(a,function(f){return f.type===ag}),null!=a)?a:null};
p.Kn=function(){var a=this;return new Promise(function(f,e){var c=a.Ul();if(null==c)f();else{null==a.jd&&(a.jd=[]);var g=[];["right","left"].map(function(h){var k=c[h];if(null!=k&&"props"==k.type){var b=k.assetId;null!=b&&g.push(og().then(function(d){return d.fg(b)}).then(function(d){return We(d.hh)}).then(function(d){a.jd.push({ja:d,Ua:"right"===h?"mixamorig:RightHand":"mixamorig:LeftHand"})}))}});Promise.all(g).then(f)["catch"](e)}})};
p.Eb=function(){var a=this;return new Promise(function(f,e){a.Kn().then(function(){return a.dk().load()}).then(function(c){a.ab=c;var g=a.V.Ha,h=a.V.Ia;null!=g&&null!=h&&(g>ef.fa||h<ef.ea)&&!Ia(a.ab)&&a.ab.forEach(function(k){var b=k.hiddenFrames;if(null!=b&&b.length){k=a.zb();var d=a.V.speed||1,l=ef.S(g*k*d),m=ef.S(h*k*d),n=[l,m];b.forEach(function(q,r){if(!(l<=q[0]&&m>=q[1])){var P=Lc(q,n);null==P?b.splice(r,1):(q[0]=P[0]-l,q[1]=P[1]-l)}})}});return a.Tm()}).then(function(){f()})["catch"](function(c){e(c)})})};
p.Ci=function(a){null==this.td&&(this.td=[]);this.td.push(a)};p.kk=function(){var a=this,f={L:function(c){return a.L(c)}},e=this.V.kd;null!=e&&(f.Vf=function(){return e});return f};p.xh=function(a){this.rf=a};p.dk=function(){return new qg(this.kk(),this.Da.eb,this.mb,this.V.xi,this.Da.i)};p.L=function(a){return this.o.L(a)};p.zb=function(){return this.V.duration};p.Cb=function(){return this.o.Cb()};p.Bb=function(){return this.o.Bb()};p.qg=function(){return this.Cb()||this.Bb()};
p.Tm=function(){var a=this;return new Promise(function(f,e){if(a.Hb.Mc){var c=[],g=a.qg();g&&g.forEach(function(h){var k=h.ja;if(k){c.push(k);var b=h.attachToGestures;if(b){var d=function(){var m={},n={};(function(){var q=a.V.hf;Ia(q)||z(q,function(r){r.type===$f&&Da(r.boneRotations,function(P,N){n[P]=N})})})();m.get=function(q){return n[q]};return m}(),l=function(m){m=Ea.m(m);return Ca.getName(m)};a.j().forEach(function(m){if("rotationQuaternion"===V.B(Ea.f(m))){var n=l(m),q=b[n];if(null!=q){var r=
q.x,P=q.y,N=q.z,da=q.w;(function(){var fa=d.get(n);if(null!=fa){var ma=td(q);fa=td(fa);ma=jd(ma,fa);r=ma.x;P=ma.y;N=ma.z;da=ma.w;a.Ci(n)}})();V.g(Ea.f(m)).forEach(function(fa){fa=Ke.ua(fa);fa.x=r;fa.y=P;fa.z=N;fa.w=da})}}})}}});a.ab=c}a.qe()&&Ia(a.rf)?f():(a.Tc=function(){var h=a.Pa(),k=a.rf;if(Ia(k))return h;var b=[];b=b.concat(h);var d=fd(a.zb(),a.V.Ha,a.V.Ia,1),l=a.V.speed||1;z(k,function(m){var n=m.propInfoList,q=m.startTime,r=m.duration,P=q+r,N=m.startRatio,da=m.endRatio,fa=m.speed;!1===Ia(n)&&
(z(n,function(ma){var pa=ma.ja;pa.hiddenFrames=function(){function va(xa,ub){ua.push([xa,ub])}var ua=[];0<q&&va(ef.S(0*l),ef.S(q*l));var Ba=pa.originalHiddenFrames;if(!Ia(Ba)){var La=r/(da-N),za=ef.S(q*l),Wa=ef.S(P*l),Ja=za-ef.S(La*N*l);Ba.forEach(function(xa){var ub=xa[0]+Ja;xa=ub+(xa[1]-xa[0])/fa;ub=Math.max(ub,za);xa=Math.min(xa,Wa);xa<=za||va(ub,xa)})}va(ef.S(P*l),ef.S(d*l));return ua}()}),z(h,function(ma){rg(ma).then(function(){return Promise.all(Gc(n,function(pa){return rg(pa)}))}).then(function(){if(!1!==
function(){var va=!1,ua=ma.Ua;Cc(n,{v:function(){return!1===va},$:function(Ba){Ba.Ua===ua&&(va=!0)}});return va}()){var pa=ma.ja;null==pa.hiddenFrames&&(pa.hiddenFrames=[]);pa.hiddenFrames.push([ef.S(q*l),ef.S(P*l)])}})["catch"](function(pa){console.error(pa)})}));b=b.concat(n)});return b}(),a.Eg=!0,!1===a.Hb.$p?f():(a.Na(),a.Mn().then(function(h){a.Aa=h;a.Be=a.pk();f()})["catch"](function(h){e(h)})))})};
p.pk=function(){var a=this;return{s:function(f){null!=a.Aa&&(a.ec(function(e){e.Hk=f;W.s(e,f)}),a.ih(f))}}};p.ih=function(){};p.Na=function(){this.nd(this.ab)};p.nd=function(){};p.qe=function(){return Ia(this.ab)};p.Xb=function(){return this.Tc};p.Ec=function(){return this.jd};p.Pa=function(){return this.qe()?[]:this.ab.map(function(a){return{ja:a}})};p.le=function(){return this.Eg};p.Pn=function(a){return this.Tc.map(a)};
p.Mn=function(){var a=this;return new Promise(function(f,e){Promise.all(a.Pn(function(c){return a.L(c.ja.id).then(function(g){return ld(g)}).then(function(g){return a.oe("",g.U,g.url,null,g.T)}).then(function(g){a.bj(g);return a.Vm(g,c)})["catch"](function(g){e(g)})})).then(function(c){f(c)})["catch"](function(c){e(c)})})};p.oe=function(a,f,e,c,g){return ae.wa(a,f,e,this.a,c,g)};p.bj=function(a){Sf(a,this.Da.i)};
p.Vm=function(a,f){function e(){if(!c.Hb.Mc)return null;var g=c.qg();if(null==g||!g.length)return null;var h=f.ja.id;g=g.find(function(k){return k.ja.id===h});return null!=g&&null!=g.Ua?g.Ua:null}var c=this;return new Promise(function(g){c.Bj();var h=qf.I(a)[0],k=f.ja.id,b=c.Hb.oo,d=(b&&null!=k?Bc(b,function(N){return N.propsId==k}):null)||{},l=function(){var N=Te(h);c.Hb.Mf&&(N=c.Yk(N));return N}(),m=e(),n=m||l,q=c.Mk(n);(function(){null!=c.Da.R&&(Ve({get:function(){return h},set:function(N){h=N}},
c.Wj(),{xf:q,Ua:n},{position:d.propsPosition,scale:d.propsScale,rotation:d.propsRotation},c.Hb.Mf),null!=m&&m.toLowerCase().includes("right")&&l!==m&&Xe(h))})();null!=d.propsId&&(d.propsId=k);c.Ce(h,k);null!=d.propsId&&(d.propsId=k);W.s(h,!1);f.attachTo=q;f.Ua=n;f.propsMesh=h;f.propsMeshParent=h?W.getParent(h):null;sg(f);if(n){var r={},P=function(N){N=Ea.m(N);return Ca.getName(N)};b=n.includes("mixamorig:RightHand")?function(N){return c.Oa(P(N)).startsWith("mixamorig:RightHand")&&"rotationQuaternion"===
V.B(Ea.f(N))}:n.includes("mixamorig:LeftHand")?function(N){return c.Oa(P(N)).startsWith("mixamorig:LeftHand")&&"rotationQuaternion"===V.B(Ea.f(N))}:function(N){return P(N)===n&&"rotationQuaternion"===V.B(Ea.f(N))};c.j(void 0).filter(b).forEach(function(N){var da=V.g(Ea.f(N)),fa=Ke.ua(da[da.length-1])||{};da=fa.x;var ma=fa.y,pa=fa.z;fa=Mb.hb(fa);r[P(N)]={x:da,y:ma,z:pa,w:fa}});f.attachToGestures=r}g(h)})};p.j=function(){return U.j(this.h)};p.Bj=function(){Vc(this.a)};
p.Yk=function(a){return self.BabylonJsBoneMapper.flipDirectionOfBoneName(a,this.Da.i)};p.Mk=function(a){return Se(a,this.Da.i)};p.Wj=function(){return{Lf:this.Da.R,Nf:this.Da.Wk,Of:this.Da.Xk,i:this.Da.i}};p.$c=function(a){a.mp(this.Be)};p.Oa=function(a){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(a,this.Da.i)};p.Ce=function(a,f){a.lb=f};p.Am=function(){return this.Aa?this.Aa.map(function(a){return a.lb}):[]};
p.sg=function(a){var f=this.Aa,e;null!=f&&(e=f.find(function(c){return c.lb==a}));return e};p.Sk=function(a){if(!this.Og())return this.Aa.find(a)};p.Og=function(){return Ia(this.Aa)};p.zm=function(){return this.Og()?null:this.Aa[0].lb};p.Hh=function(){null!=this.Be&&this.Be.s(!0)};p.ec=function(a){var f=this.Aa;null!=f&&f.forEach(function(e){null!=e&&a(e)})};function tg(a,f,e,c,g,h,k,b,d){this.Tc=a;this.Mc=f;this.tc=e;this.h=c;this.a=g;this.timeline=h;this.speed=k;this.Ha=b;this.Ia=d}p=tg.prototype;p.Ee=function(){Dd.nb(this.a)};p.rp=function(a){this.Zk=a};p.Ue=function(a){this.gc=a};p.Ga=function(){return U.W(this.h)};p.sa=function(){return U.A(this.h)};
p.ac=function(){var a=this,f=this.Tc;if(f&&!this.Mc){var e=a.sa(),c=a.Ha*e,g=(1-a.Ia)*e,h=a.tc;f.forEach(function(k){var b=k.ja;if(null!=b){var d=b.hiddenFrames,l=b.detachFrames;if(!Ia(d)||!Ia(l)){(function(){function n(r){if(Ia(r))return r;var P=!1;cb(r,{v:function(){return!1===P},$:function(N){var da=N[1];q>=N[0]&&q<=da&&(P=!0)}});return!1===P?null:[[a.Ga(),a.sa()+1]]}var q=a.Zk;null!=q&&(d=n(d),l=n(l))})();var m=function(n,q){if(!1===Ia(n)){var r=[];z(n,function(P,N){function da(za){za!==Ba&&(Ba=
za,q.Th(Ba,N))}var fa=h+ef.xb(P[0])/a.speed,ma=h+ef.xb(P[1])/a.speed,pa=ma-fa,va=0===N&&fa<=h?!0:!1,ua=N===n.length-1&&ma>=Math.floor(h+ef.xb(e-c-g))?!0:!1;ua&&null!=a.gc&&(pa=a.gc-h-fa,pa+=.001);var Ba=!1,La=null;La=nf(a.timeline,fa,pa,function(){da(!0)},function(){va&&0===(null==La?0:La.progress())?da(!0):ua&&1===(null==La?0:La.progress())?da(!0):function(){if(1===r.length)return!0;var za=!0;Cc(r,{v:function(){return za},$:function(Wa){Wa!==La&&Wa.qn()&&(za=!1)}});return za}()&&da(!1)});La.qn=function(){return Ba};
La.md=function(){Ba=null};r.push(La);a.qd(La,fa)})}};(function(){if(!Ia(d)){var n=k.propsMesh;m(d,{Th:function(q){W.s(n,!1===q&&n.Hk)}})}})();(function(){if(!Ia(l)){var n=k.propsMesh,q=k.propsMeshParent;m(l,{Th:function(r,P){var N=W.getParent(n),da=r?null:q;if(N!=da)if(null==da){N=l[P];da=N[0];N=0<da?da-1:N[1]+1;da=a.h;var fa=ve(da);U.za(da,N);a.Ee();W.aa(n,null);U.za(da,fa)}else W.aa(n,da)}})}})()}}})}};p.qd=function(a,f){this.timeline.add(a,f)};function ug(a,f,e,c,g,h,k,b,d,l){this.o=a;this.Sm=f;this.a=e;this.i=c;this.R=g;this.na=h;this.timeline=k;this.sc=b;this.h=d;this.V=l;this.uf=!1;this.Ze=[]}var vg;vg=function(a,f,e,c){return{tc:a,zi:f,an:e,yi:c}};p=ug.prototype;p.Ue=function(a){this.gc=a};p.zb=function(){return this.V.zi};p.Dd=function(){return this.V.yi};p.qf=function(a){this.Ze.push(a)};p.Fg=function(){return!1===Ia(this.Ze)};p.Hn=function(a){z(this.Ze,function(f){a(f)})};p.Ga=function(){return U.W(this.h)};p.sa=function(){return U.A(this.h)};
p.ac=function(){var a=this;return new Promise(function(f,e){var c=function(){var d={};d=(d.left=[],d.right=[],d);var l=a.Sm;if(null!=l)for(var m in d)null!=l[m]&&(null==d[m]||d[m].length||d[m].push(l[m]));return d}();if(Ia(c))f();else{var g=function(d){return new Promise(function(l,m){We(d).then(function(n){return ld(ef.qc+n.path)}).then(function(n){return ae.wa("",n.U,n.url,a.a,null,n.T)}).then(function(n){Sf(n,a.i);l(n)})["catch"](function(n){m(n)})})},h=function(d,l,m,n){function q(N){N!==r&&(r=
N,W.s(d,r))}var r=!1,P=0===a.V.an;1===a.Dd()&&P&&0===m&&0===a.zb()&&a.ub(function(){q(!0)});return nf(l,m,n,function(){q(!0)},function(N){null==N&&(N=!1);P&&N||q(!1)})},k=function(d,l){return new Promise(function(m,n){g(l).then(function(q){q=qf.I(q)[0];q=Ue(q,d,a.R,a.i);a.vc(q);W.s(q,!1);m(q)})["catch"](function(q){n(q)})})},b=[];Da(c,function(d,l){z(l,function(m){var n=m.type,q=null;if("gesture"===n){var r=m.assetId,P=ef.qc;q=new Promise(function(fa,ma){wg(P,r,a.na,a.i,a.h,a.Ga(),a.sa(),d).then(function(){a.Tg();
fa()})["catch"](function(pa){ma(pa)})})}else if("props"===n){var N=a.V.tc;n=a.zb();n+=.001;n+.001>=a.zb()&&(n=null!=a.gc?a.gc-a.V.tc-.001:n+3600);var da=n;q=new Promise(function(fa,ma){var pa=m.assetId,va;og().then(function(ua){return ua.fg(pa)}).then(function(ua){va=ua.hh;return wg(ef.qc,ua.Om,a.na,a.i,a.h,a.Ga(),a.sa(),d)}).then(function(){a.Tg();return k(d,va)}).then(function(ua){var Ba=N+0,La=h(ua,a.timeline,Ba,da);a.timeline.add(La,Ba);a.qf(La);(function(){null!=a.sc&&z(a.sc.Pb,function(za){if(!Ia(za.propInfoList)){var Wa=
N+za.startTime,Ja=za.duration;za=function(){function xa(Kb){Kb!=ub&&(ub=Kb,W.s(ua,!ub))}var ub=!1;return nf(a.timeline,Wa,Ja,function(){xa(!0)},function(){xa(!1)})}();a.timeline.add(za,Wa);a.qf(za)}})})();fa()})["catch"](function(ua){ma(ua)})})}null!=q&&b.push(q)})});Promise.all(b).then(function(){f()})["catch"](function(d){e(d)})}})};p.Tg=function(){this.uf=!0};p.ub=function(a){this.o.ub(a)};p.vc=function(a){this.o.vc(a)};function xg(a,f,e,c,g){this.R=f;this.na=e;uf(this.na);this.wb=c;this.i=g;this.Ke=!1;this.en();this.Ig();this.bn();this.$o(td(a));this.dn();this.Ji()}var yg;p=xg.prototype;p.yj=function(){if(!this.Ke){var a=this;this.Ke=!0;this.Fi(function(){a.Ke=!1;a.Ig()})}};p.tm=function(){var a=this.ra();return Dd.Xd(a)};p.Fi=function(a){var f=this.tm();zg.wc(f,a)};p.lp=function(a){this.Mj=a};p.ap=function(a){W.bd(this.wb,a)};p.$o=function(a){W.da(this.wb,a)};p.bn=function(){var a=Gd.create(4,4,4);this.ap(a)};
p.ph=function(a){return self.BabylonJsBoneMapper.remapBoneName(a,this.i)};p.Tk=function(){var a=this.Mj;if(null!=a){var f=this.Uf();a(f)}};p.Mi=function(){var a=this;this.eo=zg.add(this.xg(),function(){a.xc=!0})};p.Ki=function(){var a=this;this.co=zg.add(this.vg(),function(){a.Tk();a.xc=!1})};p.Yb=function(){return this.ra().Rh};p.ud=function(){var a=this.Uf();return Ag(a,this.Yb(),this.i)};p.Rd=function(){return $d.getParent(this.ib)};p.Yl=function(){var a=this.Rd();return $d.Ea(a,!0)};
p.Li=function(){var a=this;this.bo=zg.add(this.wg(),function(){var f=a.ud(),e=Gd.create(),c=Mb.create(),g=a.Yl();Nb.Wa(g,e,c);c=Mb.jb(c);f=Mb.multiply(c,f);c=a.Zl();f=Bg(f,e,c);a.sp(f)});this.Yp()};p.$b=function(){return Cg.$b(this.Ic())};p.Yp=function(){Dg.s(this.$b(),!1)};p.Ji=function(){this.Mi();this.Li();this.Ki()};p.dn=function(){this.C=this.ck();this.cj();this.ad(!0);this.pp()};p.pp=function(){Eg.Bh(this.C,!1)};p.sp=function(a){$d.da(this.ib,a)};p.Uf=function(){return W.J(this.wb)};p.tf=!1;
p.b=function(){this.tf||(this.Ek(),this.tf=!0)};p.Ek=function(){this.Co(this.bo);this.Do(this.eo);this.Bo(this.co);this.Dk()};p.Dk=function(){Eg.b(this.C);this.Ck()};p.Ck=function(){Ze(this.wb)};p.xc=!1;p.Co=function(a){zg.remove(this.wg(),a)};p.Do=function(a){zg.remove(this.xg(),a)};p.Bo=function(a){zg.remove(this.vg(),a)};p.en=function(){this.ib=this.mj()};p.Zl=function(){return $d.J(this.ib)};p.mj=function(){var a=this.Vl();return Ca.ta(a)};p.Wl=function(){return this.ph("mixamorig:Head")};
p.Vl=function(){var a=this.Wl();return Bc(this.M(),function(f){return Ca.getName(f)===a})};p.M=function(){return Aa.M(this.na)};p.wg=function(){return Fg.um(this.Ic())};p.xg=function(){return Fg.og(this.Ic())};p.vg=function(){return Fg.Gc(this.Ic())};p.Sl=function(){return this.Fc().rotationGizmo};p.Ic=function(){return this.Sl()};p.Fc=function(){return Eg.Fc(this.C)};p.ad=function(a){Eg.ad(this.C,a)};p.dj=function(a){Eg.yf(this.C,a)};p.cj=function(){this.dj(this.wb)};
p.ck=function(){var a=this.ra();return Eg.create(a,ef.GIZMO_THICKNESS)};p.ra=function(){return W.ra(this.na)};p.Lj=function(){return $d.Ea(this.ib,void 0,void 0)};p.$l=function(){var a=this.Lj(),f=Gd.create();Nb.Wa(a,null,null,f);return f};p.Zo=function(a){W.setPosition(this.wb,a)};p.Ig=function(){var a=this.$l();a.x-=3;a.z=0;this.Zo(a)};
yg=function(a,f,e,c,g){return new Promise(function(h,k){(function(){return new Promise(function(b,d){var l=Aa.ra(e);ae.wa("","",c,l).then(function(m){b(be.I(m)[0])})["catch"](function(m){d(m)})})})().then(function(b){b=new xg(a,f,e,b,g);h(b)})["catch"](function(b){k(b)})})};function Gg(a,f,e,c,g,h){this.h=a;this.K=f;this.a=e;this.canvas=c;this.Nm=g;this.P=h}
Gg.prototype.Bd=function(){var a=this;return new Promise(function(f,e){var c=a.canvas,g=a.K,h=a.a,k=a.h,b=a.Nm;if(g&&h&&c&&k&&b){var d=null;(function(q){Kd.Ie(q,function(){d&&Dd.qa(d)&&Dd.nb(d)})})(g,c);var l=U.W(k),m=U.A(k),n=function(){return new Promise(function(q,r){function P(){va<=m?N().then(function(){va+=ma;P()})["catch"](function(ua){r(ua)}):fa.render()}function N(){return new Promise(function(ua){U.za(k,va);null!=da&&da.progress((va-l)/(m-l));zg.wc(pa,function(){fa.addFrame(c,{delay:200,
copy:!0});ua()})})}var da=null;a.P.le()&&(da=window.gsap.timeline({paused:!0}),function(){var ua=window.gsap.to({},{duration:ef.xb(m-l),onStart:function(){a.P.Hh()}});da.add(ua,0)}(),(new tg(a.P.Xb(),!1,0,k,h,da,1,ef.fa,ef.ea)).ac());var fa=new GIF({worker:2,quality:10,workerScript:b});fa.on("finished",function(ua){q(ua)});var ma=200*V.cg(Ea.f(U.j(k)[0]))/1E3,pa=Dd.sm(h),va=l;P()})};d=h;U.Wc(k,!1);U.stop(k);U.start(k);U.pause(k);U.play(k);(function(){return new Promise(function(q){Dd.Ac(h,function(){q()})})})().then(function(){return n()}).then(function(q){f(q)})["catch"](function(q){e(q)})}else e()})};function Hg(a,f,e,c,g,h,k,b){this.h=a;this.Xm=f;this.wk=e;this.Xi=c;this.a=g;this.ib=h;this.i=k;this.R=b}var Ag,Bg;
(function(){function a(c){return c-=Math.PI}function f(c,g){var h=Mb.Ma(c),k=h.x,b=h.y;Xd(g)&&(b+=Math.PI,k*=-1);h=h.z;h=a(h);return Mb.ga(k,b,h)}function e(c){function g(d){return"number"===typeof d}if(null==c||"object"!==typeof c)return!1;var h=c.y,k=c.z,b=c.w;return g(c.x)&&g(h)&&g(k)&&g(b)?!0:!1}Bg=function(c,g,h){c=Mb.clone(c);(function(){var k=g.x,b=g.y,d=g.z;0>k&&(c.x*=-1);0>b&&(c.y*=-1);0>d&&(c.z*=-1);if(0>k||0>b||0>d)c.w*=-1})();c=cd(c);(function(){var k=Mb.Ma(h),b=Mb.Ma(c);c=Mb.ga(b.x,b.y,
k.z)})();return c};Hg.prototype.ud=function(c){return Ag(c,this.Yb(),this.i)};Ag=function(c,g,h){var k=Gd.Nb();c=Mb.iq(c,Nb.Td());k=Gd.ff(k,c);k=Gd.scale(k,1E4);$d.Sg(g,k);g=$d.J(g);return g=f(g,h)};Hg.prototype.lj=function(){var c=this.Xm;if("follow previous action"===c){c=null;for(var g=this.Xi,h=this.wk-1;0<=h;h--){var k=g[h].headOrientation;if("follow previous action"!==k){c=k;break}}}return c};Hg.prototype.qa=function(){return Dd.qa(this.a)};Hg.prototype.dl=function(){return jf.u(this.qa())};
Hg.prototype.el=function(){var c=this.dl();c=Gd.clone(c);c.z-=300;return c};Hg.prototype.Yb=function(){return this.a.Rh};Hg.prototype.Hm=function(){var c=this.Yb();return $d.J(c)};Hg.prototype.Vp=function(c){var g=this.Yb();$d.Sg(g,c)};Hg.prototype.Sj=function(c){return f(c,this.i)};Hg.prototype.Xl=function(){return $d.getName(this.ib)};Hg.prototype.Rd=function(){return $d.getParent(this.ib)};Hg.prototype.Jf=function(c,g){return pe(this.h,c,g)};Hg.prototype.Rk=function(){return this.Jf(this.Xl(),
"rotationQuaternion")};Hg.prototype.F=function(){var c=this,g=this.lj();if(this.In===g)return!1;this.In=g;if(null==g)return!1;var h=function(){if("horizontal"===g)return null;if("face camera"===g){var l=c.el();c.Vp(l);l=c.Hm();return l=c.Sj(l)}if(!1===e(g))return null;l=Mb.create(g.x,g.y,g.z,g.w);return c.ud(l)}(),k=this.Rk();if(null==k)return!1;k=V.g(Ea.f(k));if(Ia(k))return!1;var b=function(){var l={},m=function(){var n={},q={};n.get=function(r,P){return q[r+"\n"+P]};n.set=function(r,P,N){q[r+"\n"+
P]=N};return n}();l.get=function(n,q,r){var P=$d.getName(n);n=function(){var fa=m.get(P,q);if("undefined"!==typeof fa)return fa;fa=c.Jf(P,q);m.set(P,q,fa);return fa}();if(null==n)return null;var N=V.g(Ea.f(n));n=Bc(N,function(fa){return fa.frame>r});if(null==n)return N[N.length-1].value;N=N[N.indexOf(n)-1];if(null==N)return null;var da=N.frame;return ed(N.value,n.value,(r-da)/(n.frame-da))};return l}(),d=function(){var l=function(){var m=null;Cc(U.j(c.h),{v:function(){return null==m},$:function(n){Ea.m(n)===
c.R&&"rotationQuaternion"===V.B(Ea.f(n))&&(m=n)}});return Ea.f(m)}();return null==l?null:V.g(l)}();z(k,function(l){var m=l.frame,n=function(){for(var N=Nb.Td(),da=c.Rd();null!=da;){var fa=function(){var va=b.get(da,"scaling",m);return null!=va?va:$d.l(da)}(),ma=function(){var va=b.get(da,"rotationQuaternion",m);return null!=va?va:$d.J(da)}(),pa=function(){var va=b.get(da,"position",m);return null!=va?va:$d.u(da)}();fa=Nb.Zh(fa,ma,pa);N=Nb.multiply(N,fa);da=$d.getParent(da)}return N}(),q=Gd.create(),
r=Mb.create();Nb.Wa(n,q,r);var P=Mb.jb(r);n=function(){var N=function(){if("horizontal"===g){var da=Mb.multiply(r,l.value);da=Mb.Ma(da).y;var fa=a(0);da=Mb.ga(0,da,fa);return Mb.multiply(P,da)}var ma=Mb.multiply(P,h);(function(){if(null!=d){var pa=l.frame,va=function(){var Ba=Bc(d,function(Wa){return Wa.frame>pa});if(null==Ba)return d[d.length-1].value;var La=d[d.indexOf(Ba)-1];if(null==La)return null;var za=La.frame;return ed(La.value,Ba.value,(pa-za)/(Ba.frame-za))}();if(null!=va){(function(){var Ba=
Mb.ga(0,c.ed(0),0);Ba=Mb.jb(Ba);va=Mb.multiply(Ba,va)})();var ua=Mb.jb(va);ma=Mb.multiply(ua,ma)}}})();return ma}();return N=Bg(N,q,l.value)}();l.value=n});return!0};Hg.prototype.ed=function(c){return Md(c,this.i)}})();function Ig(a,f,e){this.a=a;this.pa=f;this.bb=e}p=Ig.prototype;p.ik=function(){function a(c){var g=Ea.f(c);return Ea.m(c).id+"\n"+V.B(g)}var f={},e={};f.register=function(c){var g=a(c);e[g]=c};f.get=function(c){c=a(c);return e[c]};return f};p.ek=function(){return U.create(null,this.a)};p.Pi=function(a,f){return U.ka(this.Za,a,f)};p.ro=function(a){this.$g.register(a)};p.qm=function(a){return this.$g.get(a)};p.fb=function(a){return a*this.pa};p.oj=function(){return this.fb(this.nj())};p.nm=function(){return U.W(this.Za)};
p.om=function(){return U.A(this.Za)};p.Bp=function(a){U.Lb(this.Za,a)};p.Ol=function(){return this.bb[0]};p.ig=function(){return this.bb[this.bb.length-1]};p.Pl=function(){return this.Ol().startTime};p.hm=function(){return this.ig().startTime};p.fm=function(){return this.ig().duration};p.gm=function(){return this.hm()+this.fm()};p.nj=function(){return this.gm()-this.Pl()};p.Bn=function(a){z(this.bb,function(f,e){a(f,e)})};
p.Wg=function(){function a(){var h=f.Fm();z(g,function(k){f.gj(k.bq,Math.min(k.Ik,h))})}var f=this;this.Za=this.ek();this.$g=this.ik();var e=this.bb.length,c=f.bb[0].startTime,g=[];this.Bn(function(h,k){function b(l){var m=[];z(l,function(n){m.push({frame:n.frame+d,value:n.value})});return m}var d=0===k?0:f.fb(h.startTime-c);(function(){if(k!==e-1){var l=f.bb[k+1],m=l.fj;null!=m&&0!==m&&(l=l.startTime,m=ef.utilFunctions.validateActionBlendDurationWithPreviousActionStartTime(m,h.startTime,l),l=f.fb(l+
1E-7-c),g.push({bq:l-f.fb(m),Ik:l}))}})();z(U.j(h.h),function(l){function m(){var q=Ea.f(l),r=Ea.m(l),P=V.g(q);P=b(P);V.va(q,P);n=f.Pi(q,r);f.ro(n)}var n=f.qm(l);null==n?m():function(){var q=Ea.f(n),r=V.g(Ea.f(l));r=b(r);var P=V.g(q);if(!1===Ia(P)){var N=P[P.length-1],da=N.value,fa=.9999999999*d;fa>N.frame&&r.unshift({frame:fa,value:da.clone()})}V.va(q,P.concat(r))}()})});this.Bp(this.oj());this.$n(this.nm(),this.om());!1===Ia(g)&&a();return this.Za};p.Fm=function(){return U.A(this.Za)};
p.$n=function(a,f){U.normalize(this.Za,a,f)};p.gj=function(a,f){re(this.Za,a,f)};var xe,Jg,Kg;xe=function(a,f){var e={};e.name=U.getName(a);e.from=U.W(a);e.to=U.A(a);e.loopAnimation=U.Mg(a);e.speedRatio=U.ae(a);var c=[];e.targetedAnimations=c;z(U.j(a),function(g){var h={},k=Ea.f(g);g=Ea.m(g);h.targetId=g===f?"characterRootMesh":g.id;k=V.So(k);h.animation=k;c.push(h)});return e};Jg=function(a,f){var e={};e.characterRootMesh=f;z(U.j(a),function(c){c=Ea.m(c);var g=c.id;null==e[g]&&(e[g]=c)});return function(c){return e[c]}};
Kg=function(a,f,e){var c=f.loopAnimation,g=f.speedRatio,h=U.create(f.name,a);U.wp(h,c);U.Rp(h,g);z(f.targetedAnimations,function(k){var b=e(k.targetId);null!=b&&(k=V.oi(k.animation),U.ka(h,k,b))});a=f.to;U.Dh(h,f.from);U.Lb(h,a);return h};function Lg(a,f,e,c,g,h){this.a=a;this.h=f;this.ze=e;this.th=c;this.pa=g;this.xe=h}p=Lg.prototype;p.bk=function(){return U.create(null,this.a)};p.j=function(){return U.j(this.h)};p.Gn=function(a){z(this.j(),function(f){a(f)})};p.Rj=function(a){return a/this.pa};p.fb=function(a){return a*this.pa};p.sj=function(){return this.fb(this.rj())};p.rj=function(){return null!=this.th?this.th:0};p.Kl=function(){return this.duration};
p.flatten=function(){function a(k){function b(){var va=d();pa=pa.concat(va)}function d(){var va=[],ua=!0,Ba=c*n,La=function(){var Ja=Ba;0<h&&(Ja=Math.min(Ja,c-h));return Ja}(),za=function(){return function(Ja){return null!=g&&Ja>g?!1:Ja<=Ba}}(),Wa=function(){return La<Ba?function(Ja){var xa=Ja.frame;return xa>=r.frame&&xa<=P.frame?ed(r.value,N.value,(xa-r.frame)/(P.frame-r.frame)):Ja.value}:function(Ja){return Ja.value}}();Cc(m,{v:function(){return ua},$:function(Ja){var xa=Ja.frame;za(xa)?(xa+=q,
null!=g&&xa<g||(null!=g&&(xa=0),Ja=Wa(Ja),va.push({frame:xa,value:Ja}))):ua=!1}});return va}var l=Ea.f(k);k=Ea.m(k);l=V.clone(l);null!=g&&V.H(l,g);var m=V.g(l),n=f.ze,q=0,r=null,P=null,N=null;if(0<h){var da=V.H(l,c-h),fa=V.H(l,c),ma=V.H(l,e);r=m[da];P=m[fa];N=m[ma]}for(var pa=[];0<n;)b(),n--,q+=c;V.va(l,pa);f.Oi(l,k)}var f=this;this.Xa=this.bk();var e=this.Ga(),c=this.sa();if(null!=this.xe){this.duration=0;var g=this.fb(this.xe)}else this.duration=this.Rj(c)*this.ze,g=null;var h=this.sj();0<h&&h>=
c&&(h=.999*c);this.Gn(function(k){a(k)});this.Sp(this.vj())};p.Oi=function(a,f){U.ka(this.Xa,a,f)};p.vj=function(){return null!=this.xe?0:this.sa()*this.ze};p.Ga=function(){return U.W(this.h)};p.sa=function(){return U.A(this.h)};p.Sp=function(a){U.Lb(this.Xa,a)};function ee(a,f,e,c,g,h,k){this.yc=a;this.R=f;this.h=e;this.Qa=c;this.cb=g;this.i=h;this.fc=this.bc=null;this.Rb=ze();this.mc=Pe();this.Rg=this.Tb=this.rb=!1;this.a=k}var Mg;p=ee.prototype;p.Se=function(a){this.Tb=a};p.Pe=function(a){this.Rb=a};p.We=function(a){this.mc=a};p.Xe=function(a){this.rb=a};p.vp=function(){this.Rg=!0};p.Jb=function(a){this.bc=a};p.Te=function(a){this.fc=a};p.Ve=function(a){this.Sc=a};p.M=function(){return Aa.M(this.yc)};p.am=function(){return sf(this.yc,this.i)};p.j=function(){return U.j(this.h)};
p.Ub=function(a){return this.cb[a]};p.Fl=function(){return W.Sd(this.R)};
p.ob=function(){function a(za){var Wa=Ea.f(za),Ja=Ea.m(za);V.bp(Wa,.1);V.Wc(Wa,!0);if(xf(Ja)&&Ja.id===Ba){var xa=V.B(Wa);if("rotationQuaternion"===xa){Ea.Sa(za,f.R);return}}var ub=Ca.getName(Ja);xa=Bc(P,function(Kb){return Ca.getName(Kb)===ub});null!=xa&&(Ja=Ca.ta(xa),null!=Ja?!1===va?(xa=V.B(Wa),"scaling"===xa?(Wa=V.g(Wa),z(Wa,function(Kb){Kb=Kb.value;Kb.x=1;Kb.y=1;Kb.z=1})):"position"===xa&&ub===pa&&null!=ua&&ua.Bf(za),Ea.Sa(za,Ja)):(null!=ua&&ua.Bf(za),xa=V.B(Wa),"rotationQuaternion"===xa?Ea.Sa(za,
Ja):"position"===xa&&ub===pa&&Ea.Sa(za,Ja)):console.error("Retarget missing bone: "+ub))}var f=this,e=ef.FRAME_PER_SECOND,c=this.bc,g=this.fc,h=this.Sc,k=this.Rb,b=this.mc,d=this.i,l=this.Qa,m=this.a,n=this.rb,q=this.Tb,r=this.Rg,P=this.M(),N=this.mn(),da=!1===N&&P.some(function(za){return["R_Jaw","L_Jaw","leftThumbMetacarpal","rightThumbMetacarpal"].includes(Ca.getName(za))}),fa=this.nn(),ma=this.am(),pa=null!=ma?Ca.getName(ma):void 0,va=Cf(d),ua=function(){if(n&&!1===q)return null;var za=new Ng({Ub:function(Wa){return f.Ub(Wa)}},
ma,e,N,da,fa,d,pa,l,m);va&&(za.Pe(k),za.We(b));za.Jb(c);za.Te(g);za.Ve(h);za.Xe(n);za.Se(q);return za}(),Ba=this.Fl(),La=this.j();z(La,function(za){a(za)});null!=ua&&null!=ma&&null!=l&&ua.Ti(La,l,r)};p.mn=function(){return tf(this.yc)};p.nn=function(){return uf(this.yc)};Mg=function(a,f,e){var c=void 0;f?c=.959262:e&&(c=1.015);f=c;return null!=f?a/f:null};function Ng(a,f,e,c,g,h,k,b,d,l){this.o=a;this.Ym=f;this.pa=e;this.Ng=c;this.yn=g;this.Pg=h;this.mc=this.Rb=null;this.i=k;this.Sc=this.fc=this.bc=null;this.Zg=b;this.Qa=d;this.a=l;this.Tb=this.rb=!1}p=Ng.prototype;p.Se=function(a){this.Tb=a};p.Xe=function(a){this.rb=a};p.Pe=function(a){this.Rb=a};p.We=function(a){this.mc=a};p.Jb=function(a){this.bc=a};p.Te=function(a){this.fc=a};p.Ve=function(a){this.Sc=a};
p.Bf=function(a){var f=V.B(Ea.f(a)),e=Ea.m(a);e=Ca.getName(e);"rotationQuaternion"===f?this.Wm(a):"position"===f&&e===this.Zg&&this.Um(a)};p.tj=function(a){return Mg(a,this.Ng,this.Pg)};p.Ti=function(a,f,e){if(!this.rb){var c=this.Zg,g=this.tj(f);null!=g&&(a=Bc(a,function(h){var k=Ea.f(h);h=Ea.m(h);h=Ca.getName(h);return"position"===V.B(k)&&h===c}),null!=a&&(a=V.g(Ea.f(a)),z(a,function(h){var k=Ke.ua(h),b=k.x*g,d=k.y*g;k=k.z*g;e&&(k=b=0);b=Gd.create(b,d,k);Ke.$a(h,b)})))}};
p.Um=function(a){if(!this.rb||!1!==this.Tb){var f=this.bc,e=this.fc,c=this.Sc,g=this.Ym,h=this.Qa,k=this.pa;if(null!=f||null!=e){a=V.g(Ea.f(a));null==e&&(e=f);e=e.toLowerCase();var b=function(){function l(r){return 0<=(null!=q?q:e).indexOf(r)}function m(r){if(Ia(c))return null;r=Kc(r);var P=null;Cc(c,{v:function(){return null==P},$:function(N){var da=N.startTime*k,fa=da+N.duration*k;da=Kc(da);fa=Kc(fa);r>=da&&r<=fa&&(P=N.inPlace)}});return P}var n={},q=null;n.Xn=function(r){q=m(r)};n.un=function(){return l("x")};
n.vn=function(){return l("y")};n.wn=function(){return l("z")};return n}(),d=function(){var l=Ca.ql(g);return Nb.Im(l)}();z(a,function(l){var m=Ke.ua(l);b.Xn(Ke.Rl(l));b.un()&&(m.x=d.x);b.vn()&&(m.y=h);b.wn()&&(m.z=d.z)})}}};p.Ub=function(a){return this.o.Ub(a)};
p.Wm=function(a){if(!this.rb){var f=Ea.f(a);a=Ea.m(a);var e=Ca.getName(a);if(this.Ng&&(Ga(e,"mixamorig:LeftFoot")||Ga(e,"mixamorig:RightFoot"))){var c=this.Ub(e);a=V.g(f);z(a,function(k){var b=Mb.Ma(Ke.ua(k)),d=Gd.create(c.x-lg[e].x,0,0);b=Gd.add(b,d);b=Gd.hq(b);Ke.$a(k,b)})}if(a=this.yn?mg:this.Pg?ng:void 0){var g=a[e];if(g){a=V.g(f);var h=Mb.create(g[0],g[1],g[2],g[3]);z(a,function(k){var b=Mb.multiply(Ke.ua(k),h);Ke.$a(k,b)})}}a=this.i;g=this.Rb;null!=g&&!1===Ae(g)&&De(e,a)&&Be(f,g,e,a);g=this.mc;
null!=g&&!1===Qe(g)&&Oe(e,a)&&Le(f,g,e,a,this.a)}};var Aa,Ca,U,Ea,V,Mb,Nb,Dd,Fd,Gd,Hd,Id,Kd,Qd,Rd,Sd,Td,ae,be,$d,je,ke,le,me,ie,ne,ye,Ke,W,af,bf,df,cf,hf,gf,jf,kf,of,pf,qf,zf,zg,Cg,Dg,Eg,Fg,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch;
(function(){function a(){return k("TransformNode")}function f(){return k("Scene")}function e(){return k("Animation")}function c(){return k("Quaternion")}function g(){return k("EasingFunction")}function h(){return k("Vector3")}function k(b){return self.BABYLON[b]}Og=k;Sd=h;Td=c;me=e;of=f;pf=function(){return k("AssetContainer")};ke=function(){return k("Mesh")};le=a;Pg={Ef:function(b,d,l,m){return k("Tools").CreateScreenshot(b,d,l,m)},ai:function(b,d,l,m,n){return k("Tools").CreateScreenshotAsync(b,
d,l,m,n)}};je={getName:function(b){return b.name},ln:function(b,d){return b.isDescendantOf(d)}};Qg={ei:function(){return g().EASINGMODE_EASEIN},fi:function(){return g().EASINGMODE_EASEINOUT},gi:function(){return g().EASINGMODE_EASEOUT},op:function(b,d){b.setEasingMode(d)}};Rg={cf:function(b,d,l){return k("MeshBuilder").CreateSphere(b,d,l)}};Dg={s:function(b,d){b.isEnabled=d}};Fg={lc:function(b,d){b.scaleRatio=d},Qe:function(b,d){b.attachedMesh=d},Kd:function(b){return b.attachedMesh},og:function(b){return b.onDragStartObservable},
um:function(b){return b.onDragObservable},Gc:function(b){return b.onDragEndObservable}};Sg={s:function(b,d){b.isEnabled=d}};Cg={Ag:function(b){return b.xGizmo},Bg:function(b){return b.yGizmo},$b:function(b){return b.zGizmo}};Tg={Ag:function(b){return b.xGizmo},Bg:function(b){return b.yGizmo},$b:function(b){return b.zGizmo}};Eg={create:function(b,d,l,m){return new (k("GizmoManager"))(b,d,l,m)},Fc:function(b){return b.gizmos},yf:function(b,d){b.attachToMesh(d)},lc:function(b,d){b.scaleRatio=d},Zd:function(b){return b.scaleRatio},
re:function(b){return b.positionGizmoEnabled},Kp:function(b,d){b.positionGizmoEnabled=d},te:function(b){return b.scaleGizmoEnabled},Op:function(b,d){b.scaleGizmoEnabled=d},se:function(b){return b.rotationGizmoEnabled},ad:function(b,d){b.rotationGizmoEnabled=d},Bh:function(b,d){b.enableAutoPicking=d},b:function(b){b.dispose()}};qf={fn:function(b,d,l,m){return b.instantiateModelsToScene(d,l,m)},I:function(b){return b.meshes},Ya:function(b){return b.skeletons},ce:function(b){return b.transformNodes},
ca:function(b){return b.animationGroups},ra:function(b){return b.scene},b:function(b){b.dispose()}};Id={create:function(b,d,l){return new (k("HemisphericLight"))(b,d,l)},Gh:function(b,d){b.intensity=d}};Mb={create:function(b,d,l,m){return new (c())(b,d,l,m)},br:function(b,d){b.w=d},hb:function(b){return b.w},clone:function(b){return b.clone()},Ma:function(b){return b.toEulerAngles()},Nj:function(b){return b.conjugate()},jb:function(b){return b.invert()},multiply:function(b,d){return b.multiply(d)},
Qc:function(b,d){return b.multiplyInPlace(d)},normalize:function(b){return b.normalize()},ao:function(b,d){return b.normalizeToRef(d)},si:function(b,d){return c().RotationAxis(b,d)},vq:function(b,d){return c().FromRotationMatrixToRef(b,d)},uq:function(b){return c().FromRotationMatrix(b)},ga:function(b,d,l){return c().FromEulerAngles(b,d,l)},ef:function(b,d,l,m){return c().SlerpToRef(b,d,l,m)},hd:function(b,d,l){return c().Slerp(b,d,l)},iq:function(b,d){return b.toRotationMatrix(d)},mf:function(b,
d){return b.addInPlace(d)}};Aa={ra:function(b){return b.getScene()},clone:function(b,d,l){return b.clone(d,l)},M:function(b){return b.bones},Mo:function(b){b.returnToRest()},b:function(b){b.dispose()}};Ug={ii:function(b){return k("Angle").FromRadians(b)},df:function(b){return k("Angle").FromDegrees(b)},tg:function(b){return b.radians()},Hl:function(b){return b.degrees()}};Ca={ql:function(b){return b.getBindMatrix()},Hc:function(b){return b.getRestMatrix()},u:function(b,d,l){return b.getPosition(d,
l)},Mq:function(b,d,l,m){b.getPositionToRef(d,l,m)},ta:function(b){return b.getTransformNode()},getName:function(b){return b.name},ic:function(b){return b.rotationQuaternion},J:function(b,d,l){return b.getRotationQuaternion(d,l)},Qq:function(b,d,l,m){return b.getRotationQuaternionToRef(d,l,m)},ug:function(b,d,l){return b.getRotation(d,l)},Cd:function(b,d){return b.getAbsolutePosition(d)}};Ke={ua:function(b){return b.value},$a:function(b,d){b.value=d},Rl:function(b){return b.frame}};V={create:function(b,
d,l,m,n,q){return new (e())(b,d,l,m,n,q)},clone:function(b){return b.clone()},bp:function(b,d){b.blendingSpeed=d},Wc:function(b,d){b.enableBlending=d},cg:function(b){return b.framePerSecond},B:function(b){return b.targetProperty},$f:function(b){return b.dataType},jm:function(b){return b.loopMode},np:function(b,d){b.setEasingFunction(d)},oi:function(b){return e().Parse(b)},va:function(b,d,l){b.setKeys(d,l)},g:function(b){return b.getKeys()},H:function(b,d){return b.createKeyForFrame(d)},So:function(b){return b.serialize()},
Jd:function(){return e().ANIMATIONTYPE_VECTOR3},Hd:function(){return e().ANIMATIONTYPE_FLOAT},Id:function(){return e().ANIMATIONTYPE_QUATERNION},kl:function(){return e().ANIMATIONLOOPMODE_CYCLE}};Ea={zh:function(b,d){b.animation=d},f:function(b){return b.animation},Sa:function(b,d){b.target=d},m:function(b){return b.target}};U={create:function(b,d,l,m){return new (k("AnimationGroup"))(b,d,l,m)},Yh:function(b,d,l,m,n){return k("AnimationGroup").ClipFrames(b,d,l,m,n)},start:function(b,d,l,m,n,q){return b.start(d,
l,m,n,q)},play:function(b,d){return b.play(d)},pause:function(b){return b.pause()},stop:function(b){return b.stop()},reset:function(b){return b.reset()},za:function(b,d){return b.goToFrame(d)},normalize:function(b,d,l){return b.normalize(d,l)},Mg:function(b){return b.loopAnimation},wp:function(b,d){b.loopAnimation=d},ae:function(b){return b.speedRatio},Rp:function(b,d){b.speedRatio=d},Wc:function(b,d){b.enableBlending=d},getName:function(b){return b.name},W:function(b){return b.from},A:function(b){return b.to},
Dh:function(b,d){b.from=d},Lb:function(b,d){b.to=d},clone:function(b,d,l,m){return b.clone(d,l,m)},j:function(b){return b.targetedAnimations},jl:function(b){return b.animatables},ka:function(b,d,l){return b.addTargetedAnimation(d,l)},Fo:function(b,d){b.removeTargetedAnimation(d)},Nc:function(b){return b.isStarted},dc:function(b){return b.isPlaying},b:function(b){b.dispose()},Kq:function(b){return b.getLength()}};Vg={f:function(b){return b.animation},m:function(b){return b.target}};ye={km:function(b){return b.masterFrame},
getAnimations:function(b){return b.getAnimations()}};cf={fd:function(b){return k("Color3").FromHexString(b)}};Fd={create:function(b,d,l,m){return new (k("Color4"))(b,d,l,m)}};bf={yh:function(b,d){b.albedoColor=d},il:function(b){return b.albedoColor},Oe:function(b,d){b.albedoTexture=d},Rf:function(b){return b.albedoTexture}};af={getName:function(b){return b.name},rl:function(b){return b.getBindedMeshes()},b:function(b,d,l,m){b.dispose(d,l,m)}};Nb={hi:function(b,d){return k("Matrix").FromQuaternionToRef(b,
d)},Zh:function(b,d,l){return k("Matrix").Compose(b,d,l)},Ab:function(){return k("Matrix").IdentityReadOnly},Td:function(){return k("Matrix").Identity()},jb:function(b){return b.invert()},Wa:function(b,d,l,m,n,q){return b.decompose(d,l,m,n,q)},normalize:function(b){return b.normalize()},multiply:function(b,d){return b.multiply(d)},Sb:function(b,d){return b.equals(d)},Im:function(b){return b.getTranslation()}};be={I:function(b){return b.meshes},Ya:function(b){return b.skeletons},ca:function(b){return b.animationGroups}};
ne={Tl:function(b){return b.glTFFiles}};ie={ji:function(b,d,l){return k("GLTF2Export").GLBAsync(b,d,l)}};ae={wa:function(b,d,l,m,n,q,r){return k("SceneLoader").ImportMeshAsync(b,d,l,m,n,q,r)},pc:function(b,d,l,m,n){return k("SceneLoader").LoadAssetContainerAsync(b,d,l,m,n)}};zg={add:function(b,d,l,m,n,q){return b.add(d,l,m,n,q)},wc:function(b,d){return b.addOnce(d)},remove:function(b,d){return b.remove(d)}};Wg={b:function(b){b.dispose()}};df={create:function(b,d,l,m,n,q,r,P,N,da,fa,ma,pa,va){return new (k("Texture"))(b,
d,l,m,n,q,r,P,N,da,fa,ma,pa,va)},Lh:function(b,d){b.uScale=d},Mh:function(b,d){b.vScale=d},Nh:function(b,d){b.wAng=d},b:function(b){b.dispose()}};Dd={xa:function(b){return b.getEngine()},eq:function(b){b.stopAllAnimations()},Gm:function(b,d){return b.getTransformNodeById(d)},ce:function(b){return b.transformNodes},Rq:function(b){return b.textures},Lq:function(b){return b.onPointerObservable},Xd:function(b){return b.onBeforeRenderObservable},Wd:function(b){return b.onAfterRenderObservable},sm:function(b){return b.onAfterDrawPhaseObservable},
de:function(b){return b.uid},qa:function(b){return b.activeCamera},create:function(b,d){return new (f())(b,d)},Ah:function(b,d){b.clearColor=d},Tp:function(b,d,l,m,n){b.setTransformMatrix(d,l,m,n)},Jc:function(b){return b.getTransformMatrix()},nb:function(b,d,l){return b.render(d,l)},I:function(b){return b.meshes},Ya:function(b){return b.skeletons},ca:function(b){return b.animationGroups},Vd:function(b){return b.morphTargetManagers},lm:function(b){return b.materials},De:function(b,d){b.registerBeforeRender(d)},
Uh:function(b,d){b.unregisterBeforeRender(d)},zo:function(b,d,l){return b.removeMesh(d,l)},$q:function(b,d){return b.removeSkeleton(d)},Ij:function(b){b.clearCachedVertexData()},Fj:function(b){b.cleanCachedTextureBuffer()},b:function(b){b.dispose()},pn:function(b){return b.isDisposed},Ac:function(b,d){return b.executeWhenReady(d)}};Xg={oc:function(b,d,l){return k("Scalar").Lerp(b,d,l)}};Gd={create:function(b,d,l){return new (h())(b,d,l)},oc:function(b,d,l){return h().Lerp(b,d,l)},gd:function(b,d,
l,m){return h().Project(b,d,l,m)},gf:function(b,d,l,m,n,q){return h().Unproject(b,d,l,m,n,q)},scale:function(b,d){return b.scale(d)},ff:function(b,d){return h().TransformCoordinates(b,d)},pi:function(b,d,l,m,n){return h().ProjectToRef(b,d,l,m,n)},wi:function(){return h().Zero()},ti:function(){return h().Up()},di:function(){return h().Down()},li:function(){return h().Left()},ri:function(){return h().Right()},Nb:function(){return h().Forward()},nc:function(){return h().Backward()},clone:function(b){return b.clone()},
Sb:function(b,d){return b.equals(d)},Eq:function(b,d){b.copyFrom(d)},jc:function(b,d){return b.scaleInPlace(d)},Gk:function(b,d){return b.divideInPlace(d)},Qc:function(b,d){return b.multiplyInPlace(d)},add:function(b,d){return b.add(d)},fq:function(b,d){return b.subtract(d)},set:function(b,d,l,m){return b.set(d,l,m)},hq:function(b){return b.toQuaternion()},ki:function(b,d,l){return h().GetAngleBetweenVectors(b,d,l)},ci:function(b,d){return h().Dot(b,d)},vk:function(b,d){return b.cross(d)},normalize:function(b){return b.normalize()},
ef:function(b,d,l,m){return h().SlerpToRef(b,d,l,m)},mf:function(b,d){return b.addInPlace(d)},xq:function(b,d){return h().Maximize(b,d)},yq:function(b,d){return h().Minimize(b,d)},Qb:function(b,d){return b.applyRotationQuaternion(d)}};Hd={create:function(b,d,l,m){return new (k("FreeCamera"))(b,d,l,m)},Sa:function(b,d){b.setTarget(d)},Dp:function(b,d){b.mode=d},xa:function(b){return b.getEngine()}};jf={mi:function(){return k("Camera").ORTHOGRAPHIC_CAMERA},Hp:function(b,d){b.orthoTop=d},Ep:function(b,
d){b.orthoBottom=d},Fp:function(b,d){b.orthoLeft=d},Gp:function(b,d){b.orthoRight=d},Yd:function(b,d){return b.getProjectionMatrix(d)},ra:function(b){return b.getScene()},ee:function(b,d){return b.getViewMatrix(d)},Kc:function(b){return b.viewport},Xp:function(b,d){b.viewport=d},u:function(b){return b.position}};kf={create:function(b,d,l,m){return new (k("Viewport"))(b,d,l,m)},dd:function(b,d,l){return b.toGlobal(d,l)}};W={clone:function(b,d,l,m,n){return b.clone(d,l,m,n)},getMetadata:function(b){return b.metadata},
qo:function(b,d,l){return b.refreshBoundingInfo(d,l)},Ea:function(b,d,l){return b.computeWorldMatrix(d,l)},Zb:function(b){return b.uniqueId},setPosition:function(b,d){b.position=d},u:function(b){return b.position},ug:function(b){return b.rotation},J:function(b){return b.rotationQuaternion},bd:function(b,d){b.scaling=d},l:function(b){return b.scaling},da:function(b,d){b.rotationQuaternion=d},Qf:function(b){return b.absoluteScaling},Cd:function(b){return b.absolutePosition},$k:function(b){return b.absoluteRotationQuaternion},
getName:function(b){return b.name},ra:function(b){return b.getScene()},To:function(b,d){b.alphaIndex=d},Jh:function(b,d){b.rotation=d},Vb:function(b){return b.getBoundingInfo()},cp:function(b,d){return b.setBoundingInfo(d)},fe:function(b){return b.getWorldMatrix()},Od:function(b,d,l){return b.getChildTransformNodes(d,l)},Xf:function(b,d,l){return b.getChildMeshes(d,l)},aa:function(b,d){b.parent=d},getParent:function(b){return b.parent},s:function(b,d){b.setEnabled(d)},isEnabled:function(b){return b.isEnabled()},
Yf:function(b,d,l){return b.getChildren(d,l)},Ud:function(b){return b.material},mg:function(b){return b.morphTargetManager},Np:function(b,d){b.renderOutline=d},Ip:function(b,d){b.outlineColor=d},Jp:function(b,d){b.outlineWidth=d},Sd:function(b){return b.id},b:function(b,d,l){b.dispose(d,l)}};Yg={getName:function(b){return b.name},Ba:function(b,d){b.influence=d},eg:function(b){return b.influence}};zf={rm:function(b){return b.numTargets},m:function(b,d){return b.getTarget(d)},b:function(b){b.dispose()}};
Zg={create:function(b){return new (k("NullEngine"))(b)}};$g={Dc:function(b){return b.camera},s:function(b,d){b.enabled=d},isEnabled:function(b){return b.enabled}};Kd={Ra:function(b,d,l,m){return b.registerView(d,l,m)},kq:function(b,d){return b.unRegisterView(d)},resize:function(b,d){b.resize(d)},create:function(b,d,l,m){return new (k("Engine"))(b,d,l,m)},Ie:function(b,d){b.runRenderLoop(d)},sb:function(b,d){b.stopRenderLoop(d)},ml:function(b,d,l){return b.getAspectRatio(d,l)},Il:function(b){return b.getDeltaTime()},
Oq:function(b,d){return b.getRenderWidth(d)},Nq:function(b,d){return b.getRenderHeight(d)},pl:function(){return k("Engine").audioEngine},qp:function(b,d){b.enableOfflineSupport=d},hl:function(b){return b.activeView},Fh:function(b,d){b.inputElement=d},Lm:function(b){return b.views},b:function(b){b.dispose()}};ah={xn:function(b){return b.unlocked},unlock:function(b){b.unlock()}};hf={create:function(b,d,l){return new (k("BoundingInfo"))(b,d,l)},Md:function(b){return b.boundingBox},Yg:function(b){return b.minimum},
Vg:function(b){return b.maximum},po:function(b,d,l,m){return b.reConstruct(d,l,m)}};gf={zg:function(b){return b.vectorsWorld},mm:function(b){return b.maximumWorld},lg:function(b){return b.minimumWorld}};Qd={create:function(b,d,l,m){return new (k("BoneLookController"))(b,d,l,m)},Sa:function(b,d){b.target=d},update:function(b){b.update()}};Rd={Xh:function(){return k("Space").BONE},wq:function(){return k("Space").LOCAL},ui:function(){return k("Space").WORLD}};$d={create:function(b,d,l){return new (a())(b,
d,l)},Sg:function(b,d,l,m,n,q){return b.lookAt(d,l,m,n,q)},Ea:function(b,d,l){return b.computeWorldMatrix(d,l)},rotate:function(b,d,l,m){return b.rotate(d,l,m)},Km:function(b){return b.up},Ql:function(b){return b.forward},u:function(b){return b.position},setPosition:function(b,d){b.position=d},l:function(b){return b.scaling},J:function(b){return b.rotationQuaternion},da:function(b,d){b.rotationQuaternion=d},fe:function(b){return b.getWorldMatrix()},tp:function(b,d){b.id=d},Sd:function(b){return b.id},
aa:function(b,d){b.parent=d},getParent:function(b){return b.parent},Cp:function(b,d){b.metadata=d},getMetadata:function(b){return b.metadata},Jl:function(b,d){return b.getDirection(d)},getName:function(b){return b.name},Fq:function(b,d){return b.detachFromBone(d)},dg:function(b,d){return b.getHierarchyBoundingVectors(d)},b:function(b,d,l){b.dispose(d,l)}};bh={zq:function(){return k("Axis").X},vi:function(){return k("Axis").Y},Aq:function(){return k("Axis").Z}};ch={create:function(b,d,l,m,n,q,r){return new (k("FxaaPostProcess"))(b,
d,l,m,n,q,r)}}})();var dh;(function(){dh={$h:function(a,f,e,c,g){return new self.BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(a,f,e,c,g)},Bq:function(a,f){return a.addControl(f)},Zq:function(a,f){return a.removeControl(f)}}})();var Cd,Ed,Jd,Ld,eh,jh;
(function(){var a=!0,f=!1,e=!1,c=!1,g=30,h=!1,k=function(){var d=self.vpCommonApi;if(null==d)return null;d=d.localStorage.getItem("babylonjs-options");if(null==jc(d))return null;try{return JSON.parse(d)}catch(l){console.error(l)}return null}();if(null!=k){var b=function(d,l){var m=k[d];return null!=m?m:l};a=b("enableOfflineSupport",a);h=b("antiAliasing",h);f=b("doNotHandleContextLost",f);e=b("clearCachedVertexData",e);c=b("cleanCachedTextureBuffer",c);g=b("editingModeFps",g);console.log("===== Loaded babylon.js options =====");
console.log("enableOfflineSupport = "+a);console.log("doNotHandleContextLost = "+f);console.log("clearCachedVertexData = "+e);console.log("cleanCachedTextureBuffer = "+c);console.log("editingModeFps = "+g);console.log("antiAliasing = "+h)}eh=function(){return g};Ld=function(){return a};jh=function(){return h};Jd=function(){return f};Cd=function(){return e};Ed=function(){return c}})();var ef={};
(function(){function a(){return new Promise(function(x){self.character3dController=function(){return{getActionFamilyNameForCharacterFamilyName:function(ca){return If(ca)},fromElement:function(ca){var qa=this;return new Promise(function(G,ka){var wa=ca.closest('g[graphViewDrawPane="true"]');if(null==wa)ka("Cannot find enclosing graphViewDrawPane element");else{var Oa=[],na={getCanvasHostParentElement:function(){return wa},addAnimationInfoObserver:function(ha){Oa.push(ha)},removeAnimationInfoObserver:function(ha){ha=Oa.indexOf(ha);
0<=ha&&Oa.splice(ha,1)},getBrightness:function(){function ha(ba){if(null==ba)return null;if("svg"==ba.nodeName||"SVG"==ba.nodeName){var ea=ba.getAttribute("animation");if(ea){try{var oa=JSON.parse(ea)}catch(gc){oa={}}ea=((oa.page||{}).animationInfo||{}).brightness;if(null!=ea)return ea}return ha(ba.parentElement)}return ha(ba.closest("svg"))}return ha(wa)},addAssetInfoForActionPropsIdAndPath:function(){},fireAnimationInfoObservers:function(){Oa.forEach(function(ha){return ha()})},dispatchElementCharacter3dControllerCreatedEventToDrawPane:function(ha){var ba=
na.getCanvasHostParentElement();null!=ba&&ba.dispatchEvent(new CustomEvent("elementCharacter3dControllerCreated",{detail:{elementCharacter3dController:ha,ownerOfElementCharacter3dController:na}}))}};qa.forOwner(na).then(function(ha){G(ha)})["catch"](function(ha){ka(ha)})}})},forOwner:function(ca){return new Promise(function(qa,G){var ka=ca.getCanvasHostParentElement();null==ka?G("Canvas host parent element cannot be null"):(ka=ka.querySelector("["+Fb+"="+rc+"]"),null!=ka?(qa(ka.zd),ka.parentElement.appendChild(ka),
ca.dispatchElementCharacter3dControllerCreatedEventToDrawPane(ka.zd)):d(ca).then(function(wa){qa(wa)})["catch"](function(wa){G(wa)}))})}}}();x()})}function f(x,ca){x=void 0===x?1:x;ca=void 0===ca?1.5:ca;var qa=[];Array.from(Array(20)).map(function(G,ka){qa.push(x/20*ka)});Array.from(Array(20)).map(function(G,ka){qa.push(x+(ca-x)/20*ka)});qa.push(ca);return qa}function e(x){return new Promise(function(ca,qa){var G;ua().then(function(){return a()}).then(function(){return ac("https://static.visual-paradigm.com/asset/b4/b4250e07-e467-42b5-91fd-8f77854797da/character.json")}).then(function(ka){G=
ka;(function(){var wa=G["brightness_level.json"];Object.keys(wa).map(function(Oa){var na=wa[Oa];Ec[Oa]=f(na["default"],na.max)});self.updateBrightnessLevel=function(Oa,na,ha){Ec[Oa]=f(na,ha)}})();Nd=kg(G);ef.isNonMixamoBasedFamily=function(wa){return null!=G.non_mixamo_based_families[wa]};ef.is2DFamily=function(){var wa=function(){var Oa={};z(G["2d_families"],function(na){Oa[na]=!0});return Oa}();return function(Oa){return!0===wa[Oa]}}();ef.isCharacterFamilySupportFeature=function(wa,Oa,na){null==
na&&(na=!0);wa=G.non_mixamo_based_families[wa];return null==wa||null==wa[Oa]?na:!0===wa[Oa]};ef.getCharacterFamilyTextureSupportInfo=function(){var wa=G["character_textures.json"];return function(Oa){Oa=wa[Oa];return null==Oa||!0!==Oa.available?null:{supportColor:!0,supportImage:Oa.support_image}}}();return pg()}).then(function(ka){hd=ka;ka=c(x);ca(ka)})["catch"](function(ka){qa(ka)})})}function c(x){var ca={},qa={};ca.registerResource=function(G,ka){qa[G]=ka};ca.ARROW_HEAD_GLB_PATH_RESOURCE_KEY=
"AdjustHeadOrientationTool.arrowHeadGlbPath";ca.Cm=function(G){return qa[G]};ca.ol=function(G,ka){return x.getAssetUrlWithType(G,ka)};ca.Fa=function(G,ka,wa){return x.ensureActionAssetInVpDiagramData?x.ensureActionAssetInVpDiagramData(G,ka,wa):Promise.resolve()};(function(){if("undefined"!==typeof window){var G=function(){var ka=Kd.pl();null!=ka&&(window.removeEventListener("click",G),!1===ah.xn(ka)&&ah.unlock(ka))};window.addEventListener("click",G)}})();return ca}function g(x,ca){return new Promise(function(qa,
G){h(x,ca).then(function(ka){qa(ka.assetUrl)})["catch"](function(ka){G(ka)})})}function h(x,ca){return new Promise(function(qa,G){k().then(function(){return Dc.ol(x,ca)}).then(function(ka){qa(ka)})["catch"](function(ka){G(ka)})})}function k(){return new Promise(function(x){null!=Dc?x():b(function(){x()})})}function b(x){null==bc&&(bc=function(){var ca={},qa=[];ca.Ii=function(G){qa.push(G)};ca.Io=function(){!1===Ia(qa)&&(z(qa,function(G){G()}),qa=[])};return ca}());bc.Ii(x)}function d(x){function ca(){function Fa(){var v=
{};Ud.add(v);return v}function hb(v,H,L,T,J,la,Ka){la&&qe(v,Ka);H=ue(v,H,L);null!=H&&(v=J(),v=Kg(T,H,v));la&&qe(v,Ka);return v}function Ib(){od(Vd&&!1===Ge)}function ec(){Ge&&(Ge=!1,Ib())}function wb(v){32===v.keyCode&&(Ge=!0,v.stopPropagation(),v.preventDefault(),Ib())}function Gb(){var v={},H=[];v.add=function(L){H.push(L)};v.remove=function(L){L=H.indexOf(L);0<=L&&H.splice(L,1)};v.fireEvent=function(L){H.forEach(function(T){T(L)})};return v}function cc(v,H,L){v={characterElement:v.Va.Hf,actionId:v.ld,
propsId:v.lb};H.$e(v);L.fireEvent(v)}function ib(v,H){return new Promise(function(L,T){null!=v?g(ab,v).then(function(J){return ac(J,!1===Ga(J,"https://static.visual-paradigm.com"))}).then(function(J){L(J.data)})["catch"](function(J){T(J)}):L(H)})}var Vb=function(){var v={},H=function(){var L={},T={};L.add=function(J,la,Ka){var bb=T[la];null==bb&&(bb=[],T[la]=bb);bb.push({Bm:function(Qa){self.clearTimeout(Ka);J.lh(Qa);return J},kn:function(Qa){return Qa===J},oa:function(){var Qa=bb.indexOf(this);0<=
Qa&&(bb.splice(Qa,1),0===bb.length&&delete T[la])}})};L.pop=function(J){var la=T[J];if(null==la)return null;var Ka=la.shift();0===la.length&&delete T[J];return Ka};L.remove=function(J,la){var Ka=T[J];null!=Ka&&(Ka=Bc(Ka,function(bb){return bb.kn(la)}),null!=Ka&&Ka.oa())};return L}();v.Nd=function(L,T){var J=H.pop(L);return null!=J?J.Bm(T):null};v.yk=function(L,T,J){var la=self.setTimeout(function(){H.remove(T,L);J()},1E3);H.add(L,T,la)};return v}(),ab={},qd=function(){function v(){var J={},la=null,
Ka=null;J.add=function(bb){this.N()?Ka=bb:null!=la?la.push(bb):null!=Ka&&(la=[Ka,bb],Ka=null)};(function(){var bb=[];J.pf=function(Qa){0<=bb.indexOf(Qa)||bb.push(Qa)};J.yo=function(Qa){Qa=bb.indexOf(Qa);0>Qa||bb.splice(Qa,1)};J.tn=function(){return 0===bb.length};J.dm=function(){return bb.length}})();J.me=function(){return!1===this.tn()};J.contains=function(bb){return this.N()?!1:null!=la?0<=la.indexOf(bb):bb===Ka};J.Bl=function(bb){if(this.N())return null;if(null!=Ka){var Qa=Ka;Ka=null;return Qa}return null!=
la?(Qa=function(){var sb=function(){var Wb=bb.getAttribute("animations_json");if(null==jc(Wb))return null;a:{try{var Zb=JSON.parse(Wb);break a}catch(kb){console.error(kb)}Zb=null}return null==Zb?null:Zb.actions}();if(Ia(sb))return null;var Rb=pd.gg(sb[0]);Cc(la,{v:function(){return null==Qa},$:function(Wb){pd.bl(pd.hg(Rb,Wb))&&(Qa=Wb,la.splice(la.indexOf(Qa),1))}});return Qa}(),null==Qa&&(Qa=la.pop()),1===la.length&&(Ka=la[0],la=null),Qa):null};J.N=function(){return null==Ka&&null==la};J.debug=function(){console.log("Reference count: "+
this.dm());this.N()?console.log("Empty"):null!=Ka?console.log("One character object"):null!=la&&console.log(la.length+" character objects")};return J}function H(J){var la=T[J];null==la&&(la=v(),T[J]=la);return la}var L={},T={};L.register=function(J,la,Ka){J=H(J);J.contains(la)||(J.add(la),J.pf(Ka))};L.unregister=function(J,la,Ka){J=H(J);!1===J.contains(Ka)&&J.add(Ka);J.yo(la)};L.oa=function(J){null!=T[J]&&delete T[J]};L.me=function(J){J=T[J];return null==J?!1:J.me()};L.Nd=function(J,la,Ka){J=T[J];
if(null!=J&&!1===J.N()){J.pf(Ka);var bb=J.Bl(la);bb.lh(la);bb.wd=Ka}return bb};L.debug=function(){Da(T,function(J,la){console.log("characterAssetId: "+J);la.debug()})};return L}(),pd=function(){var v={},H={};v.hg=function(L,T){return L+"\n"+T.Jm()};v.em=function(L,T){var J=this.gg(L);return this.hg(J,T)};v.gg=function(L){return Wa(JSON.stringify(L))};v.Dd=function(){var L=0;Da(H,function(){L++});return L};v.debug=function(){console.log("Action count: "+this.Dd());var L=0;Da(H,function(T){console.log(L+
1+" : "+T);L++});console.log("\n")};v.register=function(L,T){H[L]!==T&&(H[L]=T)};v.unregister=function(L){delete H[L]};v.bl=function(L){return H[L]};v.cl=function(L){var T=H[L];null!=T&&delete H[L];return T};return v}();(function(){var v=function(){function H(){return{done:function(){T.shift();0<T.length&&T[0].resolve(H())}}}var L={},T=[];L.add=function(J,la){T.push({resolve:J,reject:la});1===T.length&&0<T.length&&T[0].resolve(H())};return L}();ab.Ro=function(){return new Promise(function(H,L){v.add(H,
L)})}})();ab.importGlbFile=function(v){return new Promise(function(H,L){var T=URL.createObjectURL(v),J=v.name;(function(){if(J.endsWith(".glb"))return ae.wa("",T,v,F.a,null,".glb");if(J.endsWith(".eglb"))return ld(T,!0).then(function(la){return ae.wa("",la.U,la.url,F.a,null,la.T)});L("unknown file extension")})().then(function(la){var Ka=be.I(la)[0];la=W.J(Ka);var bb=Mb.ga(0,0,0);la.x=bb.x;la.y=bb.y;la.z=bb.z;la.w=bb.w;Gd.jc(W.l(Ka),8);var Qa=W.u(Ka);Qa.y-=6;document.addEventListener("keydown",function(sb){switch(sb.key){case "a":case "A":Qa.x-=
.25;break;case "d":case "D":Qa.x+=.25;break;case "w":case "W":Qa.y+=.25;break;case "s":case "S":Qa.y-=.25;break;case "=":case "+":Gd.jc(W.l(Ka),1.15);break;case "-":case "_":Gd.jc(W.l(Ka),.85)}});H()})["catch"](function(la){L(la)})["finally"](function(){URL.revokeObjectURL(T)})})};ab.setEditingMode=function(v){fh=v};ab.hn=function(v){return function(){Ud.b();fc.b();null!=Jf&&Jf();xa.gb(F);Dd.b(v)}}(F.a,F.K);ab.clearCache=function(){wc.Hj(F.a)};ab.freezeGetCanvasZoneBoundsFunctionAndReturnHandler=
function(){var v=wa,H=wa();wa=function(){return H};return{restore:function(){wa=v}}};ab.prepareApplyCamera=function(){null==this.cc&&(this.cc=function(){var v=new Map,H=new Map,L=null==rd?{x:0,y:0,width:0,height:0}:rd.getBoundingClientRect();fc.D(function(la){var Ka=fc.ya(la).Va,bb=Ka.Cc(),Qa=Ka.getAttribute("data-char-bounds");v.set(la,{boundingClientRect:bb,ma:Qa&&JSON.parse(Qa)});H.set(la,Ka)});var T=wa(),J=wa;wa=function(){return T};return{El:function(la){return v.get(la)},Jq:function(la){return H.get(la)},
yl:function(){return L},oa:function(){wa=J}}}())};ab.getInfoForCamera=function(){return this.cc};ab.applyCamera=function(v,H,L){var T=this.cc;fc.D(function(J){var la=T.El(J),Ka=la.boundingClientRect;la=la.ma;var bb=T.yl();la?J.fp(la.x,la.y,la.width,la.height):J.ep((Ka.x-bb.x)*v+(bb.x+H*v),(Ka.y-bb.y)*v+(bb.y+L*v),Ka.width*v,Ka.height*v)})};ab.finishApplyCamera=function(){this.cc.oa();delete this.cc};var th=function(){function v(){var L=Xb();cc(L,{$e:function(T){var J=W.u(L);T.position={x:J.x,y:J.y,
z:J.z}}},gh)}var H;return function(L){if(L!==Eg.re(F.C)){Eg.Kp(F.C,L);if(L){L=Eg.Zd(F.C);var T=hc();Fg.lc(T,L);L=$a();H=zg.add(L,v)}else L=H,T=$a(),zg.remove(T,L),H=null;Kf.fireEvent()}}}(),uh=function(){function v(){var L=gb();cc(L,{$e:function(T){var J=W.l(L),la=W.u(L),Ka=W.J(L);T.scale={x:J.x,y:J.y,z:J.z};T.position={x:la.x,y:la.y,z:la.z};T.rotation={x:Ka.x,y:Ka.y,z:Ka.z,w:Mb.hb(Ka)}}},hh)}var H;return function(L){if(L!==Eg.te(F.C)){Eg.Op(F.C,L);if(L){L=Eg.Zd(F.C);var T=Cb();Fg.lc(T,L);L=mb();
H=zg.add(L,v);L=Cb();T=Tg.Bg(L);var J=Tg.$b(L);Sg.s(Tg.Ag(L),!1);Sg.s(T,!1);Sg.s(J,!1)}else L=H,T=mb(),zg.remove(T,L),H=null;Lf.fireEvent()}}}(),Nf=function(){function v(){var L=rb();null!=L.Va&&cc(L,{$e:function(T){var J=W.J(L),la=W.u(L),Ka=W.l(L);T.rotation={x:J.x,y:J.y,z:J.z,w:Mb.hb(J)};T.position={x:la.x,y:la.y,z:la.z};T.scale={x:Ka.x,y:Ka.y,z:Ka.z}}},ih)}var H;return function(L){if(L!==Eg.se(F.C)){Eg.ad(F.C,L);if(L){L=Eg.Zd(F.C);var T=Ob();Fg.lc(T,L);H=oa(v)}else ea(H),H=null;Mf.fireEvent()}}}(),
He=Gb();ab.addPoseEditorShowingListener=function(v){He.add(v)};ab.removePoseEditorShowingListener=function(v){He.remove(v)};var gh=Gb(),hh=Gb(),ih=Gb();ab.addPropsPositionChangedListener=function(v){gh.add(v)};ab.addPropsScaleChangedListener=function(v){hh.add(v)};ab.addPropsRotationChangedListener=function(v){ih.add(v)};var Kf=Gb();ab.addPropsPositionGizmoEnabledChangedListener=function(v){Kf.add(v)};ab.removePropsPositionGizmoEnabledChangedListener=function(v){Kf.remove(v)};var Lf=Gb();ab.addPropsScaleGizmoEnabledChangedListener=
function(v){Lf.add(v)};ab.removePropsScaleGizmoEnabledChangedListener=function(v){Lf.remove(v)};var Mf=Gb();ab.addPropsRotationGizmoEnabledChangedListener=function(v){Mf.add(v)};ab.removePropsRotationGizmoEnabledChangedListener=function(v){Mf.remove(v)};ab.enableInput=function(){F.pe=F.canvas;null!=F.zc&&$g.isEnabled(F.zc)&&"function"===typeof xa.Ch&&xa.Ch(F.pe)};ab.setGizmoManagerScaleRatio=function(v){Eg.lc(F.C,v)};ab.hasMultipleViews=function(){return xa.ke()};ab.getScene=function(){return F.a};
ab.startRender=function(){id++;1==id&&xa.cd(F)};ab.stopRender=function(){id--;0==id&&xa.sb(F)};ab.clearRender=function(){id=0;xa.sb(F)};ab.renderOnce=function(){var v=this;return this.hasMultipleViews()?new Promise(function(H){zg.wc(Dd.Wd(F.a),function(){H();v.stopRender()});v.startRender()}):vh(F.K)};ab.setCanvasParentElementBounds=function(v,H,L,T){F.Ca.setAttribute("x",v);F.Ca.setAttribute("y",H);F.Ca.setAttribute("width",L);F.Ca.setAttribute("height",T)};ab.boundsChanged=function(v,H){function L(){var J=
F.canvas;0!==J.clientWidth&&0!==J.clientHeight&&(Kd.resize(F.K),F.Rc.tb(),F.a.Pf=!0,T.synchronizeAllCharactersBounds(H),delete F.a.Pf)}null==v&&(v=!1);var T=this;v?L():F.a.Hi(L)};ab.requestRealTimeRender=function(){Of=!0};ab.synchronizeAllCharactersBounds=function(v){fc.gq(v)};ab.getActionDurationInSeconds=function(v){var H=this;return new Promise(function(L,T){g(H,v).then(function(J){return ld(J,void 0)}).then(function(J){return Ad(J.U,J.url,F.a,J.T,v)}).then(function(J){var la=qf.I(J);!1===Ia(la)&&
Hc(la,function(Ka){Ze(Ka)});la=U.A(qf.ca(J)[0])/fb;qf.b(J);delete J.rootNodes;L(la)})["catch"](function(J){T(J)})})};ab.loadBlendAction=function(v,H,L,T,J,la,Ka){return new Promise(function(bb){function Qa(){sb()}function sb(){function kb(){function Ya(vb,jb){z(U.j(vb),function(Bb){jb(Bb)})}var Hb=function(){function vb(xb){return Vg.m(xb).name+"\n"+V.B(Vg.f(xb))}var jb={},Bb={};jb.get=function(xb){xb=vb(xb);return Bb[xb]};jb.set=function(xb,Xa){var ob=vb(xb);Bb[ob]=Xa};return jb}();Ya(Rb,function(vb){var jb=
Ea.f(vb),Bb=V.g(jb).length,xb=V.H(jb,eb);jb=V.g(jb);Bb=Bb!==jb.length;var Xa=jb[xb];null!=Xa&&Hb.set(vb,Ke.ua(Xa));Bb&&jb.splice(xb,1)});Ya(Wb,function(vb){var jb=Ea.f(vb),Bb=V.g(jb).length,xb=V.H(jb,Pb),Xa=V.g(jb);Bb=Bb!==Xa.length;var ob=Xa[xb];if(null!=ob){var Ra=Hb.get(vb);if(null!=Ra){ob=[{frame:0,value:Ra},{frame:T*fb,value:Ke.ua(ob)}];jb=V.create(null,V.B(jb),V.cg(jb),V.$f(jb),V.jm(jb));if(null!=J){Ra=J.mode;var yb=kh(J.type);Qg.op(yb,mh(Ra));V.np(jb,yb)}V.va(jb,ob);vb=Ea.m(vb);U.ka(Zb,jb,
vb)}}Bb&&Xa.splice(xb,1)});U.start(Zb);U.pause(Zb)}function nb(Ya,Hb){var vb={},jb=ve(Ya);U.za(Ya,Hb);vb.restore=function(){U.za(Ya,jb)};return vb}var Lb=Rb,Ma=Wb;Rb=U.clone(Rb);Wb=U.clone(Wb);null!=Zb&&U.b(Zb);Zb=U.create(null,F.a);var eb=function(){var Ya=L-la;0>Ya&&(Ya=0);Ya=Ya*Ka*fb;Ya+=v.Sh;var Hb=U.A(Rb)-v.jq;Ya>Hb&&(Ya=Hb);return Ya}(),Pb=U.W(Wb)+H.Sh,Ha=nb(Rb,eb),zb=nb(Wb,Pb);try{kb()}finally{Ha.restore(),zb.restore()}Rb=Lb;Wb=Ma}var Rb=v.Fd(),Wb=H.Fd(),Zb=null;sb();v.lf(Qa);H.lf(Qa);bb({seek:function(kb){return new Promise(function(nb){v.$c();
var Lb=kb*fb;n(Zb);U.za(Rb,U.A(Rb));U.za(Zb,Lb);nb()})},play:function(){return new Promise(function(kb){U.play(Zb);kb()})},pause:function(){return new Promise(function(kb){U.pause(Zb);kb()})},getStartTime:function(){return L},getDuration:function(){return T},destroy:function(){U.b(Zb)}})})};var Ge=!1,Vd=!1,Ie=null,vd=null;ab.loadAction=function(v,H,L,T,J){function la(sb,Rb){var Wb=v.Ja(sb.id);if(null!=Wb)return Rb(Wb)}function Ka(sb){return la(sb,function(Rb){return Rb.Xb()})}function bb(sb){return la(sb,
function(Rb){return Rb.Ec()})}var Qa=J.indexOf(H);return new Promise(function(sb,Rb){var Wb=pd.em(H,v),Zb=pd.cl(Wb);if(null!=Zb)v.jf(H.id,Zb),sb(Zb);else{var kb=!0===H.flipH,nb=kb;ib(H.patchedAnimationGroupDataAssetId,H.patchedAnimationGroupData).then(function(Lb){function Ma(){return new Promise(function(Ra,yb){va(Bb,xb,jb+".glb").then(function(pb){return ld(pb,void 0)}).then(function(pb){Ra({Po:pb.url,T:pb.T,U:pb.U})})["catch"](function(pb){yb(pb)})})}var eb=H.armSpace,Pb=H.shoulderPosition,Ha=
new ig,zb=function(){if(null==Lb)return null;var Ra=Lb.allPropInfoLists;if(Ia(Ra))return null;Ra=xc(Ra);z(Ra,function(yb){yb=yb.propInfoList;Ia(yb)||z(yb,function(pb){var Sb=pb.actionPropsIdAndPath;null!=Sb&&(delete pb.actionPropsIdAndPath,pb.ja=Sb)})});return Ra}(),Ya=new ic,Hb=null,vb,jb=H.assetId,Bb,xb,Xa,ob;h(ab,jb).then(function(Ra){function yb(){var Q=H.positionOffset;if(Q)return Q;if(0<Qa)for(Q=Qa-1;0<=Q;Q--){var Na=J[Q].positionOffset;if(Na)return Object.assign({},Na)}return null}function pb(Q){if(-1001===
Q||0===Qa&&-1E3===Q)Q=Kb;if(0<Qa&&(-1E3===Q||-1001===Q))for(var Na=Qa-1;0<=Na;Na--){var Sa=J[Na],oc=Ja(Sa),lc=!0===Sa.turn;if(-1E3!==oc&&-1001!==oc||lc||0===Na){!1===lc?Q=-1E3===oc||-1001===oc?Kb:oc:(Na=v.Ja(Sa.id).jg(),null!=Na&&(Q=Na,Q=sd(Q)));break}}0===Q?Q=0:-180===Q||180===Q?Q=-Math.PI:(Na=Math.PI/180*Q,Q=0>Q?Math.abs(Na):-Math.abs(Na));return Q}function Sb(Q){var Na=Ca.ta(sf(Qb,L));$d.Ea(Na,!0);Na=$d.getParent(Na);Na=$d.Jl(Na,bh.vi());return Mb.si(Na,Q)}Bb=Ra.assetUrl;xb=Ra.assetType;var qb=
Ja(H);null==qb&&(qb=0);var Qb=fc.Qd(v);vb=function(Q){return new Promise(function(Na,Sa){function oc(Pa){return new Promise(function(yc,sc){(new jg(H.expressionName,L,v,Pa)).F().then(function(){yc()})["catch"](function(Db){sc(Db)})})}var lc=fe(Q);null!=lc&&(Hb=lc.handProps);var Yb=qf.ca(Q)[0];Yb=U.clone(Yb);q(Yb);var ra=H.startRatio||ef.fa,mc=H.endRatio||ef.ea;Promise.resolve().then(function(){kb&&qe(Yb,L);if(null==pe(Yb,v.ia(),"rotationQuaternion")){var Pa=sf(Qb,L),yc=function(){var A=Mb.create(),
E=Ca.Hc(Pa);Nb.Wa(E,null,A,null);return A}(),sc=[],Db=function(A){sc.push({frame:A,value:yc})},pc=U.W(Yb),Jb=U.A(Yb);Db(pc);Db(Jb);Db=function(){var A=fb,E=V.Id();return V.create(null,"rotationQuaternion",A,E)}();V.va(Db,sc);U.ka(Yb,Db,Ca.ta(Pa))}if(null==pe(Yb,v.ia(),"position")){Pa=sf(Qb,L);var qc=function(){var A=Gd.create(),E=Ca.Hc(Pa);Nb.Wa(E,null,null,A);return A}();sc=[];Db=function(A){sc.push({frame:A,value:qc})};pc=U.W(Yb);Jb=U.A(Yb);Db(pc);Db(Jb);Db=function(){var A=fb,E=V.Jd();return V.create(null,
"position",A,E)}();V.va(Db,sc);U.ka(Yb,Db,Ca.ta(Pa))}var Ic=function(){var A=H.inPlace;"boolean"===typeof A&&(A=A?"z":null);return A}(),t=fc.Ld(v),X=fc.cm(v),B=function(){var A=null;0===Qa&&(A=self.lockInPlace);return A}();return function(){return new Promise(function(A,E){var w=Qb,M=fc.ya(v),Z=Yb;w=new ee(w,M,Z,X,t,L,F.a);M=H.overriddenInPlaces;w.Jb(Ic);w.Te(B);w.Ve(M);var O=function(){var C=H.armSpace;null==C&&(C=ze());return C}(),y=H.shoulderPosition,K=H.customizations,S=null!=Lb||!1===Ia(K);w.Pe(S?
null:O);w.We(S?null:y);w.ob();if(null!=Lb){var Y=fc.ya(v);w=hb(Z,Y,Lb,F.a,function(){var C={};z(Aa.M(Qb),function(D){var u=Ca.getName(D);D=Ca.ta(D);C[u]=D});return function(D){return"characterRootMesh"===D?Y:C[D]}},kb,L);if(null!=w){Z=w;var ia=[];w=sf(Qb,L);var I=Ca.getName(w);z(U.j(Z),function(C){var D=Ea.m(C);C=Ea.f(C);var u=V.B(C),R=!1;"rotationQuaternion"!==u&&(R=!0,"position"===u&&null!=D&&D.id===I&&(R=!1));R&&ia.push(C)});z(ia,function(C){U.Fo(Z,C)})}}(function(){return new Promise(function(C,
D){if(Ia(K))C();else{var u=v.Df(K,Z,Ya,Ha);u.qb(ra);u.pb(mc);u.Yc(kb);u.F().then(function(){C()})["catch"](function(R){D(R)})}})})().then(function(){S&&!1===Ae(O)&&Fe(Z,O,L);S&&!1===Qe(y)&&Re(Z,y,L,F.a);return oc(Z)}).then(function(){A(Z)})["catch"](function(C){E(C)})})}()}).then(function(Pa){function yc(O){function y(){var S=W.Xf(O,!1);!1===Ia(S)&&Hc(S,function(Y){Ze(Y)});Ze(O)}if(v.bf){var K=function(){!1!==v.Oj(K)&&(v.Ao(K),y())};v.Gi(K);self.setTimeout(K,1E3)}else y();v.wo(O)}function sc(){var O=
yb();if(null!=O){var y=v.ia();oe(O,y,Pa)}}function Db(){pc(function(){U.stop(Pa);U.start(Pa,!1,E);U.pause(Pa)})}function pc(O){var y=ve(Pa);try{O()}finally{null!=y&&U.za(Pa,y)}}function Jb(){var O=v.ia();return pe(Pa,O,"position")}function qc(){var O=v.ia();return pe(Pa,O,"rotationQuaternion")}function Ic(){U.za(Pa,ve(Pa))}var t=function(){var O={},y={},K=function(){var S=qc();return V.g(Ea.f(S))}();z(K,function(S){y[S.frame]=S.value.clone()});O.get=function(S){return y[S]};O.Mm=function(S){var Y=
this.get(S);if(null!=Y)return Y;var ia=Bc(K,function(D){return D.frame>S});if(null==ia)return null;Y=K[K.indexOf(ia)-1];if(null==Y)return null;Y=Y.frame;ia=ia.frame;var I=this.get(Y),C=this.get(ia);return Mb.hd(I,C,(S-Y)/(ia-Y))};return O}(),X=function(){var O={},y={},K=function(){var S=Jb();return V.g(Ea.f(S))}();z(K,function(S){y[S.frame]=S.value.clone()});O.get=function(S){return y[S]};return O}(),B=null;(function(){Pa.Uc=function(){function O(){var ia=function(){var I=v.ia();return pe(Pa,I,"position")}();
ia=V.g(Ea.f(ia));z(ia,function(I){var C=X.get(I.frame);I.value=Gd.Qb(C,y)})}var y=function(){var ia=-pb(qb);return Sb(ia)}(),K=!0,S=Pa.Zi;if(null!=S){var Y=S.No;K=S.Lo;S=jd(S.fo,y);S=jd(S,Y);y=gd(K,S);K=!1}(function(){function ia(aa){var ja=V.clone(C);aa=V.H(ja,aa);ja=V.g(ja);return Mb.Ma(ja[Math.max(Math.min(aa,ja.length-1),0)].value).y}var I=function(){var aa=v.ia();return pe(Pa,aa,"rotationQuaternion")}(),C=Ea.f(I);I=V.g(C);z(I,function(aa){var ja=t.get(aa.frame);aa.value=jd(ja,y)});var D=U.A(Pa)*
ra,u=U.A(Pa)*mc;if(-1001===H.angle&&0<Qa){var R=v.Ja(J[Qa-1].id);D=ia(D);if(null!=R){var ya=Sb(R.jg()-D);z(I,function(aa){var ja=t.get(aa.frame);aa.value=jd(ja,ya)})}}B=ia(u)})();K&&O()};(function(){function O(ia){K.push({frame:ia,value:S})}var y=function(){var ia=fb,I=V.Id();return V.create(null,"rotationQuaternion",ia,I)}(),K=[],S=$c(L),Y=U.A(Pa);O(U.W(Pa));O(Y);V.va(y,K);Y=fc.ya(v);U.ka(Pa,y,Y)})();Pa.Uc()})();sc();var A=qf.I(Q);!1===Ia(A)&&Hc(A,function(O){Ze(O)});delete Q.rootNodes;qf.b(Q);U.Wc(Pa,
!1);var E=H.speed;A=U.A(Pa);var w=ra*A,M=(1-mc)*A;U.start(Pa,!1,E);U.pause(Pa);var Z=function(){function O(){var I=na();if(I!==Vd){var C=I?y.P.sg(vd):null;wd(C);I?C&&(Ie=C.lb):Ie=null}I=na();I!==Vd&&(Vd=I,Ib(),Vd?(mxEvent.addListener(document,"keydown",wb),mxEvent.addListener(document,"keyup",ec)):(mxEvent.removeListener(document,"keydown",wb),mxEvent.removeListener(document,"keyup",ec)))}var y={Xb:function(){return this.P.Xb()},Ec:function(){return this.P.Ec()},Uc:function(){Pa.Uc();sc()},buildTimeline:function(I){var C=
this;return new Promise(function(D,u){C.Qh();(function(){return new Promise(function(R,ya){function aa(){return new Promise(function(ja,sa){Ya.N()&&null==Hb?ja():C.Ri(I).then(function(){ja()})["catch"](function(Ua){sa(Ua)})})}C.Qi(I).then(function(){return aa()}).then(function(){R()})["catch"](function(ja){ya(ja)})})})().then(function(){D()})["catch"](function(R){u(R)})["finally"](function(){C.If()})})}},K=function(){function I(u){z(D,function(R){u(R)})}var C={},D=[];C.add=function(u){D.push(u)};
C.oa=function(){Ia(D)||(I(function(u){yc(u)}),D=[])};C.Ak=function(){Ia(D)||I(function(u){W.isEnabled(u)&&W.s(u,!1)})};return C}();y.Sh=w;y.jq=M;y.pause=function(){return new Promise(function(I){U.pause(Pa);I()})};y.play=function(){return new Promise(function(I){U.play(Pa);I()})};y.reset=function(){U.reset(Pa)};var S=null;y.ub=function(I){null==S&&(S=[]);S.push(I)};y.updateActionInfoForInheritedPropsChangedToFalse=function(I){var C=this.P.td;Ia(C)||(I=I.customizations,Ia(I)||z(I,function(D){if(D.type===
$f){var u=D.boneRotations;z(C,function(R){null!=u[R]&&delete u[R]})}}))};y.seek=function(I){return new Promise(function(C){y.$c();var D=I*fb*E;D+=w;n(Pa,!1,E);U.za(Pa,D);0===I&&!1===Ia(S)&&z(S,function(u){u()});C()})};y.destroy=function(I){null==I&&(I=!1);I?(U.Nc(Pa)&&U.stop(Pa),v.qh(this),pd.register(Wb,this),K.Ak()):(pd.unregister(Wb),v.qh(this),U.stop(Pa),U.b(Pa),this.zk(),Y.oa(),ia.oa(),this.Gj(),K.oa())};y.hasProps=function(){return this.P.le()};y.getPropsIds=function(){return this.P.Am()};y.getCurrentPropsId=
function(){return vd};y.setCurrentPropsId=function(I){vd=I;var C=na(),D=C?y.P.sg(I):null;wd(D);Ie=C?I:null};y.isShowPositionController=function(){return Eg.re(F.C)};y.setShowPositionController=function(I){th(I);O()};y.isShowScaleController=function(){return Eg.te(F.C)};y.setShowScaleController=function(I){uh(I);O()};y.isShowRotationController=function(){return Eg.se(F.C)};y.setShowRotationController=function(I){Nf(I);O()};var Y=function(){function I(R){!1===Ia(D)&&z(D,function(ya){R(ya)})}var C={},
D=[];C.add=function(R){D.push(R)};C.md=function(){I(function(R){R.md()})};var u=!1;C.clear=function(){I(function(R){R.kill()})};C.oa=function(){u||(u=!0,this.clear())};return C}(),ia=function(){var I={},C=[];I.add=function(u){C.push(u)};var D=!1;I.clear=function(){!1===Ia(C)&&z(C,function(u){u.kill()})};I.oa=function(){D||(D=!0,this.clear())};return I}();(function(){function I(u,R){if(u.first)return R[0].value;if(u.last){var ya=[].concat(R);ya.reverse();return ya[0].value}return null}function C(){null!=
D?D.restore():D=function(){var u={},R=new Map,ya=U.A(Pa);z(U.j(Pa),function(aa){var ja=r(Ea.f(aa));R.set(aa,ja)});u.restore=function(){R.forEach(function(aa,ja){Ea.zh(ja,r(aa))});U.Lb(Pa,ya)};return u}()}(function(){var u=null;y.hc=function(R,ya,aa){function ja(){return new Promise(function(Ta,Za){var Va=H.customizations;if(Ia(Va))Za("There is no customizations");else{Va=xc(Va);var db=Bc(Va,function(Eb){return"motionMixer"===Eb.type});if(null==db)Za("No motion mixer customization is found");else if(db=
db.actions,Ia(db))Za("There is no sub actions");else{var tb=Bc(db,function(Eb){return Eb.id===R});if(null==tb)Za("Sub action with ID "+R+" not found");else{var vc=null!=ya,zc=null!=aa;if(vc&&zc)Za("Cannot preview trimmed sub action for both start and end ratio");else{db=tb.startRatio;var Jc=tb.endRatio;!1===vc&&(ya=db);!1===zc&&(aa=Jc);if(ya===db&&aa===Jc)Ta();else{db=tb.duration/(1-(db+(1-Jc)));var bd=db-db*ya-db*(1-aa);sa.Qh();tb.startRatio=ya;tb.endRatio=aa;tb.duration=bd;tb.playCount=1;v.Df(Va,
Pa,new ic,new ig).F().then(function(){sa.Ug()})["catch"](function(Eb){Za(Eb)})["finally"](function(){sa.If();sa.seek(vc?tb.startTime:zc?tb.startTime+bd/tb.speed:0).then(function(){Ta()})["catch"](function(Eb){Za(Eb)})})}}}}}})}var sa=this,Ua=this.hc;this.hc=function(Ta,Za,Va){return new Promise(function(db,tb){if(Ta!==R)tb("Different sub action id "+Ta+", expecting "+R);else{if(null!=u){var vc=u.uh;vc()}u={Ha:Za,Ia:Va,uh:db,vo:tb}}})};return new Promise(function(Ta,Za){ja().then(function(){Ta()})["catch"](function(Va){Za(Va)})["finally"](function(){sa.hc=
Ua;if(null!=u){var Va=u.Ha,db=u.Ia,tb=u.uh,vc=u.vo;u=null;sa.hc(R,Va,db).then(function(){tb()})["catch"](function(zc){vc(zc)})}})})}})();y.bm=function(){function u(ja){ja=Mb.Ma(ja);return sd(ja.y)}var R=U.A(Pa)*ra,ya=t.Mm(R);if(null==ya)return null;var aa=function(){var ja=qc();if(null==ja)return null;ja=V.g(Ea.f(ja));var sa=ja[R];if(null!=sa)return u(sa.value);sa=Bc(ja,function(Ua){return Ua.frame>R});if(null==sa)return null;ja=ja[ja.indexOf(sa)-1];return u(Mb.hd(ja.value,sa.value,(R-ja.frame)/(sa.frame-
ja.frame)))}();return null==aa?null:aa-u(ya)};y.Lp=function(u,R){var ya=function(){var aa=-pb(qb);return Mb.ga(0,aa,0)}();(function(){var aa=Jb();aa=V.g(Ea.f(aa));z(aa,function(ja){var sa=X.get(ja.frame);null!=sa&&(sa=Gd.Qb(sa,ya),sa.x+=u,sa.y+=R,ja.value=sa)})})();Ic()};y.Pp=function(u){z(U.j(Pa),function(R){var ya=Ea.m(R),aa=Ca.getName(ya);Oe(aa,L)&&(R=V.g(Ea.f(R)),z(R,function(ja){var sa=Ne(Ke.ua(ja),Pb,L,aa,F.a);sa=Me(sa,u,L,aa,F.a);Ke.$a(ja,sa)}))});Ic();Pb=u};y.Uo=function(u){var R=function(){var ya=
nd(u);return Sb(ya)}();(function(){var ya=qc();ya=V.g(Ea.f(ya));z(ya,function(aa){var ja=t.get(aa.frame);null!=ja&&(ja=jd(ja,R),aa.value=ja)})})();(function(){var ya=Jb();ya=V.g(Ea.f(ya));var aa=null,ja=null;(function(){var sa=H.positionOffset;null!=sa&&(aa=sa.horizontal,ja=sa.vertical);null==aa&&(aa=0);null==ja&&(ja=0)})();z(ya,function(sa){var Ua=X.get(sa.frame);Ua=Gd.Qb(Ua,R);if(0!==aa||0!==ja)Ua=Gd.clone(Ua),Ua.x+=aa,Ua.y+=ja;null!=Ua&&(sa.value=Ua)})})();Ic()};y.Yo=function(u){z(U.j(Pa),function(R){var ya=
Ea.m(R),aa=Ca.getName(ya);De(aa,L)&&(R=V.g(Ea.f(R)),z(R,function(ja){var sa=Ee(Ke.ua(ja),eb,L,aa);sa=Ce(sa,u,L,aa);Ke.$a(ja,sa)}))});Ic();eb=u};y.jg=function(){return B};y.al=function(){return H};y.Ei=function(u){K.add(u)};(function(){var u=[];y.lf=function(R){u.push(R)};y.Yq=function(R){R=u.indexOf(R);0<=R&&u.splice(R,1)};y.Kf=function(){!1===Ia(u)&&z(u,function(R){R()})};y.Gj=function(){u=[]}})();var D=null;y.uk=function(){var u=this,R={},ya=!1;R.Qn=function(){ya=!0};R.Kk=function(){ya&&pc(function(){Db();
u.Kf()})};return R};(function(){var u=function(){var R=ma(L);var ya=fc.Qd(v);R=rf(ya,R);R=null==R?null:Ca.ta(R);if(null==R)return null;ya=H.headOrientation;var aa=F.a,ja=fc.ya(v);return new Hg(Pa,ya,Qa,J,aa,R,L,ja)}();y.Cf=function(){null!=u&&u.F()&&this.Kf()}})();y.Qh=function(){this.af=this.uk();C()};y.If=function(){this.af.Kk();delete this.af};y.Ug=function(){this.af.Qn()};y.Ai=function(){Y.md()};y.Qi=function(u){return new Promise(function(R){var ya=function(){var aa=Ka(H);return new tg(aa,H.inheritProps,
H.startTime,Pa,F.a,u,E,ra,mc)}();(function(){if(null!=ob){var aa=ob.frameInOriginalAnimation;null!=aa&&ya.rp(aa)}})();Qa<J.length-1&&ya.Ue(J[Qa+1].startTime);(function(){var aa=ya.qd;ya.qd=function(ja,sa){aa.apply(this,arguments);Y.add(ja)}})();ya.ac();R()})};y.Ri=function(u){var R=this;return new Promise(function(ya,aa){var ja=function(){return{vc:function(db){Z.Ei(db);v.kf(db)},ub:function(db){R.ub(db)}}}(),sa=!1===Ya.N()?Ya.Ad():null!=Hb?Hb:null;if(null==sa)ya();else{var Ua=fc.ya(v),Ta=fc.Qd(v),
Za=vg(H.startTime,H.duration,Qa,J.length),Va=new ug(ja,sa,F.a,L,Ua,Ta,u,Ha,Pa,Za);Qa<J.length-1&&Va.Ue(J[Qa+1].startTime);Va.ac().then(function(){Va.Fg()&&Va.Hn(function(db){ia.add(db)});ya()})["catch"](function(db){aa(db)})["finally"](function(){v.Dj();Va.uf&&R.Ug()})}})};y.nq=function(){return new Promise(function(u){u()})};y.getRotationAngle=function(u,R){var ya=R.notNull?0:null,aa=U.j(Pa);if(null==aa)return ya;aa=aa.find(function(ja){var sa=Ea.m(ja),Ua=fc.ya(v);if(sa!==Ua)return!1;ja=Ea.f(ja);
return null==ja?!1:"rotationQuaternion"===V.B(ja)});if(null==aa)return ya;aa=Ea.f(aa);if(null==aa)return ya;aa=V.g(aa);if(null==aa||0==aa.length)return ya;aa=I(R,aa);return null==aa?ya:Md(Mb.Ma(aa).y,u)*(180/Math.PI)};y.getHipsBonePosition=function(u){var R=u.notNull?0:{x:0,y:0,z:0},ya=new Map,aa=Aa.M(Qb).map(function(sa){var Ua=Ca.getName(sa);ya.set(Ua,sa);return Ua});aa=self.BabylonJsBoneMapper.getCharacterFamilyNameByBoneNames(aa);var ja=self.BabylonJsBoneMapper.remapBoneName("mixamorig:Hips",
aa);if(null==ja)return R;aa=U.j(Pa);if(null==aa)return R;aa=aa.find(function(sa){if(Ea.m(sa).name!==ja)return!1;sa=Ea.f(sa);return null==sa?!1:"position"===V.B(sa)});if(null==aa)return R;aa=Ea.f(aa);if(null==aa)return R;aa=V.g(aa);if(null==aa||0==aa.length)return R;u=I(u,aa);return null==u?R:{x:u.x,y:u.y,z:u.z}};y.Tq=function(){return inPlace};y.$c=function(){this.P.$c(v)};y.Fd=function(){return Pa};y.ec=function(u){this.P.ec(u)};y.zk=function(){this.ec(function(u){yc(u)})}})();return y}();og().then(function(O){Z.isShowPropsForFileName=
O.Dg});v.jf(H.id,Z);Na(Z)})["catch"](function(Pa){Sa(Pa)})})};return Ma()}).then(function(Ra){return Ad(Ra.U,Ra.Po,F.a,Ra.T,jb)}).then(function(Ra){if(null==Ra)Rb("assetContainer is null");else return ob=fe(Ra),null!=ob&&!0===ob.flipHorizontally&&(nb=!0),vb(Ra)}).then(function(Ra){Xa=Ra;var yb=function(){var pb=function(){return{L:function(Q){return g(ab,Q)},Cb:function(){return Ka(J[Qa-1])},Bb:function(){return bb(J[Qa-1])}}}(),Sb=function(){var Q=fc.ya(v),Na=v.flipH(),Sa=v.flipV();return fg(T,L,
Q).Xc(Na).Re(Sa).ha()}(),qb=function(){var Q=H.showProps,Na=H.propsTransforms,Sa=H.inheritProps&&0<Qa;return eg().Kh(Q).Ih(Na).Zc(nb).Eh(Sa).ha()}(),Qb=function(){var Q=H.duration,Na=H.startRatio,Sa=H.endRatio,oc=H.speed,lc=null!=ob?ob.actionAssetPathForLoadProps:null,Yb=H.customizations;return gg(Bb).Me(lc).Ne(Yb).Vc(Q).qb(Na).pb(Sa).Kb(oc).ha()}();return new hg(pb,Sb,hd,Qb,F.a,qb,Xa.Fd())}();Xa.P=yb;yb.nd=function(pb){lh(pb)};yb.ih=function(pb){pb&&Xa.Ai();this.ec(function(Sb){Ie===Sb.lb&&wd(pb?
Sb:null)})};(function(){var pb=yb.Ce;yb.Ce=function(Sb,qb){pb.apply(this,arguments);var Qb=fc.ya(v);Sb.Va=Qb.Va;Sb.ld=H.id;v.kf(Sb)}})();yb.xh(function(){var pb=[],Sb=Ha.Pb;Ia(Sb)||(pb=pb.concat(Sb));Ia(zb)||(pb=pb.concat(zb));return pb}());return new Promise(function(pb,Sb){yb.Eb().then(function(){pb()})["catch"](function(qb){Sb(qb)})})}).then(function(){var Ra;vd&&(Ra=Xa.P.Sk(function(yb){return yb.lb==vd}));null==Ra&&(vd=Xa.P.zm());Xa.Cf();sb(Xa)})})["catch"](function(Lb){Rb(Lb)})}})};var fc=function(){var v=
{},H=new Map,L=[];v.add=function(T,J,la,Ka,bb){L.push(T);H.set(T,{Ka:J,Oh:la,Qa:Ka,cb:bb})};v.remove=function(T){var J=L.indexOf(T);0<=J&&(L.splice(J,1),H["delete"](T))};v.D=function(T){z(L,function(J){T(J)})};v.Qg=function(T){this.D(function(J){J=J.api;null!=J&&T(J)})};v.cm=function(T){return H.get(T).Qa};v.Ld=function(T){return H.get(T).cb};v.Qd=function(T){return H.get(T).Oh[0]};v.ya=function(T){return H.get(T).Ka[0]};v.gq=function(T){var J=this;Ba(function(){J.Qg(function(la){l(la,T)})},F.canvas)};
v.b=function(){Hc(L,function(T){var J=T.api;J&&J.destroy();T.destroy()})};return v}();zg.add(Dd.Wd(F.a),function(){fc.Qg(function(v){v.afterRender()})});ab.updateCharactersMeshesPositionZByCharacterElementOrderInDocument=function(){var v=Dd.I(F.a);if(!1===Ia(v)){var H=function(){var T={},J=[];T.add=function(la){J.push(la)};T.aq=function(){J.sort(function(la,Ka){return la.Kj(Ka)})};T.D=function(la){!1===Ia(J)&&z(J,function(Ka){la(Ka)})};return T}();try{z(v,function(T){var J=T.Va;if(null!=J){if(!1===
J.isConnected())throw"characterElementDisconnected";H.add(J,T)}})}catch(T){if("characterElementDisconnected"===T)return}H.aq();var L=250;H.D(function(T){T.Zp(L);L+=50})}};var Ud=function(){var v={},H=[];v.add=function(T){H.push(T)};v.remove=function(T){T=H.indexOf(T);0>T||(H.splice(T,1),0===H.length&&!1===L.N()&&L.Jo())};var L=function(){var T={},J=[];T.add=function(la,Ka){J.push({resolve:la,reject:Ka})};T.N=function(){return 0===J.length};T.Jo=function(){J.shift().resolve()};return T}();v.rq=function(){return new Promise(function(T,
J){0===H.length?T():L.add(T,J)})};v.b=function(){H=null};return v}();ab.loadPropsExclusively=function(v){var H=this;return new Promise(function(L,T){tc(50*Math.random()).then(function(){return Ud.rq()}).then(function(){var J=Fa();return H.loadProps(v,J)}).then(function(J){L(J)})["catch"](function(J){T(J)})})};ab.loadProps=function(v,H){return new Promise(function(L,T){null==H&&(H=Fa());ae.wa("","",v,F.a).then(function(J){function la(){var kb=W.J(sb),nb=W.l(sb);return{ic:{x:kb.x,y:kb.y,z:kb.z,w:kb.w},
Je:{x:nb.x,y:nb.y,z:nb.z}}}function Ka(){Hc(Qa,function(kb){mf(kb)})}function bb(kb,nb){if(kb){var Lb=Mb.create(kb.x,kb.y,kb.z,kb.w);W.da(sb,Lb)}nb&&(Lb=Gd.create(nb.x,nb.y,nb.z),W.bd(sb,Lb))}Vc(F.a);var Qa=qf.I(J),sb=Qa[0],Rb=0,Wb=null,Zb=null;H.updatePropImageShape=function(kb,nb,Lb,Ma,eb,Pb,Ha,zb,Ya,Hb,vb){function jb(qb,Qb){var Q=$d.create(null,qb);W.aa(Qb,Q);Bb();return Q}function Bb(){var qb=Lb.getBoundingClientRect();Sb.Ib(qb.x,qb.y,qb.width,qb.height)}function xb(qb){qb=$d.dg(qb,!0);return{x:(qb.max.x+
qb.min.x)/2,y:(qb.max.y+qb.min.y)/2}}function Xa(qb,Qb){var Q=jb(qb,Qb),Na=xb(Q).x;$d.l(Q).x*=-1;var Sa=xb(Q).x;$d.u(Q).x+=Na-Sa}function ob(qb,Qb){var Q=jb(qb,Qb),Na=xb(Q).y;$d.l(Q).y*=-1;var Sa=xb(Q).y;$d.u(Q).y+=Na-Sa}function Ra(qb,Qb){var Q=jb(qb,Qb),Na=xb(Q);$d.l(Q).x*=-1;$d.l(Q).y*=-1;var Sa=xb(Q);$d.u(Q).x+=Na.x-Sa.x;$d.u(Q).y+=Na.y-Sa.y}null==Hb&&(Hb=!1);null!=eb&&null==Ha&&null!=vb&&(Ha={x:(0<=vb.x?1:-1)*Math.abs(eb.x),y:(0<=vb.y?1:-1)*Math.abs(eb.y),z:(0<=vb.z?1:-1)*Math.abs(eb.z)});var yb=
{},pb=vf(F.a);pb.forEach(function(qb){yb[W.Zb(qb)]=W.isEnabled(qb)});pb.forEach(function(qb){var Qb=!1;Qa.forEach(function(Q){Q===qb&&(Qb=!0)});Qb||W.s(qb,!1)});var Sb=this;bb(Ma,eb);Bb();null==Pb&&null==Ha||bb(Pb,Ha);zb&&!Ya?Xa(F.a,sb):Ya&&!zb?ob(F.a,sb):zb&&Ya&&Ra(F.a,sb);Dd.nb(F.a);return(new Promise(function(qb,Qb){var Q=Sc([sb],!0),Na=wa(),Sa=null!=nb;Sa&&(F.canvas.style.opacity=0);var oc=Object.assign({},Q),lc=1;Sa&&(Q.width/=nb,Q.height/=nb,lc/=nb);Sa=Math.min(Na.width/Q.width,Na.height/Q.height);
1>Sa&&(Q.width*=Sa,Q.height*=Sa,lc*=Sa);Sb.Ib(Na.x+Q.x,Na.y+Q.y,Q.width,Q.height);var Yb=Q.x+Q.width>Na.width||Q.y+Q.height>Na.height||0>Q.x||0>Q.y?!0:!1,ra={};if(Yb){Sa={x1y1:0>Q.x||0>Q.y?!0:!1,x2y1:Q.x+Q.width>Na.width||0>Q.y?!0:!1,x1y2:Q.y+Q.height>Na.height||0>Q.x?!0:!1,x2y2:Q.y+Q.height>Na.height||Q.x+Q.width>Na.width?!0:!1};var mc;if(Sa.x1y1&&Sa.x2y1&&Sa.x1y2&&!Sa.x2y2)var Pa=mc=0;Sa.x1y1&&Sa.x2y1&&!Sa.x1y2&&!Sa.x2y2&&(mc=Q.x,Pa=0);Sa.x1y1&&Sa.x2y1&&!Sa.x1y2&&Sa.x2y2&&(mc=Na.width-Q.width,Pa=
0);!Sa.x1y1&&Sa.x2y1&&!Sa.x1y2&&Sa.x2y2&&(mc=Na.width-Q.width,Pa=Q.y);!Sa.x1y1&&Sa.x2y1&&Sa.x1y2&&Sa.x2y2&&(mc=Na.width-Q.width,Pa=Na.height-Q.height);!Sa.x1y1&&!Sa.x2y1&&Sa.x1y2&&Sa.x2y2&&(mc=Q.x,Pa=Na.height-Q.height);Sa.x1y1&&!Sa.x2y1&&Sa.x1y2&&Sa.x2y2&&(mc=0,Pa=Na.height-Q.height);Sa.x1y1&&!Sa.x2y1&&Sa.x1y2&&!Sa.x2y2&&(mc=0,Pa=Q.y);ra.x=mc;ra.y=Pa;Sb.Ib(Na.x+mc,Na.y+Pa,Q.width,Q.height)}Dd.nb(F.a);(function(){return new Promise(function(yc){Dd.Ac(F.a,function(){yc()})})})().then(function(){Pg.Ef(F.K,
F.G,{precision:1},function(yc){var sc=new Image;pb.forEach(function(Db){var pc=yb[W.Zb(Db)];void 0!==pc&&W.s(Db,pc)});Hc(Qa,function(Db){Ze(Db)});sc.onload=function(){var Db=document.createElement("canvas");Db.width=Q.width;Db.height=Q.height;var pc=Db.getContext("2d");Yb?pc.drawImage(sc,-ra.x,-ra.y):pc.drawImage(sc,-Q.x,-Q.y);Db=Db.toDataURL("image/png");var Jb=la();pc=Jb.ic;Jb=Jb.Je;Jb.x/=lc;Jb.y/=lc;Jb.z/=lc;qb({screenshot:Db,rotation:pc,scaling:Jb,bounds:{x:oc.x+Na.x,y:oc.y+Na.y,width:oc.width,
height:oc.height},actionCount:Rb})};sc.src=yc})})["catch"](function(yc){Qb(yc)})}))["catch"](function(qb){T(qb)})["finally"](function(){F.canvas.style.opacity=null})};H.toEditMode=function(kb,nb,Lb,Ma,eb,Pb){function Ha(Xa,ob){var Ra=$d.create(null,Xa);W.aa(ob,Ra);zb();return Ra}function zb(){var Xa=nb.getBoundingClientRect();Bb.Ib(Xa.x,Xa.y,Xa.width,Xa.height)}function Ya(Xa){Xa=$d.dg(Xa,!0);return{x:(Xa.max.x+Xa.min.x)/2,y:(Xa.max.y+Xa.min.y)/2}}function Hb(Xa,ob){var Ra=Ha(Xa,ob),yb=Ya(Ra).x;$d.l(Ra).x*=
-1;var pb=Ya(Ra).x;$d.u(Ra).x+=yb-pb}function vb(Xa,ob){var Ra=Ha(Xa,ob),yb=Ya(Ra).y;$d.l(Ra).y*=-1;var pb=Ya(Ra).y;$d.u(Ra).y+=yb-pb}function jb(Xa,ob){var Ra=Ha(Xa,ob),yb=Ya(Ra);$d.l(Ra).x*=-1;$d.l(Ra).y*=-1;var pb=Ya(Ra);$d.u(Ra).x+=yb.x-pb.x;$d.u(Ra).y+=yb.y-pb.y}var Bb=this;od(!0);Nf(!0);wd(sb);kb.addGraphModelChangeListener();var xb;Wb=ba(function(){xb=la()});Zb=oa(function(){var Xa=function(){var ob=!0,Ra;Rb++;return function(){if(ob)ob=!1,Ra=xb;else{var yb=la();bb(Ra.ic,Ra.Je);Ra=yb}}}();
kb.execute(Xa);(function(){var ob=nb.getBoundingClientRect(),Ra=Sc([sb],!0),yb=wa();kb.updateCellBounds(ob,Ra,yb)})()});bb(Lb,Ma);this.updatedMeshBounds=function(){var Xa=nb.getBoundingClientRect();Bb.Ib(Xa.x,Xa.y,Xa.width,Xa.height)};eb&&!Pb?Hb(F.a,sb):Pb&&!eb?vb(F.a,sb):eb&&Pb?jb(F.a,sb):zb()};H.leaveEditMode=function(kb){selfAsProps=this;od(!1);kb.removeGraphModelChangeListener();ha(Wb);ea(Zb);Nf(!1);Dd.nb(F.a);return(new Promise(function(nb,Lb){var Ma=Sc([sb],!0),eb=wa(),Pb=Ma.x+Ma.width>eb.width||
Ma.y+Ma.height>eb.height||0>Ma.x||0>Ma.y?!0:!1,Ha=Math.min(eb.width/Ma.width,eb.height/Ma.height);1>Ha&&(Ma.width*=Ha,Ma.height*=Ha);var zb={},Ya=vf(F.a);Ya.forEach(function(Bb){zb[W.Zb(Bb)]=W.isEnabled(Bb)});Ya.forEach(function(Bb){var xb=!1;Qa.forEach(function(Xa){Xa===Bb&&(xb=!0)});xb||W.s(Bb,!1)});var Hb={};if(Pb){Ha={x1y1:0>Ma.x||0>Ma.y?!0:!1,x2y1:Ma.x+Ma.width>eb.width||0>Ma.y?!0:!1,x1y2:Ma.y+Ma.height>eb.height||0>Ma.x?!0:!1,x2y2:Ma.y+Ma.height>eb.height||Ma.x+Ma.width>eb.width?!0:!1};var vb;
if(Ha.x1y1&&Ha.x2y1&&Ha.x1y2&&!Ha.x2y2)var jb=vb=0;Ha.x1y1&&Ha.x2y1&&!Ha.x1y2&&!Ha.x2y2&&(vb=Ma.x,jb=0);Ha.x1y1&&Ha.x2y1&&!Ha.x1y2&&Ha.x2y2&&(vb=eb.width-Ma.width,jb=0);!Ha.x1y1&&Ha.x2y1&&!Ha.x1y2&&Ha.x2y2&&(vb=eb.width-Ma.width,jb=Ma.y);!Ha.x1y1&&Ha.x2y1&&Ha.x1y2&&Ha.x2y2&&(vb=eb.width-Ma.width,jb=eb.height-Ma.height);!Ha.x1y1&&!Ha.x2y1&&Ha.x1y2&&Ha.x2y2&&(vb=Ma.x,jb=eb.height-Ma.height);Ha.x1y1&&!Ha.x2y1&&Ha.x1y2&&Ha.x2y2&&(vb=0,jb=eb.height-Ma.height);Ha.x1y1&&!Ha.x2y1&&Ha.x1y2&&!Ha.x2y2&&(vb=
0,jb=Ma.y);Hb.x=vb;Hb.y=jb;selfAsProps.Ib(eb.x+vb,eb.y+jb,Ma.width,Ma.height)}(function(){return new Promise(function(Bb){Dd.Ac(F.a,function(){Bb()})})})().then(function(){Pg.Ef(F.K,F.G,{precision:1},function(Bb){var xb=new Image;Ya.forEach(function(Xa){var ob=zb[W.Zb(Xa)];void 0!==ob&&W.s(Xa,ob)});Hc(Qa,function(Xa){Ze(Xa)});xb.onload=function(){var Xa=document.createElement("canvas");Xa.width=Ma.width;Xa.height=Ma.height;var ob=Xa.getContext("2d");Pb?ob.drawImage(xb,-Hb.x,-Hb.y):ob.drawImage(xb,
-Ma.x,-Ma.y);Xa=Xa.toDataURL("image/png");ob=la();nb({screenshot:Xa,rotation:ob.ic,scaling:ob.Je,bounds:{x:Ma.x+eb.x,y:Ma.y+eb.y,width:Ma.width,height:Ma.height},actionCount:Rb})};xb.src=Bb})})["catch"](function(Bb){Lb(Bb)})}))["catch"](function(nb){T(nb)})};H.dispose=function(){Hc(Qa,function(kb){Ze(kb)});Ud.remove(this)};(function(){H.Ib=function(kb,nb,Lb,Ma){var eb=wa();kb-=eb.x;nb-=eb.y;var Pb;Oa();(function(){Ka();Pb=Sc([sb],!0);var Ha=Math.min(Lb/Pb.width,Ma/Pb.height),zb=W.l(sb);zb.x*=Ha;zb.y*=
Ha;zb.z*=Ha})();(function(){Ka();Pb=Sc([sb],!0);var Ha=W.getParent(sb);Ha=null!=Ha?Ha:sb;var zb=W.u(Ha),Ya=kf.dd(jf.Kc(F.G),F.canvas.clientWidth,F.canvas.clientHeight),Hb=Dd.Jc(F.a);zb=Gd.gd(zb,Nb.Ab(),Hb,Ya);Ya=Sc([sb],!1);zb=Gd.gf(Gd.create(kb+Lb/2+(Ya.x+Ya.width/2-(Pb.x+Pb.width/2)),nb+Ma/2+(Ya.y+Ya.height/2-(Pb.y+Pb.height/2)),zb.z),F.canvas.clientWidth,F.canvas.clientHeight,Nb.Ab(),jf.ee(F.G,void 0),jf.Yd(F.G,void 0));W.setPosition(Ha,zb)})()}})();L(H)})["catch"](function(J){T(J);Ud.remove(H)})})};
ab.loadCharacter=function(v,H,L,T,J,la){var Ka=this;return new Promise(function(bb,Qa){Ka.loadCharacterWithDetails(v,H,L,T,J,la).then(function(sb){bb(sb.character)})["catch"](function(sb){Qa(sb)})})};ab.loadCharacterWithDetails=function(v,H,L,T,J,la){function Ka(){bb.updateCharactersMeshesPositionZByCharacterElementOrderInDocument()}!0!==la.zn&&(la=function(){var kb=la,nb={zn:!0},Lb=Wa(kb.outerHTML);nb.Dl=function(){return Lb};nb.getAttribute=function(Ma){return kb.getAttribute(Ma)};nb.isConnected=
function(){return kb.isConnected};nb.Hf=kb;nb.Zp=function(Ma){var eb=kb.api;null!=eb&&eb.setZIndex(Ma)};nb.Kj=function(Ma){Ma=Ma.Hf;if(null==Ma)throw"anotherCharacterElement has no DOM element";return kb.compareDocumentPosition(Ma)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1};nb.addEventListener=function(Ma,eb){kb.addEventListener(Ma,eb)};nb.Cc=function(){return kb.getBoundingClientRect()};return nb}());var bb=this,Qa=la.Dl(),sb=Cf(H),Rb=Df(H),Wb=Xd(H),Zb=Yd(H);return new Promise(function(kb,nb){function Lb(Ha,
zb){kb({character:Ha,details:zb})}var Ma=Vb.Nd(v,la);null==Ma&&(Ma=qd.Nd(v,la,Qa));if(null!=Ma){var eb=fc.ya(Ma);eb=W.l(eb);if(0>eb.x&&!L||0<eb.x&&L)eb.x*=-1;if(0>eb.y&&!T||0<eb.y&&T)eb.y*=-1;Ma.flipH=function(){return L};Ma.flipV=function(){return T};Ma.wf(J).then(function(){})["catch"](function(Ha){console.error(Ha)});Lb(Ma,{reclaimed:!0})}else{var Pb;h(bb,v).then(function(Ha){if(!Pf(nb)){var zb=Ha.assetUrl;Ha=Ha.assetType;Pb=function(Ya,Hb,vb,jb){function Bb(t,X,B,A,E){return new Promise(function(w){var M=
new Lg(t,X,B,A,fb,E);M.flatten();w({Xa:M.Xa,duration:M.Kl()})})}function xb(t,X,B,A,E,w,M,Z,O,y,K,S,Y,ia){null==M&&(M=ef.fa);null==Z&&(Z=ef.ea);null==Y&&(Y=!1);return new Promise(function(I,C){var D=null,u=null,R=null,ya=null;va(t,X,B).then(function(aa){return ld(aa,void 0)}).then(function(aa){return Ad(aa.U,aa.url,A,aa.T,v)}).then(function(aa){var ja=qf.ca(aa),sa=ja.length;if(1!==sa)C("Invalid animation group count "+sa+" found in URL "+t);else return D=ja[0],u=null,ya=fe(aa),se(D,ia),Y&&qe(D,H),
null!=y&&(aa=ra.ia(),oe(y,aa,D)),null!=w&&((new ee(Na,Q,D,lc,Yb,H,A)).ob(),aa=hb(D,Q,w,A,function(){return Jg(D,Q)},Y,H),null!=aa&&(U.b(D),D=aa)),function(){return new Promise(function(Ua,Ta){if(Ia(E))Ua();else{var Za=new ic;R=new ig;var Va=qb(E,D,Za,R);Va.Yc(Y);Va.F().then(function(){!1===Za.N()&&(u={handProps:xc(Za.Ad())});Ua()})["catch"](function(db){Ta(db)})}})}()}).then(function(){(function(){null==u&&(u={});u.actionAssetPathForLoadProps=t;Y&&(u.flipHorizontally=!0);if(null!=w){null==u.patchedAnimationGroupData&&
(u.patchedAnimationGroupData={});var ja=u.patchedAnimationGroupData;null!=w.allPropInfoLists&&(ja.allPropInfoLists=xc(w.allPropInfoLists));null!=w.handProps&&(ja.handProps=xc(w.handProps))}})();!1===Qe(K)&&Re(D,K,H,F.a);null!=S&&!1===Ae(S)&&Fe(D,S,H);if(M!==ef.fa||Z!==ef.ea)D=te(D,M,Z);if(null!=O&&0!==O){var aa=function(){var ja=nd(O);return Mb.ga(0,ja,0)}();(function(){var ja=function(){var sa=ra.ia();return pe(D,sa,"rotationQuaternion")}();ja=V.g(Ea.f(ja));z(ja,function(sa){sa.value=jd(sa.value,
aa)})})();(function(){var ja=function(){var sa=ra.ia();return pe(D,sa,"position")}();ja=V.g(Ea.f(ja));z(ja,function(sa){sa.value=Gd.Qb(sa.value,aa)})})()}(function(){var ja=null!=ya?ya.handProps:null;null!=ja&&null==(null!=u?u.handProps:null)&&(null==u&&(u={}),u.handProps=ja)})();I({h:D,Xg:u,sc:R})})["catch"](function(aa){C(aa)})})}function Xa(t,X){return new Promise(function(B,A){function E(){O===Z?B(M):w().then(function(){O++;E()})["catch"](function(K){A(K)})}function w(){return new Promise(function(K,
S){function Y(ja){return new Promise(function(sa){if(1===C)sa(ja);else{var Ua=new Lg(X,ja,C,I,fb,null);Ua.flatten();Ua=Ua.Xa;U.b(ja);sa(Ua)}})}var ia=t[O],I=ia.repeatBlendDuration,C=ia.playCount,D=ia.speed,u=ia.startRatio||ef.fa,R=ia.endRatio||ef.ea,ya=La(y,O),aa={startTime:ia.startTime,duration:fd(ia.duration,u,R,ia.playCount),fj:ia.blendDuration};yb(ia,X).then(function(ja){if(u!==ef.fa||R!==ef.ea)ja=te(ja,u,R);null!=D&&se(ja,D);return Y(ja)}).then(function(ja){function sa(){var Ua=function(){var Ta=
nd(ya);return Mb.ga(0,Ta,0)}();(function(){var Ta=function(){var Za=ra.ia();return pe(ja,Za,"rotationQuaternion")}();null!=Ta&&(Ta=V.g(Ea.f(Ta)),z(Ta,function(Za){Za.value=jd(Za.value,Ua)}))})();(function(){var Ta=function(){var Za=ra.ia();return pe(ja,Za,"position")}();null!=Ta&&(Ta=V.g(Ea.f(Ta)),z(Ta,function(Za){Za.value=Gd.Qb(Za.value,Ua)}))})()}0!==ya&&sa();aa.h=ja;M.push(aa);K()})["catch"](function(ja){S(ja)})})}var M=[],Z=t.length,O=0,y=Gc(t,function(K){return K.angle});E()})}function ob(t){return new Promise(function(X,
B){var A=null,E;t.Fb().then(function(w){E=w.h;A=Xf(xe(w.io,Q));return A.start()}).then(function(){return t.Db(E)}).then(function(w){E=w;return A.end(xe(E,Q))}).then(function(w){X({vb:w,duration:U.A(E)/fb})})["catch"](function(w){B(w)})})}function Ra(t,X,B){null==B&&(B=!0);return new Promise(function(A,E){var w=t.assetId,M=t.assetUrl,Z=!0===t.flipH,O=null,y=null;va(M,t.assetType,w+".glb").then(function(K){return ld(K,void 0)}).then(function(K){return Bd(K.U,K.url,X,K.T,w)}).then(function(K){K=qf.ca(K);
var S=K.length;if(1!==S)E("Invalid animation group count "+S+" found in URL "+M);else{y=K[0];Z&&qe(y,H);B&&(K=new ee(Na,Q,y,lc,Yb,H,X),S=t.inPlace,null!=S&&K.Jb(S),K.ob());K=t.positionOffset;if(null!=K){S=y;var Y=ra.ia();oe(K,Y,S)}O=y;return ib(t.patchedDataAssetId,t.patchedData)}}).then(function(K){null!=K&&(K=hb(y,Q,K,X,function(){return Jg(y,Q)},Z,H),null!=K&&(y=K));return function(){return new Promise(function(S,Y){var ia=t.customizations;if(Ia(ia))S();else{var I=new ic,C=function(){return new Promise(function(D,
u){if(I.N())D();else{var R=[];Da(I.Ad(),function(ya,aa){if(null!=aa&&"gesture"===aa.type){var ja=wg("https://static.visual-paradigm.com",aa.assetId,Na,H,y,U.W(y),U.A(y),ya);R.push(ja)}});Promise.all(R).then(function(){D()})["catch"](function(ya){u(ya)})}})};y===O&&(y=U.clone(y));ia=qb(ia,y,I,new ig);ia.Yc(t.flipH);ia.F().then(function(){return C()}).then(function(){S()})["catch"](function(D){Y(D)})}})}()}).then(function(){A({io:O,h:y})})["catch"](function(K){E(K)})})}function yb(t,X,B){return new Promise(function(A,
E){Ra(t,X,B).then(function(w){A(w.h)})["catch"](function(w){E(w)})})}function pb(){Hc(Hb,function(t){Aa.b(t)})}function Sb(){Hc(Ya,function(t){Ze(t)})}function qb(t,X,B,A){var E=wh();return new Yf(t,X,B,H,E,fb,Q,Na,lc,Yb,v,hd,A,F.a)}function Qb(t,X,B,A,E,w){function M(){if(null==Jb||!Jb.xc){if(null!=w){var I=w();Qd.Sa(K,I)}X?(I=X.progress(),I=A&&A.isNoStartBlending()||!(I<Y)?A&&A.isNoEndBlending()||!(1-I<ia)?1:(1-I)/ia:I/Y):I=1;Qd.update(K);Mb.ef(S,Ca.ic(y),I,$d.J(Ca.ta(y)))}}var Z="vroid"===t,O=
ma(t),y=Aa.M(Na).find(function(I){return I.name===O}),K=ad(Q,y,E,Z);t=Ca.ta(y);t=$d.J(t);var S=Mb.clone(t),Y=B?Math.min(.2/B,.4):.4,ia=B?Math.min(.2/B,.4):.4;Dd.De(F.a,M);return M}Vc(F.a);!1===Ia(vb)&&Hc(vb,function(t){U.stop(t);U.b(t)});var Q=Ya[0],Na=Hb[0];(function(){var t=$c(H);W.da(Q,t)})();(function(){function t(){var E=X(B);return gf.lg(E)}function X(E){E=W.Vb(E);return hf.Md(E)}var B=Q,A=t();z(Ya,function(E){if(E!==B){var w=X(E),M=gf.lg(w);w=gf.mm(w);var Z=M.x-A.x,O=M.y-A.y,y=M.z-A.z,K=W.l(B),
S=K.x,Y=K.y,ia=K.z,I=w.x-M.x,C=w.y-M.y,D=w.z-M.z;E.zf=function(){var u=W.l(B),R=u.x/S,ya=u.y/Y,aa=u.z/ia,ja=t();u=Gd.create(ja.x+Z*R,ja.y+O*ya,ja.z+y*aa);R=Gd.create(u.x+I*R,u.y+C*ya,ja.z+D*aa);R=hf.create(u,R);return gf.zg(hf.Md(R))}}})})();wf(Q,Ya);Ef(Ya,Q,H);var Sa=$e(Ya),oc=W.l(Q);L&&(oc.x*=-1);T&&(oc.y*=-1);var lc=ce(Na,H),Yb=de(Na);Q.Va=la;var ra={ensureNoCameraTransformAction:function(t,X){return Ba(t,X)}};ra.wd=Qa;var mc=null;ra.clearCurrentPositionAnimationSession=function(){mc=null};ra.createPositionAnimationSession=
function(t,X){var B={};mc=B;var A=[],E,w;B.reset=function(){var M=W.u(Q);E=M.x;w=M.y;var Z=F.jj();z(A,function(O){O.reset(Z)})};B.createPositionAnimation=function(M,Z,O,y){function K(D){0==U.dc(ia)&&!1===U.Nc(ia)?(U.start(ia),U.za(ia,D),U.pause(ia)):U.za(ia,D);X.animationUpdated()}var S={};A.push(S);var Y=O*fb,ia=U.create(null,F.a),I=null;O=function(){var D=fb,u=V.Jd(),R=V.kl();return V.create(null,"position",D,u,R,!1)}();var C=function(){var D=[],u=W.u(Q);D.push({frame:0,value:u});D.push({frame:Y,
value:u});return D}();S.reset=function(D){if(!U.dc(ia)){var u=W.u(Q);var R=Gd.clone(u);R.x=E;R.y=w;u=R.x+M*D.sq;D=R.y+Z*D.tq;C[0].value=R;R=Gd.create(u,D,R.z);C[1].value=R;E=u;w=D;0!==I&&null!=I&&K(I)}};V.va(O,C);U.ka(ia,O,Q);U.start(ia);U.pause(ia);S.play=function(){U.play(ia)};S.pause=function(){U.pause(ia)};S.isPlaying=function(){return U.dc(ia)};S.progress=function(D){I=null!=y&&t.time()<y&&1!==D?null:Y*D;null!=I&&K(I)};S.b=function(){U.dc(ia)&&U.pause(ia);U.b(ia)};return S};B.dispose=function(){z(A,
function(M){M.b()})};return B};ra.flipH=function(){return L};ra.flipV=function(){return T};ra.initForSeekCapture=function(t,X){Db.cn(t,X)};var Pa;ra.cellStateStartResize=function(){Pa=Sc([Q],!0)};ra.cellStateResetResize=function(){null!=Pa&&(Pa=null)};ra.cellStateFireCellResizedWithVertexHandler=function(t){null!=Pa&&(ra.setBounds(t.x,t.y,t.width,t.height),Pa=null)};var yc=function(){function t(){var E=function(){var M={},Z=[];M.add=function(O){Z.push(O)};M.la=function(O){!1===Ia(Z)&&z(Z,function(y){Yg.Ba(y,
O)})};return M}(),w=function(){var M={},Z=[];M.add=function(O){Z.push(O)};M.la=function(O){!1===Ia(Z)&&z(Z,function(y){Yg.Ba(y,O)})};return M}();return{je:function(M,Z){"nn"===Z?E.add(M):"jawOpen"===Z&&w.add(M)},la:function(M){E.la(1.8*M);w.la(.3*M)}}}function X(E,w,M,Z,O){var y={},K=function(){function S(I){z(ia,function(C){var D=1.3*I(Yg.getName(C));Yg.Ba(C,D)})}var Y={},ia=[];Y.add=function(I){ia.push(I)};Y.la=function(I){.25<=I?S(function(C){return C===E?I:0}):.2<=I?S(function(C){return C===Z?
I:0}):.1<=I?S(function(C){return C===O?I:0}):0<I?S(function(C){return C===w?I:0}):S(function(){return 0})};return Y}();y.je=function(S,Y){Y!==E&&Y!==w&&Y!==M&&Y!==Z&&Y!==O||K.add(S)};y.la=function(S){K.la(S)};return y}if(Wb)return X("Fcl_MTH_A","Fcl_MTH_E","Fcl_MTH_I","Fcl_MTH_O","Fcl_MTH_U");if(Zb)return X("A","E","I","O","U");if("uavatar"===H)return t();var B=function(){var E={},w=[];E.add=function(M){w.push(M)};E.la=function(M){!1===Ia(w)&&z(w,function(Z){Yg.Ba(Z,2*M)})};return E}(),A=function(){var E=
{},w=[];E.add=function(M){w.push(M)};E.la=function(M){!1===Ia(w)&&z(w,function(Z){Yg.Ba(Z,M)})};return E}();return{je:function(E,w){"mouthShrugUpper"===w?B.add(E):"jawOpen"===w&&A.add(E)},la:function(E){B.la(E);A.la(E)}}}();(function(){N(Ya,function(t,X){yc.je(t,X)})})();var sc=function(){return{Ni:function(t,X){function B(w){var M=w.fps,Z=w.frames;E(M,Z,function(O){var y=Math.floor(O*M);O=(O-y/M)/(1/M);for(var K=Z[y];null==K&&0<y;)y--,K=Z[y];null!=K&&(y=Z[y+1],null!=y&&(K+=(y-K)*O),yc.la(K))})}function A(w){var M=
w.fps,Z=w.morphTargets,O=w.frames,y=function(){var K={},S={};N(Ya,function(Y,ia){var I=S[ia];null==I&&(I=[],S[ia]=I);I.push(Y)});K.D=function(Y,ia){var I=S[Y];Ia(I)||z(I,function(C){ia(C)})};return K}();E(M,O,function(K){var S=Math.floor(K*M);K=(K-S/M)/(1/M);for(var Y=O[S];null==Y&&0<S;)S--,K=0,Y=O[S];if(null!=Y){Y=JSON.parse(JSON.stringify(Y));if(null!=O[S+1])for(var ia=Y.length,I=0;I<ia;I++){var C=O[S][I];Y[I]=C+(O[S+1][I]-C)*K}null!=Z&&Z.map(function(D,u){y.D(D,function(R){Yg.Ba(R,Y[u])})})}})}
function E(w,M,Z){var O=null,y=zg.add(Dd.Xd(F.a),function(){var K=t.getRelativeTime();t.isActive()&&O!=K&&(Z(K),O=K)});t.Gf=function(){zg.remove(Dd.Xd(F.a),y);y=null}}(function(){var w=X.characterFamilyName;return Gf(w)||Hf(w)||Xd(w)||Ff(w)||Yd(w)?!0:!1})()?X.blendShapes&&A(P(X.characterFamilyName,X.blendShapes)):null!=X.spectrum&&B(X.spectrum)},Eo:function(t){t.Gf&&t.Gf()}}}();ra.createSound=function(t,X){var B=!1,A=null,E=0,w=!1,M=X.trimmedStartTime||0,Z=t-M-(X.trimmedEndTime||0),O=X.duration,y=
{setActive:function(K){w=K},isActive:function(){return w},getDuration:function(){return O},isPlaying:function(){B&&Date.now()/1E3>=A+1E3*O&&(B=!1,A=null,E=O);return B},getCurrentTime:function(){return y.isPlaying()?Date.now()/1E3-A:E},getRelativeTime:function(){var K=y.getCurrentTime();K%=Z;return K+=M},seek:function(K){return new Promise(function(S){null!=K&&(K<O?y.isPlaying()?A=Date.now()/1E3+K:E=K:(B=!1,A=null,E=O));S()})},play:function(K){return new Promise(function(S,Y){y.isPlaying()?y.seek.then(S)["catch"](Y):
(null==K?(B=!0,A=Date.now()/1E3+E,E=null):K<O?(B=!0,A=Date.now()/1E3+K,E=null):(B=!1,A=null,E=O),S())})},pause:function(){return new Promise(function(K){y.isPlaying()&&(B=!1,E=Date.now()/1E3-A,A=null);K()})},dispose:function(){return new Promise(function(K){sc.Eo(y);K()})}};sc.Ni(y,X);return y};ra.getPointerEventDetectionBounds=function(){return new Promise(function(t){var X=wa();z(Ya,function(A){W.Ea(A,!0)});var B=yf(Ya,function(){return Sc(Ya,!1)});t({x:B.x,y:B.y,width:B.width,height:B.height,canvasZoneX:X.x,
canvasZoneY:X.y})})};ra.getHipsBoneRotationAngleDifferenceApplied=function(t){t=this.Ja(t);return null==t?null:t.bm()};ra.getBounds=function(){return Sc(Ya,!1)};ra.setBounds=function(t,X,B,A,E){var w=wa();t-=w.x;X-=w.y;this.setBoundsImpl(t,X,B,A,E);this.oh();this.Ej()};(function(){var t=null;ra.setBoundsImpl=function(X,B,A,E,w){function M(O){var y=Q.jh;null!=y&&y.s(O)}!0===F.a.Pf&&(w=!0);null==w&&(w=!1);if(!1!==w||null==t||!t.Sb(X,B,A,E)){t=function(){return{Sb:function(O,y,K,S){return O===X&&y===
B&&K===A&&S===E}}}();pc.Lk();M(!1);w=W.J(Q);w=Mb.clone(w);try{var Z=function(){var O=Md(0,H);return Mb.ga(0,O,0)}();W.da(Q,Z);Oa();(function(){var O=new lf(Ya,{x:X,y:B,width:A,height:E},F.a,F.ba);O.Qp(Rb);O.F()})()}finally{pc.Ko(),M(!0),W.da(Q,w)}null!=mc&&mc.reset();null!=Jb&&Jb.yj()}}})();ra.setHeadRotationQuaternion=function(t,X,B,A,E){var w=Mb.create(E.x,E.y,E.z,E.w),M=ma(t),Z=Aa.M(Na).find(function(O){return O.name===M});E=Gd.create(0,0,0);return Qb(t,X,B,A,E,function(){return Af(Z,w)})};ra.setHeadFaceCamera=
function(t,X,B,A){var E=jf.u(Dd.qa(F.a));E=Gd.clone(E);E.z-=300;return Qb(t,X,B,A,E)};ra.setHeadHorizontal=function(t){function X(){if(null==Jb||!Jb.xc){var w=Ca.ta(E),M=$d.Ql(w),Z=$d.Km(w),O=Gd.ti(),y=Gd.normalize(Gd.vk(M,O));M=Gd.ki(M,O,y)-Math.PI/2;O=Gd.ci(O,Z);Z=Math.abs(O)<Math.cos(Math.PI/180*80);O=0>O;var K=Rd.ui();Z||(O?$d.rotate(w,y,-M,K):$d.rotate(w,y,M,K))}}var B=F.a,A=ma(t),E=Aa.M(Na).find(function(w){return w.name===A});Dd.De(B,X);return X};ra.resetHeadOrientation=function(t){t&&Dd.Uh(F.a,
t)};ra.scale=function(t){Gd.jc(W.l(Q),t)};(function(){var t=function(){function B(M){var Z=null;uc(w,{ie:function(O,y){y===M&&(Z=O)},v:function(){return null==Z}});return Z}var A={},E=[],w={};A.add=function(M,Z){E.push(Z);w[M]=Z};A.remove=function(M){var Z=E.indexOf(M);0>Z||(E.splice(Z,1),M=B(M),null!=M&&delete w[M])};A.D=function(M){!1===Ia(E)&&z(E,function(Z){M(Z)})};A.wl=function(M){return w[M]};return A}();ra.Df=qb;(function(){var B=null;ra.Ej=function(){var A=W.Ea(Q,!1);null!=B&&Nb.Sb(B,A)||
(B=A,t.D(function(E){E.Cf()}))}})();ra.Oj=function(B){var A=this.Gb;return null==A?!1:0<=A.indexOf(B)};ra.Gi=function(B){null==this.Gb&&(this.Gb=[]);this.Gb.push(B)};ra.Ao=function(B){var A=this.Gb;null!=A&&(B=A.indexOf(B),0>B||A.splice(B,1))};ra.Dj=function(){var B=this.Gb;null!=B&&(Hc(B,function(A){A()}),delete this.Gb)};ra.Jm=function(){return W.Zb(Q)};ra.ia=function(){var B=null;return function(){null==B&&(B=sf(Na,H).name);return B}}();ra.wf=function(B){return new Promise(function(A,E){Sa.He();
null==B?A():Sa.aj(B,function(w){return g(ab,w)},F.a).then(function(){A()})["catch"](function(w){E(w)})})};ra.jf=function(B,A){t.add(B,A)};ra.qh=function(B){t.remove(B)};ra.An=function(B){t.D(B)};ra.Ja=function(B){return t.wl(B)};ra.ep=function(B,A,E,w){this.setBounds(B,A,E,w)};ra.fp=function(B,A,E,w){this.setBoundsImpl(B,A,E,w)};ra.Oc=function(B){N(Ya,function(A,E){B(A,E)})};ra.Bk=function(){var B=this.uc;null!=B&&(delete this.uc,B.cancel())};ra.Uq=function(B){var A=this;this.Bk();this.uc=B;B.F().then(function(){})["catch"](function(E){null!=
E&&console.error(E)})["finally"](function(){B===A.uc&&delete A.uc})};var X=null;ra.mp=function(B){if(B!=X){var A=hc();null!=A&&Fg.Qe(A,null);A=Cb();null!=A&&Fg.Qe(A,null);A=Ob();null!=A&&Fg.Qe(A,null);null!=X&&X.s(!1);X=B;null!=X&&X.s(!0)}};ra.Pq=function(){var B=W.ug(Q).y;B=Ug.ii(B);return Ug.Hl(B)};ra.pq=function(B){B(this.api)};ra.cr=function(){this.pq(function(B){l(B)})};(function(){var B=0;ra.oh=function(){t.D(function(A){A.Uc()});B++;5<=B&&(this.oh=function(){})}})()})();ra.rotate=function(t){t=
Ug.df(t);t=Ug.tg(t);W.Jh(Q,Gd.create(0,t,0))};ra.lh=function(t){Q.Va=t};ra.fireReloadForReclaimed=function(){null!=qc&&qc.Go();Q.Va.addEventListener("apiReady",function(){Ka()},{once:!0})};ra.setMaterialsOutline=function(t){Sa.Ap(t)};ra.getCanChangeTextureMaterialNames=function(){return Sa.pm()};ra.willDestroyForSetWebComponentNode=function(){this.bf=!0};ra.destroy=function(t){null==t&&(t=!1);var X=t;!1===t&&(qd.unregister(v,this.wd,this),qd.me(v)&&(t=!0));if(t)this.setVisible(!1),this.clearCurrentPositionAnimationSession(),
X&&qd.register(v,this,this.wd);else{qd.oa(v);var B=this;!0===this.bf?delete this.bf:B.setVisible(!1);ra.clearCurrentPositionAnimationSession();Vb.yk(B,v,function(){null!=Db&&(Db.oa(),Db=null);null!=jb&&(Wg.b(jb),jb=null);Sb();pb();fc.remove(B);yc=vb=Hb=Ya=Q=null;null!=qc&&qc.b();qc=null})}};ra.setVisibleAsPromise=function(t){var X=this;return new Promise(function(B,A){ab.Ro().then(function(E){X.setVisible(t);E.done();B()})["catch"](function(E){A(E)})})};ra.setVisible=function(t){W.s(Q,t);t?Db.start():
Db.pause()};var Db=function(t){function X(){var C=.8*Math.random(),D=Yg.eg(M.bg());M.D(function(u){B(u,D,C,15)})}function B(C,D,u,R){function ya(){aa++;var ja=Xg.oc(D,u,aa/R);y.Ba(ja);aa>=R&&Dd.Uh(F.a,ya)}var aa=0;Dd.De(F.a,ya)}function A(){1===E(1,2)&&(O.Jj(),tc(100).then(function(){O.bh()}))}function E(C,D,u){null==u&&(u=function(){return Math.random()});u=u();return Math.floor(u*(D-C+1))+C}var w=function(){var C={},D=[];C.add=function(u){D.push(u)};C.D=function(u){z(D,function(R){u(R)})};C.N=function(){return Ia(D)};
return C}(),M=function(){var C={},D=[];C.bg=function(){return D[0]};C.add=function(u){D.push(u)};C.D=function(u){z(D,function(R){u(R)})};C.N=function(){return Ia(D)};return C}();(function(){N(t,function(C,D){"eyeBlinkLeft"===D||"eyeBlinkRight"===D||"vrc.blink_left"===D||"vrc.blink_right"===D||"Blink_L"===D||"Blink_R"===D||"target_17"===D||"target_18"===D||"Fcl_EYE_Close"===D||"L_Blink"===D||"R_Blink"===D?w.add(C):("browInnerUp"===D||"browOuterUpLeft"===D||"browOuterUpRight"===D)&&M.add(C)})})();var Z=
U.create(null,F.a),O=function(){var C={},D=Tb(0,0),u=function(){var R=fb,ya=V.Hd();return V.create(null,"influence",R,ya)}();V.va(u,[D]);w.D(function(R){U.ka(Z,u,R)});C.Jj=function(){D.value=1};C.bh=function(){D.value=0};return C}(),y=function(){var C={},D=Tb(0,0),u=function(){var R=fb,ya=V.Hd();return V.create(null,"influence",R,ya)}();V.va(u,[D]);M.D(function(R){U.ka(Z,u,R)});C.Ba=function(R){D.value=R};return C}(),K=null,S=null,Y=!1,ia=null,I=function(){var C={},D={};C.Vh=function(u){D={};null!=
u&&Da(u,function(R,ya){if("eyeBlinkLeft"===R||"eyeBlinkRight"===R||"Fcl_EYE_Close"===R)D[R]=ya})};C.dr=function(u,R){var ya=D[u];return null==ya||R>ya?R:ya};return C}();return{Vh:function(C){I.Vh(C)},cn:function(C,D){this.pause();var u=1E3*D;ia=function(){var R=function(){var sa=Wa(C),Ua=new Math.seedrandom(sa);return{ah:function(){return Ua.kh()}}}(),ya=function(){var sa={},Ua=[];sa.add=function(Ta,Za){Ua.push(function(){return{Ye:function(Va){return Va>=Ta},ye:function(){M.D(function(Va){Yg.Ba(Va,
Za)})}}}())};sa.Fe=function(){M.N()||M.D(function(Ta){Yg.Ba(Ta,0)})};sa.D=function(Ta){for(var Za=Ua.length,Va=0;Ta.v()&&Va<Za;Va++)Ta.he(Ua[Va],Va)};return sa}(),aa=function(){function sa(Va,db){Za.push(function(){return{Ye:function(tb){return tb>=Va},ye:function(){w.D(function(tb){Yg.Ba(tb,db)})}}}())}var Ua=0,Ta={},Za=[];Ta.Bi=function(Va){sa(Va,1);sa(Va+100,0)};Ta.wh=function(Va){Ua=Va};Ta.Fe=function(){this.wh(0);O.bh()};Ta.D=function(Va){for(var db=Za.length,tb=Ua;Va.v()&&tb<db;tb++)Va.he(Za[tb],
tb)};return Ta}(),ja=function(){function sa(){return R.ah()}return function(){return 1===E(1,2,sa)}}();(function(){if(!w.N())for(var sa=800;sa+100<=u;)ja()&&aa.Bi(sa),sa+=800})();(function(){if(!M.N())for(var sa=1200,Ua=Yg.eg(M.bg());sa<=u;){for(var Ta=.8*R.ah(),Za=1/fb*1E3,Va=1;15>=Va;Va++){var db=Xg.oc(Ua,Ta,Va/15);ya.add(sa+Za*(Va-1),db)}Ua=Ta;sa+=1200}})();return{seek:function(sa){0===sa&&(aa.Fe(),ya.Fe());var Ua=null,Ta=null,Za=1E3*sa;ya.D(function(){var Va=!0;return{v:function(){return Va},
he:function(db){db.Ye(Za)?Ua=db:Va=!1}}}());aa.D(function(){var Va=!0;return{v:function(){return Va},he:function(db,tb){db.Ye(Za)?Ta=db:(aa.wh(tb),Va=!1)}}}());null!=Ua&&Ua.ye();null!=Ta&&Ta.ye()}}}()},seek:function(C){null!=ia&&ia.seek(C)},start:function(){Y||(Y=!0,!1===w.N()&&(K=self.setInterval(A,800)),!1===M.N()&&(S=self.setInterval(X,1200)),U.start(Z,!0))},pause:function(){!1!==Y&&(Y=!1,null!=K&&(self.clearInterval(K),K=null),null!=S&&(self.clearInterval(S),S=null),U.stop(Z))},oa:function(){this.pause();
U.stop(Z);U.b(Z)}}}(Ya);ra.setVisible(!1);fc.add(ra,Ya,Hb,lc,Yb);ra.seekAnimateFaceMorphsHandler=function(t){Db.seek(t)};ra.setZIndex=function(t){return function(X){W.u(t).z=X}}(Q);var pc=function(){var t={},X=[];t.add=function(A){X.push(A)};t.remove=function(A){A=X.indexOf(A);0<=A&&X.splice(A,1)};var B=null;t.Lk=function(){!1===Ia(X)&&(B=[],z(X,function(A){W.isEnabled(A)&&(W.s(A,!1),B.push(A))}))};t.Ko=function(){null!=B&&(z(B,function(A){W.s(A,!0)}),B=null)};return t}();ra.kf=function(t){pc.add(t)};
ra.wo=function(t){pc.remove(t)};ra.mergeAnimationGroupsAndReturnAnimationGroupDeltaAndDuration=function(t){return new Promise(function(X,B){var A=Zg.create(),E=Dd.create(A);ob({Fb:function(){var w=t[0];w=xc(w);delete w.customizations;delete w.inPlace;delete w.flipH;return new Promise(function(M){Ra(w,E).then(function(Z){var O=Z.h;(new ee(Na,Q,O,lc,Yb,H,E)).ob();var y=w.positionOffset;if(null!=y){var K=ra.ia();oe(y,K,O)}M(Z)})["catch"](function(Z){console.error(Z)})})},Db:function(){return new Promise(function(w,
M){function Z(){return new Promise(function(K,S){Fc(t,function(Y,ia){return new Promise(function(I,C){var D=y[ia],u=function(){return{L:function(ja){return g(ab,ja)},Cb:function(){return y[ia-1].P.Xb()},Bb:function(){return y[ia-1].P.Ec()}}}(),R=fg(v,H,null).Xc(L).Re(T).ha(),ya=function(){var ja=Y.customizations,sa=Y.duration,Ua=Y.startRatio,Ta=Y.endRatio,Za=Y.speed;return gg(Y.assetUrl).Me(null).Ne(ja).Vc(sa).qb(Ua).pb(Ta).Kb(Za).ha()}(),aa=function(){var ja=Y.showProps,sa=Y.inheritProps,Ua=Y.flipH;
return eg().Kh(ja).Ih(null).Zc(Ua).Eh(sa).ha()}();u=new hg(u,R,hd,ya,E,aa,D.h);D.P=u;u.Eb().then(function(){I()})["catch"](function(ja){C(ja)})})}).then(function(){K()})["catch"](function(Y){S(Y)})})}var O,y;Xa(t,E).then(function(K){y=K;return Z()}).then(function(){O=(new Ig(E,fb,y)).Wg();z(y,function(K){U.b(K.h)});w(O)})["catch"](function(K){M(K)})})}}).then(function(w){X({animationGroupDelta:w.vb,duration:w.duration})})["catch"](function(w){B(w)})["finally"](function(){Dd.b(E);Kd.b(A)})})};ra.mergeAnimationGroups=
function(t,X){return new Promise(function(B,A){var E=Zg.create(),w=Dd.create(E),M;Xa(t,w).then(function(Z){M=(new Ig(w,fb,Z)).Wg();z(Z,function(O){U.b(O.h)});return kd(w,zb,H,M,X,void 0)}).then(function(Z){B(Z)})["catch"](function(Z){A(Z)})["finally"](function(){Dd.b(w);Kd.b(E)})})};ra.loadPoseDataFromAction=function(t){return new Promise(function(X,B){function A(w){return new Promise(function(M,Z){var O=qf.ca(w);if(null==O||1!==O.length)Z("Invalid animation groups");else{O=O[0];var y={},K=(y.hipsBonePosition=
null,y.boneRotations={},y);z(U.j(O),function(S){var Y=Ea.f(S),ia=V.B(Y);if(null==K.hipsBonePosition&&"position"===ia){var I=Ea.m(S);I=Ca.getName(I);if(I.toLowerCase().includes("hips")){var C=V.g(Y)[0];I=C.value;C=ce(Na,H,!0);if(null==C)C=1;else{var D=tf(Na),u=uf(Na);C=Mg(C,D,u);C=null==C?1:C}K.hipsBonePosition={x:I.x*C,y:I.y*C,z:I.z*C}}}"rotationQuaternion"===ia&&(I=Ea.m(S),I=Ca.getName(I),C=V.g(Y)[0],S=C.value,K.boneRotations[I]={x:S.x,y:S.y,z:S.z,w:Mb.hb(S)})});M(K)}})}var E;ld(t,void 0).then(function(w){return ae.pc(w.U,
w.url,F.a,null,w.T)}).then(function(w){E=w;return A(E)}).then(function(w){X(w)})["catch"](function(w){B(w)})["finally"](function(){null!=E&&qf.b(E)})})};ra.generateAnimatedGifForAction=function(t,X,B,A,E,w,M,Z,O,y,K,S,Y,ia,I,C,D,u){return new Promise(function(R,ya){function aa(){return new Promise(function(Eb,Ac){xb(X,t,M,Za,Z,O,E,w,S,Y,ia,I,C,D).then(function(Ab){vc=Ab.Xg;zc=Ab.sc;Eb(Ab.h)})["catch"](function(Ab){Ac(Ab)})})}function ja(){return new Promise(function(Eb,Ac){var Ab=null!=vc?vc.handProps:
null;if(null==Ab)Eb();else{var Tc=function(){return{vc:function(){},ub:function(){}}}(),Wd=window.gsap.timeline({paused:!0}),Qf=vg(0,u,0,1),xd=new ug(Tc,Ab,Za,H,db,tb,Wd,zc,Va,Qf);xd.ac().then(function(){xd.Fg()&&(Wd.time(.001),Wd.time(0));Eb()})["catch"](function(xh){Ac(xh)})}})}function sa(){return new Promise(function(Eb,Ac){bd=function(){var Ab=function(){return{L:function(xd){return g(ab,xd)},Cb:function(){return null},Bb:function(){return null}}}(),Tc=fg(v,H,db).Xc(L).Re(T).ha(),Wd=eg().Zc(C).ha(),
Qf=function(){var xd=null!=vc?vc.actionAssetPathForLoadProps:null;return gg(X).Me(xd).Ne(Z).Vc(u).qb(E).pb(w).Kb(D).ha()}();return new hg(Ab,Tc,hd,Qf,Za,Wd,Jc)}();bd.xh(function(){var Ab=[];if(null!=zc){var Tc=zc.Pb;Ia(Tc)||(Ab=Ab.concat(Tc))}return Ab}());bd.Eb().then(function(){bd.le()&&bd.Hh();Eb()})["catch"](function(Ab){Ac(Ab)})})}var Ua=document.createElement("canvas");Ua.width=130;Ua.height=180;var Ta=Kd.create(Ua,!0,{preserveDrawingBuffer:!0,stencil:!0,Gq:!1}),Za=function(){var Eb=Dd.create(Ta),
Ac=Hd.create("camera1",Gd.create(0,1,6),Eb),Ab=new nh(Ac);Hd.Sa(Ac,Gd.create(0,1,0));Ab.tb();Ab=4;Ab=void 0===Ab?1:Ab;var Tc=-(Ab-1)/2;Ab=kf.create(Tc,Tc,Ab,Ab);jf.Xp(Ac,Ab);Ac=Id.create("light",Gd.create(0,.7,1),Eb);Id.Gh(Ac,.7);Dd.Ah(Eb,cf.fd("#cbcbcb"));return Eb}(),Va,db,tb,vc,zc,Jc,bd;(function(){return new Promise(function(Eb,Ac){ld(zb,void 0).then(function(Ab){return ae.wa("",Ab.U,Ab.url,Za,null,Ab.T)}).then(function(Ab){var Tc=be.Ya(Ab);db=be.I(Ab)[0];tb=Tc[0];Ab=Md(Ug.tg(Ug.df(155)),H);W.Jh(db,
Gd.create(0,Ab,0));Gd.jc(W.l(db),1.25);Eb()})["catch"](function(Ab){Ac(Ab)})})})().then(function(){return aa()}).then(function(Eb){Va=Eb;return Bb(Za,Va,B,A,K)}).then(function(Eb){U.b(Va);Jc=Eb.Xa;Eb=new ee(tb,db,Jc,lc,Yb,H,Za);Eb.vp();Eb.ob();Eb=U.W(Jc);var Ac=Eb+10;U.A(Jc)<Ac&&U.normalize(Jc,Eb,Ac)}).then(function(){return sa()}).then(function(){return ja()}).then(function(){return(new Gg(Jc,Ta,Za,Ua,y,bd)).Bd()}).then(function(Eb){R(Eb)})["catch"](function(Eb){ya(Eb)})["finally"](function(){Dd.b(Za);
Kd.b(Ta);Ua.remove()})})};ra.getSceneBlobDataAndDurationForAction=function(t,X,B,A,E,w,M,Z,O,y,K,S,Y,ia,I,C,D){return new Promise(function(u,R){function ya(Ta,Za){return new Promise(function(Va,db){function tb(zc,Jc){Va({sceneBlobData:zc,duration:Jc})}if(!1===sb)tb(Ta,Za);else if(null==K)tb(Ta,Za);else{var vc=If(H);dd(Ta,vc).then(function(zc){tb(zc,Za)})["catch"](function(zc){db(zc)})}})}function aa(Ta){return new Promise(function(Za,Va){var db;Bb(sa,Ta,B,A,y).then(function(tb){var vc=tb.Xa;db=tb.duration;
U.b(Ta);return kd(sa,zb,H,vc,Ua,M)}).then(function(tb){Za({Oo:tb,duration:db})})["catch"](function(tb){Va(tb)})})}var ja=Zg.create(),sa=Dd.create(ja),Ua=null;(function(){return new Promise(function(Ta,Za){xb(X,t,Z,sa,O,K,E,w,S,Y,ia,I,C,D).then(function(Va){var db=Va.h;Ua=Va.Xg;null!=y&&(Va=y*fb,null==Ua&&(Ua={}),Ua.frameInOriginalAnimation=Va);Ta(db)})["catch"](function(Va){Za(Va)})})})().then(function(Ta){return aa(Ta)}).then(function(Ta){return ya(Ta.Oo,Ta.duration)}).then(function(Ta){u(Ta)})["catch"](function(Ta){R(Ta)})["finally"](function(){Dd.b(sa);
Kd.b(ja)})})};ra.setMaterialImageTextureScale=function(t,X){Sa.zp(t,X)};ra.setMaterialImageTextureRotation=function(t,X){Sa.yp(t,X)};var Jb=null;ra.hideAdjustHeadOrientationEditor=function(){null!=Jb&&(od(!1),Jb.b(),Jb=null)};ra.showAdjustHeadOrientationEditor=function(t){var X=this;return new Promise(function(B,A){if(null==Dc)A("instance is null.");else{var E=Dc.ARROW_HEAD_GLB_PATH_RESOURCE_KEY,w=Dc.Cm(E);null==w?A('Resource "'+E+'" not registered.'):yg(t,Q,Na,w,H).then(function(M){Jb=M;od(!0);B(function(){return{setConfirmEditListener:function(Z){Jb.lp(Z)},
dispose:function(){X.hideAdjustHeadOrientationEditor()}}}())})["catch"](function(M){A(M)})}})};ra.previewSubActionTrimmed=function(t,X,B,A){var E=this;return new Promise(function(w,M){var Z=E.Ja(t);null==Z?M("actionObject is null for id "+t):Z.hc(X,B,A).then(function(){w()})["catch"](function(O){M(O)})})};ra.setMaterialColorTexture=function(t,X){Sa.xp(t,X)};ra.setActionShoulderPosition=function(t,X){var B=this.Ja(t);null!=B&&B.Pp(X)};ra.setActionAngle=function(t,X){var B=this.Ja(t);null!=B&&B.Uo(X)};
ra.setActionPositionOffset=function(t,X,B){t=this.Ja(t);null!=t&&t.Lp(X,B)};ra.setActionArmSpace=function(t,X){var B=this.Ja(t);null!=B&&B.Yo(X)};(function(){ra.generateImage=function(t,X,B){function A(K,S,Y,ia){y.push({resolve:K,reject:S,jo:Y,time:ia})}function E(K){z(y,function(S){S.resolve(K)})}function w(K){z(y,function(S){S.reject(K)})}var M=this,Z=this.generateImage,O=function(){var K=!1;return function(){K||(K=!0,M.generateImage=Z)}}(),y=null!=B?B:[];ra.generateImage=function(K,S){return new Promise(function(Y,
ia){A(Y,ia,K,S)})};return new Promise(function(K,S){null==B&&A(K,S,t,X);!1===xa.ue()?(w("generateImage() need support multiple views"),O()):function(){var Y=function(){return{Ra:function(u){xa.Ra(u)},ne:function(){xa.sb(F)},Ge:function(){xa.cd(F)},Le:function(u){return t.seekToTimeWithReturnRestoreHandler(u)},gb:function(u){xa.gb(u)}}}(),ia=F.K,I=Q,C=Na,D=Sc([Q],!0);Y=new qh(Y,ia,I,C,D,zb);Y.setTime(X);return Y}().Bd().then(function(Y){E(Y)})["catch"](function(Y){1===y.length?w(Y):(O(),y.shift(),
Y=y[0],ra.generateImage(Y.jo,Y.time,y))})["finally"](function(){O()})})}})();ra.alignBottomBodyWithPreviousAction=function(t,X){return new Promise(function(B,A){var E=Zg.create(),w=Dd.create(E);ob({Fb:function(){return Ra(t,w)},Db:function(M){return new Promise(function(Z,O){Ra(X,w).then(function(y){function K(C,D){return{frame:C,value:D}}y=y.h;var S=function(){var C={},D={};z("Hips LeftUpLeg RightUpLeg LeftLeg LeftFoot LeftToeBase LeftToe_End RightLeg RightFoot RightToeBase RightToe_End".split(" "),
function(u){D[u]=!0});C.contains=function(u){u=self.BabylonJsBoneMapper.ensureBoneNameInMixamo(u,H);u=u.substring(10);return!0===D[u]};return C}(),Y=U.A(y),ia=U.W(M),I=U.A(M);z(U.j(y),function(C){var D=Ea.m(C).name;if(S.contains(D)){C=Ea.f(C);var u=V.H(C,Y);u=V.g(C)[u];D=pe(M,D,V.B(C));null!=D&&(C=u.value,V.va(Ea.f(D),[K(ia,C.clone()),K(I,C.clone())]))}});Z(M)})["catch"](function(y){O(y)})})}}).then(function(M){B(M.vb)})["catch"](function(M){A(M)})["finally"](function(){Dd.b(w);Kd.b(E)})})};ra.getAnimationGroupDeltaForConvertPoseToAction=
function(t){return new Promise(function(X,B){var A=Zg.create(),E=Dd.create(A);ob({Fb:function(){return Ra(t,E)},Db:function(w){return new Promise(function(M){U.normalize(w,null,t.duration*fb);M(w)})}}).then(function(w){X(w.vb)})["catch"](function(w){B(w)})["finally"](function(){Dd.b(E);Kd.b(A)})})};ra.flattenActionWithRepeatWithPatchData=function(t){return new Promise(function(X,B){var A=Zg.create(),E=Dd.create(A),w;ob({Fb:function(){return Ra(t,E)},Db:function(M){return new Promise(function(Z){var O=
t.playCount,y=t.repeatBlendDuration,K=t.startRatio||ef.fa,S=t.endRatio||ef.ea;if(K!==ef.fa||S!==ef.ea)M=te(M,K,S);O=new Lg(E,M,O,y,fb,null);O.flatten();w=O.Xa;U.b(M);Z(w)})}}).then(function(M){X({animationGroupDelta:M.vb,duration:M.duration})})["catch"](function(M){B(M)})["finally"](function(){Dd.b(E);Kd.b(A)})})};ra.getPatchedAnimationGroupDataForCustomizations=function(t,X){return new Promise(function(B,A){var E=Zg.create(),w=Dd.create(E),M=null;ob({Fb:function(){return Ra(t,w)},Db:function(Z){return new Promise(function(O,
y){var K=t.startRatio,S=t.endRatio,Y=new ig,ia=qb(X,Z,new ic,Y);ia.qb(K);ia.pb(S);ia.Yc(t.flipH);K=t.speed;null!=K&&ia.Kb(K);ia.F().then(function(){M=function(){var I=Y.Pb;if(Ia(I))return null;z(I,function(C){C=C.propInfoList;!1===Ia(C)&&z(C,function(D){var u=D.ja;null!=u&&(delete D.ja,D.actionPropsIdAndPath=u)})});return I}();O(Z)})["catch"](function(I){y(I)})})}}).then(function(Z){B({animationGroupDelta:Z.vb,allPropInfoLists:M})})["catch"](function(Z){A(Z)})["finally"](function(){Dd.b(w);Kd.b(E)})})};
ra.getPatchedAnimationGroupDataWithDuration=function(t,X,B,A){return new Promise(function(E,w){function M(S,Y){return new Promise(function(ia,I){pa(Na,Q,O,S,X,Y).F().then(function(){ia()})["catch"](function(C){I(C)})})}function Z(){return new Promise(function(S,Y){!1===rh()?S(null):null==A?S(null):yb(A,K).then(function(ia){S(ia)})["catch"](function(ia){Y(ia)})})}var O=xc(B);delete O.temp;var y=Zg.create(),K=Dd.create(y);ob({Fb:function(){return Ra(t,K)},Db:function(S){return new Promise(function(Y,
ia){Z().then(function(I){return M(S,I)}).then(function(){Y(S)})["catch"](function(I){ia(I)})})}}).then(function(S){var Y=O[sh.prototype.ni];E({animationGroupDelta:S.vb,handPropsInfo:null==Y?null:{startTime:O.startTime,endTime:O.endTime,handProps:Y},duration:S.duration})})["catch"](function(S){w(S)})["finally"](function(){Dd.b(K);Kd.b(y)})})};(function(){var t=null;ra.updateWithPoseData=function(){var X=this,B=this.updateWithPoseData;this.updateWithPoseData=function(A,E,w){return new Promise(function(M,
Z){null!=t&&t.reject();t={ld:A,Ae:E,timeline:w,resolve:M,reject:Z}})};return new Promise(function(A,E){var w=[];X.An(function(M){w.push(M.nq())});Promise.all(w).then(function(){A()})["catch"](function(M){E(M)})["finally"](function(){X.updateWithPoseData=B;if(null!=t){var M=t.ld,Z=t.Ae,O=t.timeline,y=t.resolve,K=t.reject;t=null;X.updateWithPoseData(M,Z,O).then(function(){y()})["catch"](function(S){K(S)})}})})}})();var qc=null;ra.isActionEnabled=function(t){return null!=qc?qc.jn(t):!0};ra.findForcedNormalizedActionForTime=
function(t,X){return null!=qc?qc.Qk(t,X):null};var Ic=null;ra.showPoseEditor=function(t,X,B){B=void 0===B?{}:B;var A=this,E=null!=B.canClickOnCanvas?B.canClickOnCanvas:!0;return new Promise(function(w,M){og().then(function(Z){qc=function(){function Y(){C=I=ia=null;ia=A.Ja(X);if(null!=ia){var D=ia.al();I=D.startTime;C=fd(D.duration,D.startRatio||ef.fa,D.endRatio||ef.ea,1)}}var ia,I,C;Y();return{jn:function(D){if(null==ia||!0!==D.isBlendAction||X===D.currentAction.id)var u=!0;else u=D.startTime,D=D.duration,
u=Math.max(I+C,u+D)-Math.min(I,u)<C+D?!1:!0;return u},Qk:function(D,u){return null!=ia&&u>=I-.01&&u<=I+C+.01?Bc(D,function(R){return R.id===X}):null},Go:function(){Y()},b:function(){}}}();var O=F.a,y=Q,K=Na;W.u(Q).z=0;var S=A.setZIndex;A.setZIndex=function(){};E&&od(!0);O=t.createPoseEditor(O,y,K,F.ba,function(){return{isShowPropsForFileName:function(Y){return Z.Dg(Y)},getBoneCanvasPosition:function(Y,ia){if(null==Y||null==ia)return null;var I=Ca.Cd(ia,Y),C=kf.dd(jf.Kc(F.G),F.canvas.clientWidth,F.canvas.clientHeight),
D=Dd.Jc(F.a);I=Gd.gd(I,Nb.Ab(),D,C);return{x:I.x,y:I.y}},getCanvasParentElement:function(){return F.Ca},getBoneEditors:function(){null==Ic&&(Ic=function(){var Y={},ia=[],I=new Map;Y.add=function(C){ia.push(C);var D=C.getBoneName();I.set(D,C)};Y.iterate=function(C){null!=ia&&ia.forEach(function(D){C(D)})};Y.getBoneEditorByBoneName=function(C){return I.get(C)};Y.isEnabled=function(){return!1===ia[0].disabled};Y.dispose=function(){I=ia=null};return Y}());return Ic},disposeBoneEditors:function(){null!=
Ic&&(Ic.dispose(),Ic=null)}}}());ra.Jg=!0;O.setDisableCanvasInteractivityCallback(function(){A.setZIndex=S;Ka();od(!1);null!=ra.Jg&&delete ra.Jg;He.fireEvent({showing:!1});null!=qc&&qc.b();qc=null});He.fireEvent({showing:!0});w(O)})["catch"](function(Z){M(Z)})})};ra.wf(J).then(function(){})["catch"](function(t){console.error(t)});(function(){Nd.ag(H).then(function(t){null!=t&&ra.Oc(function(X,B){Yg.Ba(X,t[B]||0)})})["catch"](function(t){console.error(t)})})();Lb(ra,{});la.addEventListener("apiReady",
function(){Ka()},{once:!0})};return"3d-character-creator-character"===Ha?yh(zb,v):ld(zb,void 0)}}).then(function(Ha){if(!Pf(nb))return ae.wa("",Ha.U,Ha.url,F.a,null,Ha.T)}).then(function(Ha){if(!Pf(nb)){Je();Sf(Ha,H);var zb=qf.I(Ha),Ya=qf.Ya(Ha),Hb=qf.ca(Ha);Ha=Ha.gn;null==Ha&&(Ha={dispose:function(){}});Pb(zb,Ya,Hb,Ha)}})["catch"](function(Ha){nb(Ha)})}})};return ab}function qa(){var Fa=null==F.canvas;Fa&&(F.canvas=ka(),F.ba=G(),F.ba.appendChild(F.canvas),F.Ca="g"===rd.nodeName?document.createElementNS("http://www.w3.org/2000/svg",
"foreignObject"):document.createElement("div"),null==F.K&&(F.K=Zc(F.canvas),F.sh=function(){F.a.xd()}));F.Ca.style.pointerEvents="none";F.Ca.setAttribute(Fb,rc);rd.appendChild(F.Ca);Fa&&F.Ca.appendChild(F.ba)}function G(){var Fa=document.createElement("div"),hb=Fa.style;hb.position="fixed";hb.pointerEvents="none";hb.width="100%";hb.height="100%";return Fa}function ka(){var Fa=document.createElement("canvas"),hb=Fa.style;hb.width="100%";hb.height="100%";hb.pointerEvents="none";return Fa}function wa(){var Fa=
F.ba;return null==Fa?{x:0,y:0,width:0,height:0}:Fa.getBoundingClientRect()}function Oa(){var Fa=F.a,hb=F.G,Ib=jf.ee(hb);hb=jf.Yd(hb);Dd.Tp(Fa,Ib,hb)}function na(){var Fa=Eg.te(F.C),hb=Eg.se(F.C);return Eg.re(F.C)||Fa||hb}function ha(Fa){var hb=gc();return zg.remove(hb,Fa)}function ba(Fa){var hb=gc();return zg.add(hb,Fa)}function ea(Fa){var hb=lb();return zg.remove(hb,Fa)}function oa(Fa){var hb=lb();return zg.add(hb,Fa)}function gc(){var Fa=Ob();return Fg.og(Fa)}function lb(){var Fa=Ob();return Fg.Gc(Fa)}
function mb(){var Fa=Cb();return Fg.Gc(Fa)}function $a(){var Fa=hc();return Fg.Gc(Fa)}function rb(){var Fa=Ob();return Fg.Kd(Fa)}function gb(){var Fa=Cb();return Fg.Kd(Fa)}function Xb(){var Fa=hc();return Fg.Kd(Fa)}function Ob(){return Oc("rotationGizmo")}function Cb(){return Oc("scaleGizmo")}function hc(){return Oc("positionGizmo")}function Oc(Fa){var hb=Eg.Fc(F.C);return null==hb?null:hb[Fa]}function yd(){var Fa=Eg.create(F.a,ef.GIZMO_THICKNESS);Eg.Bh(Fa,!1);return Fa}function wd(Fa){Eg.yf(F.C,
Fa)}function Je(){var Fa=Dd.Vd(F.a);!1===Ia(Fa)&&Hc(Fa,function(hb){zf.b(hb)})}function zh(){function Fa(){var wb=x.getBrightness();null==wb&&(wb=Od);var Gb=function(cc,ib){return cc.reduce(function(Vb,ab,qd){return Math.abs(ab-ib)<Math.abs(cc[Vb]-ib)?qd:Vb})}(Pd,wb);Id.Gh(F.Jn,Pd[Gb]);wb=Dd.lm(Ib);null!=wb&&wb.map(function(cc){var ib=cc.characterFamilyName;if(null!=ib){var Vb=Ec[ib];null==Vb&&(Vb=f(),Ec[ib]=Vb);ib=Vb[Gb];Vb=cc.albedoTexture;null!=Vb&&(Vb.level=ib);cc.directIntensity=ib}})}var hb=
null==F.a;if(hb){var Ib=Dd.create(F.K);Ib.ar=ub++;(function(){function wb(){!1===Ia(Gb)&&(z(Gb,function(cc){cc()}),Gb.length=0)}var Gb=[];Ib.Hi=function(cc){Gb.push(cc)};Ib.rh=function(){wb();Dd.nb(Ib)};Ib.xd=function(){var cc=eh(),ib=0;return function(){if(Of)Of=!1;else if(!xa.ke()&&fh&&(ib+=Kd.Il(F.K),ib<30/cc*30))return;this.rh();ib=0}}()})();var ec=function(){var wb=Rg.cf();W.s(wb,!1);wb.mh=function(){mf(this)};wb.kg=function(){var Gb=Sc([this],!1);return{x:Gb.x,y:Gb.y}};wb.Wn=function(Gb){var cc=
null,ib=W.u(this);ib.x+=1;ib.y+=1;try{cc=Gb()}finally{--ib.x,--ib.y}return cc};return wb}();F.jj=function(){ec.mh();var wb=ec.kg(),Gb=ec.Wn(function(){ec.mh();return ec.kg()});return{sq:1/(Gb.x-wb.x),tq:1/(Gb.y-wb.y)}}}else Ib=F.a;Wc(Ib);hb&&(F.G=Xc(F.a),xa.Ra(F),F.Rc=new nh(F.G),jh()&&ch.create("fxaa",1,F.G));F.Rc.tb();hb&&(F.Jn=Yc(Ib));x.addAnimationInfoObserver(Fa);Fa();Jf=function(){x.removeAnimationInfoObserver(Fa)};return{a:Ib,ij:Fa}}function vh(){return new Promise(function(Fa){F.a.rh();Fa()})}
function Ah(Fa,hb){return new Promise(function(Ib,ec){var wb=Fa;if(!function(){var ib=!1,Vb=wc.get(wb,F.a);null!=Vb&&(Ib(Vb),ib=!0);return ib}()){var Gb=null,cc=function(){return kc(Fa,".vrm")||kc(Fa,".evrm")};ld(Fa,void 0).then(function(ib){cc&&!1===Ia(Dd.I(F.a))===!1&&(Gb=Rg.cf(),W.s(Gb,!1));Fa=ib.url;return ae.pc(ib.U,Fa,F.a,null,ib.T)}).then(function(ib){if("character"===hb){var Vb=qf.ca(ib);!1===Ia(Vb)&&Hc(Vb,function(ab){U.b(ab)})}else"action"===hb&&(Vb=qf.I(ib),!1===Ia(Vb)&&Hc(Vb,function(ab){Ze(ab)}));
Vb=ib.Vq;!1===Ia(Vb)&&Hc(Vb,function(ab){zf.b(ab)});ib=m(ib,F.a);Ib(ib)})["catch"](function(ib){ec(ib)})["finally"](function(){null!=Gb&&(Ze(Gb),Dd.zo(F.a,Gb),Gb=null)})}})}function yh(Fa,hb){return new Promise(function(Ib,ec){Uc(Fa).then(function(wb){return wb.blob()}).then(function(wb){wb=new File([wb],hb+".glb");return Ah(wb)}).then(function(wb){Ib(wb)})["catch"](function(wb){ec(wb)})})}function wh(){return{Na:function(Fa){lh(Fa)},Pa:function(Fa){return za(Fa)},L:function(Fa){return g(null,Fa)},
Fa:function(Fa,hb,Ib){return Dc.Fa(Fa,hb,Ib)},kb:function(Fa,hb,Ib){return new Promise(function(ec,wb){var Gb=Fa+".glb";g(null,Fa).then(function(cc){va(cc,Ib,Gb).then(function(ib){return ld(ib,void 0)}).then(function(ib){return Ad(ib.U,ib.url,F.a,ib.T,Fa)}).then(function(ib){ec(ib)})["catch"](function(ib){wb(ib)})})})}}}function Pf(Fa){return Dd.pn(F.a)?(Fa("Scene is disposed"),!0):!1}function Sc(Fa,hb){return(new ff(Fa,F.a,F.ba,hb)).Cc()}function od(Fa){F.canvas.style.pointerEvents=Fa?"all":"none"}
function lh(Fa){z(Fa,function(hb){x.addAssetInfoForActionPropsIdAndPath(hb)})}var rd=x.getCanvasHostParentElement(),oh="true"==rd.getAttribute("useContextPool")&&!1===xa.ue(),ph="g"===rd.nodeName?"G":"E",F=oh?da(ph):{key:ph,K:xa.xa()},fh=!1,Of=!1,id=0,Jf=null;return new Promise(function(Fa){qa();var hb=null==F.a,Ib=zh();hb&&(F.a=Ib.a,oh&&(F.a.dispose=function(){var wb=fa(F.key);wb.includes(F)||wb.push(F)}),F.a.Rh=function(){var wb=$d.create(null,F.a);$d.da(wb,Mb.create());return wb}());Ib=Ib.ij;hb&&
(F.Cq=dh.$h(),F.C=yd());id=0;xa.sb(F);id++;1==id&&xa.cd(F);var ec=ca();ec.owner=x;F.Ca.zd=ec;ec.applyBrightness=Ib;ec.dispose=function(){delete F.Ca.zd;ec.hn()};null!=rd&&x.dispatchElementCharacter3dControllerCreatedEventToDrawPane(ec);Fa(ec)})}function l(x,ca){x.isConnected()&&x.synchronizeCharacterBounds(void 0,ca)}function m(x,ca){var qa=Dd.I(ca).length,G=Dd.Ya(ca).length,ka=Dd.ca(ca).length,wa=Dd.Vd(ca).length,Oa=qf.fn(x,function(na){return na});qa=Dd.I(ca).slice(qa);G=Dd.Ya(ca).slice(G);ka=Dd.ca(ca).slice(ka);
wa=Dd.Vd(ca).slice(wa);!1===Ia(wa)&&Hc(wa,function(na){zf.b(na)});return{gn:Oa,meshes:qa,skeletons:G,animationGroups:ka}}function n(x,ca,qa){!1===U.Nc(x)&&(U.start(x,ca,qa),U.pause(x))}function q(x){z(U.j(x),function(ca){var qa=r(Ea.f(ca));Ea.zh(ca,qa)})}function r(x){x=V.clone(x);var ca=V.g(x),qa=[];z(ca,function(G){var ka=Ke.ua(G);G=xc(G);Ke.$a(G,ka);qa.push(G)});V.va(x,qa);return x}function P(x,ca){function qa(lb,mb,$a){wa[lb]={no:mb,Si:$a}}function G(lb,mb,$a){ka[lb]={we:mb,Ui:$a}}var ka={},wa=
{};if(Gf(x)||Hf(x)){var Oa=function(){function lb(mb,$a){mb[$a]/=2}return{ve:function(mb,$a){mb[$a]*=.75},Un:lb,Vn:lb}}(),na=Oa.Un,ha=Oa.Vn;G("jawOpen",null,Oa.ve);G("mouthSmileLeft",null,na);G("mouthSmileRight",null,ha)}else Xd(x)?(na=function(){var lb=null,mb=null;return{ve:function($a,rb){null==lb&&(lb=rb);null!=lb&&($a[lb]*=1.25)},Tn:function($a,rb){null==mb&&(mb=rb);null!=mb&&($a[mb]/=2);null!=lb&&null!=mb&&($a[lb]+=$a[mb])}}}(),Oa=na.ve,na=na.Tn,G("browInnerUp","Fcl_BRW_Sorrow",null),G("browDownLeft",
"Fcl_BRW_Angry",null),G("browDownRight","Fcl_BRW_Angry",null),G("browOuterUpLeft","Fcl_BRW_Angry",null),G("browOuterUpRight","Fcl_BRW_Angry",null),G("eyeLookUpLeft","Fcl_EYE_Spread",null),G("eyeLookUpRight","Fcl_EYE_Spread",null),G("eyeLookDownLeft","Fcl_EYE_Sorrow",null),G("eyeLookDownRight","Fcl_EYE_Sorrow",null),G("eyeLookInLeft","Fcl_EYE_Fun",null),G("eyeLookInRight","Fcl_EYE_Fun",null),G("eyeLookOutLeft","Fcl_EYE_Fun",null),G("eyeLookOutRight","Fcl_EYE_Fun",null),G("eyeBlinkLeft","Fcl_EYE_Close_L",
null),G("eyeBlinkRight","Fcl_EYE_Close_R",null),G("eyeSquintRight","Fcl_EYE_Joy_R",null),G("eyeSquintLeft","Fcl_EYE_Joy_L",null),G("eyeWideLeft","Fcl_EYE_Surprised",null),G("eyeWideRight","Fcl_EYE_Surprised",null),G("jawOpen","Fcl_MTH_Surprised",Oa),G("jawForward","Fcl_MTH_Fun",null),G("jawLeft","Fcl_MTH_Neutral",null),G("jawRight","Fcl_MTH_Neutral",null),G("mouthFunnel","Fcl_MTH_U",na),G("mouthPucker","Fcl_MTH_Small",null),G("mouthLeft","Fcl_MTH_Neutral",null),G("mouthRight","Fcl_MTH_Neutral",null),
G("mouthRollUpper","Fcl_MTH_Close",null),G("mouthRollLower","Fcl_MTH_Close",null),G("mouthShrugUpper","Fcl_MTH_Angry",null),G("mouthShrugLower","Fcl_MTH_Angry",null),G("mouthClose","Fcl_MTH_Close",null),G("mouthSmileLeft","Fcl_MTH_Fun",null),G("mouthSmileRight","Fcl_MTH_Fun",null),G("mouthFrownLeft","Fcl_MTH_Sorrow",null),G("mouthFrownRight","Fcl_MTH_Sorrow",null),G("mouthDimpleLeft","Fcl_MTH_Neutral",null),G("mouthDimpleRight","Fcl_MTH_Neutral",null),G("mouthUpperUpLeft","Fcl_MTH_I",null),G("mouthUpperUpRight",
"Fcl_MTH_I",null),G("mouthLowerDownLeft","Fcl_MTH_E",null),G("mouthLowerDownRight","Fcl_MTH_E",null),G("mouthPressLeft","Fcl_MTH_Sorrow",null),G("mouthPressRight","Fcl_MTH_Sorrow",null),G("mouthStretchLeft","Fcl_MTH_Large",null),G("mouthStretchRight","Fcl_MTH_Large",null),G("tounghtOut","Fcl_MTH_A",null)):Yd(x)&&(qa("A",["jawOpen","mouthLowerDownLeft","mouthLowerDownRight"],["mouthShrugLower","mouthPressLeft","mouthPressRight"]),qa("E",["mouthSmileLeft","mouthSmileRight"],["mouthStretchLeft","mouthStretchRight",
"mouthShrugUpper","mouthUpperUpLeft","mouthUpperUpRight"]),qa("I",["jawOpen","mouthStretchLeft","mouthStretchRight"],["mouthShrugUpper","mouthShrugLower"]),qa("O",["mouthFunnel","jawOpen"],["mouthRollUpper","mouthRollLower","mouthPucker"]),qa("U",["mouthFunnel","mouthPucker"],["jawForward","mouthRollUpper","mouthRollLower"]));if(0<Object.keys(ka).length){ca=JSON.parse(JSON.stringify(ca));var ba=ca.morphTargets,ea=ca.frames;null!=ba&&null!=ea&&ba.map(function(lb,mb){var $a=ka[lb];if(null!=$a){var rb=
$a.we;null!=rb&&lb!=rb&&(ba[mb]=rb);var gb=$a.Ui;null!=gb&&ea.map(function(Xb){gb(Xb,mb)})}})}else if(0<Object.keys(wa).length){ca=JSON.parse(JSON.stringify(ca));var oa=ca.morphTargets;Oa=ca.frames;if(null!=oa&&null!=Oa){Array.from(Object.keys(wa)).map(function(lb){oa.push(lb)});var gc=function(lb,mb){var $a=0,rb=0;mb.map(function(gb){gb=lb[oa.indexOf(gb)];0<gb&&($a++,rb+=gb)});$a/=mb.length;return{kc:$a,value:rb}};Oa.map(function(lb){var mb=0,$a=Object.keys(wa).map(function(Cb){var hc=wa[Cb],Oc=
hc.no;hc=hc.Si;var yd=gc(lb,Oc),wd=yd.kc;yd=yd.value;var Je=gc(lb,hc);Cb={we:Cb,kc:2*wd+Je.kc,value:2*yd+Je.value,gh:Oc.length,sf:hc.length};mb=Math.max(mb,Cb.kc);return Cb});$a=$a.filter(function(Cb){return mb==Cb.kc});var rb=0;$a.map(function(Cb){rb=Math.max(rb,Cb.gh)});$a=$a.filter(function(Cb){return rb==Cb.gh});var gb=0;$a.map(function(Cb){gb=Math.max(gb,Cb.sf)});$a=$a.filter(function(Cb){return gb==Cb.sf});var Xb=0;$a.map(function(Cb){Xb=Math.max(Xb,Cb.value)});$a=$a.filter(function(Cb){return Xb==
Cb.value});$a=$a[0];var Ob=oa.indexOf($a.we);lb[Ob]=Math.min(1,$a.value);.1<lb[Ob]&&(lb[Ob]=Math.max(.2,lb[Ob]));Array.from(Array(oa.length)).map(function(Cb,hc){null==lb[hc]&&(lb[hc]=0)})})}}return ca}function N(x,ca){z(x,function(qa){qa=W.mg(qa);if(null!=qa)for(var G=zf.rm(qa),ka=0;ka<G;ka++){var wa=zf.m(qa,ka);ca(wa,Yg.getName(wa))}})}function da(x){var ca=fa(x);0==ca.length&&ca.push({key:x,K:xa.xa()});x=ca[0];ca.splice(0,1);return x}function fa(x){var ca=ef.Qj;null==ca&&(ca={},ef.Qj=ca);var qa=
ca[x];null==qa&&(qa=[],ca[x]=qa);return qa}function ma(x){return self.BabylonJsBoneMapper.remapBoneName("mixamorig:Head",x)}function pa(x,ca,qa,G,ka){var wa=fb;Xd(ka);return new sh(x,ca,qa,G,ka,wa)}function va(x,ca,qa){return new Promise(function(G,ka){"character-action"!==ca?G(x):Uc(x).then(function(wa){return wa.blob()}).then(function(wa){wa=new File([wa],qa);G(wa)})["catch"](function(wa){ka(wa)})})}function ua(){return new Promise(function(x,ca){null!=xa?x():ef.initializeForMultipleViewsSupport(!0).then(function(){x()})["catch"](function(qa){ca(qa)})})}
function Ba(x,ca){if(null==ca)return x();var qa=ca.closest("g[graphViewDrawPane=true]");if(null==qa)return x();qa=qa.style;var G=qa.transform;if(null==jc(G))return x();qa.transform="";try{var ka=x()}finally{qa.transform=G}return ka}function La(x,ca){var qa=x[ca];qa=null!=qa?qa:-1001;-1E3!==qa&&-1001!==qa||(qa=0===ca?Kb:La(x,ca-1));return qa}function za(x){return x?x.map(function(ca){return{ja:ca}}):[]}function Wa(x){function ca(rb){var gb,Xb="";for(gb=0;3>=gb;gb++)Xb+="0123456789abcdef".charAt(rb>>
8*gb+4&15)+"0123456789abcdef".charAt(rb>>8*gb&15);return Xb}function qa(rb,gb){var Xb=(rb&65535)+(gb&65535);return(rb>>16)+(gb>>16)+(Xb>>16)<<16|Xb&65535}function G(rb,gb,Xb,Ob,Cb,hc){rb=qa(qa(gb,rb),qa(Ob,hc));return qa(rb<<Cb|rb>>>32-Cb,Xb)}function ka(rb,gb,Xb,Ob,Cb,hc,Oc){return G(gb&Xb|~gb&Ob,rb,gb,Cb,hc,Oc)}function wa(rb,gb,Xb,Ob,Cb,hc,Oc){return G(gb&Ob|Xb&~Ob,rb,gb,Cb,hc,Oc)}function Oa(rb,gb,Xb,Ob,Cb,hc,Oc){return G(Xb^(gb|~Ob),rb,gb,Cb,hc,Oc)}var na=function(rb){var gb,Xb=(rb.length+8>>
6)+1,Ob=Array(16*Xb);for(gb=0;gb<16*Xb;gb++)Ob[gb]=0;for(gb=0;gb<rb.length;gb++)Ob[gb>>2]|=rb.charCodeAt(gb)<<gb%4*8;Ob[gb>>2]|=128<<gb%4*8;Ob[16*Xb-2]=8*rb.length;return Ob}(""+x),ha=1732584193,ba=-271733879,ea=-1732584194,oa=271733878;for(x=0;x<na.length;x+=16){var gc=ha;var lb=ba;var mb=ea;var $a=oa;ha=ka(ha,ba,ea,oa,na[x+0],7,-680876936);oa=ka(oa,ha,ba,ea,na[x+1],12,-389564586);ea=ka(ea,oa,ha,ba,na[x+2],17,606105819);ba=ka(ba,ea,oa,ha,na[x+3],22,-1044525330);ha=ka(ha,ba,ea,oa,na[x+4],7,-176418897);
oa=ka(oa,ha,ba,ea,na[x+5],12,1200080426);ea=ka(ea,oa,ha,ba,na[x+6],17,-1473231341);ba=ka(ba,ea,oa,ha,na[x+7],22,-45705983);ha=ka(ha,ba,ea,oa,na[x+8],7,1770035416);oa=ka(oa,ha,ba,ea,na[x+9],12,-1958414417);ea=ka(ea,oa,ha,ba,na[x+10],17,-42063);ba=ka(ba,ea,oa,ha,na[x+11],22,-1990404162);ha=ka(ha,ba,ea,oa,na[x+12],7,1804603682);oa=ka(oa,ha,ba,ea,na[x+13],12,-40341101);ea=ka(ea,oa,ha,ba,na[x+14],17,-1502002290);ba=ka(ba,ea,oa,ha,na[x+15],22,1236535329);ha=wa(ha,ba,ea,oa,na[x+1],5,-165796510);oa=wa(oa,
ha,ba,ea,na[x+6],9,-1069501632);ea=wa(ea,oa,ha,ba,na[x+11],14,643717713);ba=wa(ba,ea,oa,ha,na[x+0],20,-373897302);ha=wa(ha,ba,ea,oa,na[x+5],5,-701558691);oa=wa(oa,ha,ba,ea,na[x+10],9,38016083);ea=wa(ea,oa,ha,ba,na[x+15],14,-660478335);ba=wa(ba,ea,oa,ha,na[x+4],20,-405537848);ha=wa(ha,ba,ea,oa,na[x+9],5,568446438);oa=wa(oa,ha,ba,ea,na[x+14],9,-1019803690);ea=wa(ea,oa,ha,ba,na[x+3],14,-187363961);ba=wa(ba,ea,oa,ha,na[x+8],20,1163531501);ha=wa(ha,ba,ea,oa,na[x+13],5,-1444681467);oa=wa(oa,ha,ba,ea,na[x+
2],9,-51403784);ea=wa(ea,oa,ha,ba,na[x+7],14,1735328473);ba=wa(ba,ea,oa,ha,na[x+12],20,-1926607734);ha=G(ba^ea^oa,ha,ba,na[x+5],4,-378558);oa=G(ha^ba^ea,oa,ha,na[x+8],11,-2022574463);ea=G(oa^ha^ba,ea,oa,na[x+11],16,1839030562);ba=G(ea^oa^ha,ba,ea,na[x+14],23,-35309556);ha=G(ba^ea^oa,ha,ba,na[x+1],4,-1530992060);oa=G(ha^ba^ea,oa,ha,na[x+4],11,1272893353);ea=G(oa^ha^ba,ea,oa,na[x+7],16,-155497632);ba=G(ea^oa^ha,ba,ea,na[x+10],23,-1094730640);ha=G(ba^ea^oa,ha,ba,na[x+13],4,681279174);oa=G(ha^ba^ea,oa,
ha,na[x+0],11,-358537222);ea=G(oa^ha^ba,ea,oa,na[x+3],16,-722521979);ba=G(ea^oa^ha,ba,ea,na[x+6],23,76029189);ha=G(ba^ea^oa,ha,ba,na[x+9],4,-640364487);oa=G(ha^ba^ea,oa,ha,na[x+12],11,-421815835);ea=G(oa^ha^ba,ea,oa,na[x+15],16,530742520);ba=G(ea^oa^ha,ba,ea,na[x+2],23,-995338651);ha=Oa(ha,ba,ea,oa,na[x+0],6,-198630844);oa=Oa(oa,ha,ba,ea,na[x+7],10,1126891415);ea=Oa(ea,oa,ha,ba,na[x+14],15,-1416354905);ba=Oa(ba,ea,oa,ha,na[x+5],21,-57434055);ha=Oa(ha,ba,ea,oa,na[x+12],6,1700485571);oa=Oa(oa,ha,ba,
ea,na[x+3],10,-1894986606);ea=Oa(ea,oa,ha,ba,na[x+10],15,-1051523);ba=Oa(ba,ea,oa,ha,na[x+1],21,-2054922799);ha=Oa(ha,ba,ea,oa,na[x+8],6,1873313359);oa=Oa(oa,ha,ba,ea,na[x+15],10,-30611744);ea=Oa(ea,oa,ha,ba,na[x+6],15,-1560198380);ba=Oa(ba,ea,oa,ha,na[x+13],21,1309151649);ha=Oa(ha,ba,ea,oa,na[x+4],6,-145523070);oa=Oa(oa,ha,ba,ea,na[x+11],10,-1120210379);ea=Oa(ea,oa,ha,ba,na[x+2],15,718787259);ba=Oa(ba,ea,oa,ha,na[x+9],21,-343485551);ha=qa(ha,gc);ba=qa(ba,lb);ea=qa(ea,mb);oa=qa(oa,$a)}return ca(ha)+
ca(ba)+ca(ea)+ca(oa)}function Ja(x){x=x.angle;return null!=x?x:-1001}ef.isNonMixamoBasedFamily=function(){return!1};var xa=null;ef.initializeForMultipleViewsSupport=function(x){return new Promise(function(ca){null==xa&&(xa=function(){if(x){var qa=function(ka,wa){wa!==$g.isEnabled(ka.zc)&&($g.s(ka.zc,wa),wa&&(null!=ka.pe&&Kd.Fh(G,ka.pe),function(){var Oa=Dd.ca(ka.a);Ia(Oa)||z(Oa,function(na){if(U.Nc(na)){var ha=U.dc(na);U.stop(na);U.start(na,U.Mg(na),U.ae(na));!1===ha&&U.pause(na)}})}()))},G=Zc(document.createElement("canvas"));
Kd.Ie(G,function(){var ka=Kd.hl(G);null!=ka&&jf.ra($g.Dc(ka)).xd()});return{xa:function(){return G},cd:function(ka){qa(ka,!0)},sb:function(ka){qa(ka,!1)},ke:function(){return 1<Kd.Lm(G).length},ue:function(){return!0},Ra:function(ka){ka.zc=Kd.Ra(G,ka.canvas,ka.G,!0)},Ch:function(ka){Kd.Fh(G,ka)},gb:function(ka){Kd.kq(G,ka.canvas)}}}return{xa:function(){return null},cd:function(ka){Kd.Ie(ka.K,ka.sh)},sb:function(ka){Kd.sb(ka.K,ka.sh)},ke:function(){return!1},ue:function(){return!1},Ra:function(){},
gb:function(ka){Kd.b(ka.K)}}}());ca()})};var ub=1;ef.utilFunctions={validateActionBlendDurationWithPreviousActionStartTime:function(x,ca,qa){return Math.min(x,qa-ca-.01)},calculateBlendActionStartTime:function(x,ca){return x-ca},validateActionBlendDurationWithActionStartTime:function(x,ca,qa){x+ca>qa&&(ca=qa-x);return ca},calculateXYDistancesOfPosition:function(x){var ca=x.distance;x=x.angle;return{xDistance:ca*Math.cos(x),yDistance:ca*Math.sin(x)}},traverseAllCamerasWithFillingGaps:function(x,ca,
qa){var G=null,ka=x.length-1;x.forEach(function(wa,Oa){var na=wa.startTime,ha=wa.duration,ba=na+ha;null!=G&&G<na&&qa(G,na-G,Oa-1,!0);G=ba;qa(na,ha,Oa,!1);Oa===ka&&ca>ba&&qa(ba,ca-ba,Oa,!0)})},addTweenForCamera:function(x,ca,qa,G,ka,wa,Oa){function na(mb){mb=x[mb].bounds;return Math.floor(20*Math.min(qa/mb.width,G/mb.height))/20}var ha=ca-1,ba=x[ca].bounds,ea=0<=ha?x[ha].bounds:ba,oa=na(ca),gc=0<ca?na(ha):oa;ka&&(gc=oa,ea=ba);var lb=gc+(oa-gc)*wa;ca=function(){var mb=-((ea.x+ea.width/2)*gc);var $a=
-((ea.y+ea.height/2)*gc);mb+=(-((ba.x+ba.width/2)*oa)-mb)*wa;$a+=(-((ba.y+ba.height/2)*oa)-$a)*wa;mb+=qa/2;$a+=G/2;mb/=lb;$a/=lb;return{x:mb,y:$a}}();Oa(lb,ca.x,ca.y)}};ef.GIZMO_THICKNESS=3;ef.isCharacterFamilySupportFeature=function(){return!0};ef.calculateActionEffectiveAngle=La;ef.fa=0;ef.ea=1;ef.bi=1;var Kb=0;ef.qc="https://static.visual-paradigm.com";ef.xb=function(x){return x/fb};"undefined"!==typeof self&&null==self.md5&&(self.md5=Wa);var wc=function(){function x(G){var ka=qa.keys();if(!Ia(ka)){var wa=
[],Oa=Dd.de(G);z(ka,function(na){kc(na,Oa)&&wa.push(na)});return wa}}var ca={},qa=new Nc;qa.Ff=function(G){qf.b(G)};ca.set=function(G,ka,wa){qa.set(G+"\n"+Dd.de(ka),wa)};ca.get=function(G,ka){var wa=null,Oa=qa.get(G+"\n"+Dd.de(ka));null!=Oa&&(wa=m(Oa,ka));return wa};ca.Hj=function(G){G=x(G);Ia(G)||z(G,function(ka){qa["delete"](ka)})};return ca}(),fb=60;ef.FRAME_PER_SECOND=fb;ef.S=function(x){return x*fb};ef.isSingleFrameAction=function(x,ca,qa,G){if(1<ca)return!1;x*=fb;return 4>=x-x*qa-x*(1-G)};var Fb=
"babylonjs-canvas-host-parent-element",rc="true";ef.Iq=function(){return self.character3dController};var bc=null,Dc=null,hd=null,Nd,Od=1.2,Pd=function(){var x=Od,ca=[];Array.from(Array(20)).map(function(qa,G){ca.push(x/20*G)});Array.from(Array(20)).map(function(qa,G){ca.push(x+(5-x)/20*G)});ca.push(5);return ca}();ef.DEFAULT_BRIGHTNESS=Od;ef.BRIGHTNESS_VALUES=Pd;var Ec=ef.BRIGHTNESS_LEVELS_MAP;null==Ec&&(Ec={},ef.BRIGHTNESS_LEVELS_MAP=Ec);ef.BRIGHTNESS_MARKS=[{value:0,label:"-100"},{value:10,label:"-50"},
{value:20,label:"0"},{value:30,label:"50"},{value:40,label:"100"}];ef.getInstance=function(x){return new Promise(function(ca,qa){null!=Dc?ca(Dc):e(x).then(function(G){Dc=G;G=bc;null!=G&&(bc=null,G.Io());ca(Dc)})["catch"](function(G){qa(G)})})};self.WebDiagramBabylonJsBridge=ef})();function sh(a,f,e,c,g,h){this.na=a;this.R=f;this.Ae=e;this.h=c;this.i=g;this.Wh="https://static.visual-paradigm.com";this.pa=h;this.Zm=self.BabylonJsBoneMapper.remapBoneName("mixamorig:Hips",g);this.Eb()}var wg,rh;
(function(){function a(c,g){var h=Mb.clone(g);Mb.Qc(h,c);Mb.ao(h,c)}function f(){return ef.FRAME_PER_SECOND}function e(c,g,h){z(c,function(k,b){var d=!1;k<g?(k=g,d=!0):k>h&&(k=h,d=!0);d&&(c[b]=k)})}sh.prototype.ni="handProps";rh=function(){return!1};sh.prototype.Eb=function(){this.fh=this.qj();this.ko=this.lk()};sh.prototype.qj=function(){var c=this.j(),g=this.Zm;return function(){var h={},k=[],b={},d=null,l=null;z(c,function(m){var n=Ea.f(m),q=V.B(n);"position"===q?null==d&&(m=Ea.m(m),q=m.name,q===
g&&(d=n)):"rotationQuaternion"===q&&(m=Ea.m(m),q=m.name,null==l&&q===g?l=n:(m=q=m.name,k.push(n),b[m]=n))});h.Cn=function(m){z(k,function(n){m(n)});null!=d&&m(d)};h.Sf=function(m){return b[m]};h.Gg=d;h.Hg=l;(function(){h.Cn(function(m){m=V.g(m);var n=function(){var q={},r=new Map;q.rd=function(P){r.set(P,!0)};q.Pj=function(P){return!0===r.get(P)};return q}();z(m,function(q){var r=q.value;n.Pj(r)&&(r=r.clone(),q.value=r);n.rd(r)})})})();return h}()};sh.prototype.j=function(){return U.j(this.h)};sh.prototype.ng=
function(){return this.Wb("motion")};sh.prototype.pg=function(){return this.Wb("postureCorrection")};sh.prototype.Zf=function(){return this.Wb("copy")};sh.prototype.be=function(){return this.Wb("startTime")};sh.prototype.Pd=function(){return this.Wb("endTime")};sh.prototype.Wb=function(c){return this.Ae[c]};sh.prototype.lk=function(){return null!=this.ng()?this.hk():null!=this.pg()?this.mk():null!=this.Zf()?this.Xj():null};sh.prototype.Xj=function(){var c={},g=this,h=this.Zf(),k=this.Pd(),b=this.be()*
f(),d=k*f(),l=h.pasteAtTime*f(),m=d-b,n=this.j();c.F=function(){return new Promise(function(q){z(n,function(P){var N=V.g(Ea.f(P));(function(){var da=!0;cb(N,{v:function(){return da},$:function(fa){fa.frame>l?fa.frame+=m:da=!1}})})();(function(){var da=[],fa=null;z(N,function(pa,va){var ua=pa.frame;ua>=b&&ua<=d?da.push(Tb(l+(ua-b),pa.value)):ua>=l&&null==fa&&(fa=va)});var ma=0;z(da,function(pa){N.splice(fa+ma,0,pa);ma++})})()});var r=g.Gd();r+=m;g.Wo(r);q()})};return c};sh.prototype.Tf=function(){return U.W(this.h)};
sh.prototype.Gd=function(){return U.A(this.h)};sh.prototype.Wo=function(c){U.Lb(this.h,c)};sh.prototype.ed=function(c){if(null==c)return null;c=nd(c);c=Md(c,this.i);return c=sd(c)};sh.prototype.mk=function(){var c=this,g={},h=this.pg(),k=this.be(),b=this.Pd(),d=k*f(),l=b*f();b+=h.endBlendDuration;var m=(k-h.startBlendDuration)*f(),n=b*f(),q=h.boneRotations,r=h.hipsBonePosition,P=this.ed(h.rotationAngle),N=this.fh;g.F=function(){return new Promise(function(da){function fa(ma,pa){var va=Uf();(function(){var Ja=
Tf(f());Ja=[m-Ja,m,d-Ja,d,l,l+Ja,n,n+Ja];e(Ja,c.Tf(),c.Gd());Vf(ma,Ja,va)})();var ua=va.get(d),Ba=va.get(l),La=V.g(ma),za=La.indexOf(ua),Wa=La.indexOf(Ba);(function(){for(var Ja=pa.yd(ua.value),xa=za;xa<=Wa;xa++){var ub=La[xa],Kb=ub.value.clone();ub.value=Kb;pa.sd(Kb,Ja)}})();(function(){var Ja=va.get(n);Ja=La.indexOf(Ja);var xa=Wa+1,ub=La[xa];null!=ub&&(ub.value=Ba.value,La.splice(xa,Ja-xa))})();(function(){var Ja=va.get(m);Ja=La.indexOf(Ja);var xa=za-1,ub=La[xa];null!=ub&&(ub.value=ua.value,La.splice(Ja,
xa-Ja))})()}(function(){if(null!=r){var ma=N.Gg;null!=ma&&fa(ma,{yd:function(pa){var va=Gd.create(r.x,r.y,r.z);return Gd.fq(va,pa)},sd:function(pa,va){Gd.mf(pa,va)}})}})();(function(){Da(q,function(ma,pa){var va=N.Sf(ma);null!=va&&fa(va,{yd:function(ua){var Ba=Mb.create(pa.x,pa.y,pa.z,Mb.hb(pa));return gd(ua,Ba)},sd:function(ua,Ba){a(ua,Ba)}})})})();(function(){if(null!=P){var ma=N.Hg;if(null!=ma){var pa=Mb.ga(0,Math.PI/180*P,0);fa(ma,{yd:function(){return pa},sd:function(va,ua){a(va,ua)}})}}})();
da()})};return g};wg=function(c,g,h,k,b,d,l,m){return new Promise(function(n,q){var r;(new $b(c,g)).load().then(function(P){r=new ta(P,h,k);return r.$i()}).then(function(){r.lq(b,d,l,m);n()})["catch"](function(P){q(P)})})};sh.prototype.hk=function(){var c=this,g={},h=this.ng(),k=this.be(),b=this.Pd(),d=0===k&&0===b,l=k-h.startBlendDuration,m=b+h.endBlendDuration,n=h.poses,q=this.fh;g.F=function(){return new Promise(function(r){if(!Ia(n)){var P=c.Tf(),N=c.Gd(),da=n.length;z(n,function(fa,ma){function pa(za,
Wa){var Ja=Uf();if(d){Vf(za,[va],Ja);var xa=Ja.get(va);xa.value=Wa}else{var ub=(ma===da-1?m:n[ma+1].time)*f(),Kb=(0<ma?n[ma-1].time:l)*f();(function(){var Fb=Tf(f());Fb=[Kb,Kb+Fb,va-Fb,va,va+Fb,ub-Fb,ub];e(Fb,P,N);Vf(za,Fb,Ja)})();xa=Ja.get(va);xa.value=Wa;var wc=V.g(za),fb=wc.indexOf(xa);(function(){var Fb=fb+1,rc=Ja.get(ub);rc=wc.indexOf(rc)-1;var bc=wc[Fb];null!=bc&&(bc.value=Wa,wc.splice(Fb,rc-Fb))})();(function(){var Fb=Ja.get(Kb);Fb=wc.indexOf(Fb)+1;var rc=fb-1,bc=wc[rc];null!=bc&&(bc.value=
Wa,wc.splice(Fb,rc-Fb))})()}}var va=fa.time*f(),ua=fa.boneRotations,Ba=fa.hipsBonePosition,La=c.ed(fa.rotationAngle);(function(){Da(ua,function(za,Wa){var Ja=q.Sf(za);if(null!=Ja){var xa=Mb.create(Wa.x,Wa.y,Wa.z,Mb.hb(Wa));pa(Ja,xa)}})})();(function(){if(null!=Ba){var za=q.Gg;if(null!=za){var Wa=Gd.create(Ba.x,Ba.y,Ba.z);pa(za,Wa)}}})();(function(){if(null!=La){var za=q.Hg;if(null!=za){var Wa=Mb.ga(0,Math.PI/180*La,0);var Ja=V.H(za,va);Ja=V.g(za)[Ja].value;Ja=Mb.multiply(Wa,Ja);pa(za,Ja)}}})()})}r()})};
return g};sh.prototype.F=function(){var c=this;return new Promise(function(g,h){var k=c.ko;null==k?g():k.F().then(function(){g()})["catch"](function(b){h(b)})})}})();function nh(a){this.G=a;a=jf.mi();Hd.Dp(this.G,a)}p=nh.prototype;p.xa=function(){return Hd.xa(this.G)};p.jp=function(){jf.Hp(this.G,6)};p.gp=function(){jf.Ep(this.G,-6)};p.hp=function(a){jf.Fp(this.G,a)};p.ip=function(a){jf.Gp(this.G,a)};p.Ll=function(a){return Kd.ml(this.xa(),a)};p.xl=function(){return this.Ll(this.G)};p.tb=function(){var a=this.xl();this.jp();this.gp();this.hp(-6*a);this.ip(6*a)};self.applyBabylonJsOrthographicCamera=function(a){(new nh(a)).tb()};var kh,mh;
(function(){var a=new Set(["in","out","inOut"]);kh=function(c){var g=c;null==jc(c)===!1&&(g=c.charAt(0).toUpperCase(),1<c.length&&(g+=c.substring(1)));return new (Og(g+"Ease"))};mh=function(c){!1===a.has(c)&&(c="out");if("in"===c)return Qg.ei;if("out"===c)return Qg.gi;if("inOut"===c)return Qg.fi;throw"getEasingMode encountered unknown name: "+c;};var f=function(){function c(da,fa){return{name:da,caption:fa}}var g=c("none","None"),h=c("circle","Circle"),k=c("back","Back"),b=c("bounce","Bounce"),d=
c("cubic","Cubic"),l=c("elastic","Elastic"),m=c("exponential","Exponential"),n=c("power","Power"),q=c("quadratic","Quadratic"),r=c("quartic","Quartic"),P=c("sine","Sine"),N=c("bezierCurve","Bezier Curve");return[g,h,k,b,d,l,m,n,q,r,P,N]}(),e=[{name:"in",caption:"In"},{name:"out",caption:"Out"},{name:"inOut",caption:"In and Out"}];self.BabylonJsEasingUtil={NONE_EASING_NAME:"none",DEFAULT_EASING_MODE:"out",getEasingItems:function(){return f},getEasingModeItems:function(){return e}}})();function qh(a,f,e,c,g,h){this.o=a;this.K=f;this.R=e;this.na=c;this.ma=g;this.Aj=h}p=qh.prototype;p.setTime=function(a){this.time=a};p.rk=function(){var a=this,f=Dd.create(this.K);Wc(f);f.xd=function(){a.kp();a.tb();a.Ee()};return f};p.Fk=function(){Dd.b(this.a)};p.tb=function(){this.Rc.tb()};p.kp=function(){var a=this.context.canvas;a.width=this.ma.width;a.height=this.ma.height};p.Ee=function(){Dd.nb(this.a)};p.Ra=function(a){this.o.Ra(a)};p.so=function(){this.Ra(this.context)};p.$j=function(){Yc(this.a)};
p.Zj=function(){return Xc(this.a)};p.Cj=function(){return ld(this.Aj)};p.Dc=function(){return this.context.G};p.sk=function(){return Pg.ai(this.K,this.Dc(),{precision:1})};p.Dm=function(){return Dd.Wd(this.a)};p.ne=function(){this.o.ne()};p.Ge=function(){this.o.Ge()};p.Qo=function(){var a=this;return new Promise(function(f){Dd.Ac(a.a,function(){f()})})};p.Gl=function(){return W.J(this.R)};p.ho=function(){var a=this;return new Promise(function(f){var e=a.Dm();"";zg.wc(e,function(){f()})})};
p.ak=function(){return new lf(this.Ka,{x:0,y:0,width:this.ma.width,height:this.ma.height},this.a,this.context.canvas)};p.jk=function(){return new nh(this.Dc())};p.Yi=function(){document.body.appendChild(this.context.canvas)};p.xo=function(){this.context.canvas.remove()};p.Mp=function(a){W.da(this.lo,a)};p.Uk=function(){this.ak().F()};
p.tk=function(){var a={},f={},e={};z(this.tl(),function(c){var g=Ca.getName(c),h=Ca.ta(c);c=$d.J(h);h=$d.u(h);f[g]=c;e[g]=h});a.J=function(c){return f[c]};a.u=function(c){return e[c]};return a};p.mq=function(){var a=this.tk();z(this.ul(),function(f){var e=Ca.getName(f);f=Ca.ta(f);var c=a.J(e);e=a.u(e);$d.da(f,c);$d.setPosition(f,e)})};p.tl=function(){return Aa.M(this.na)};p.ul=function(){return Aa.M(this.mo)};
p.cq=function(){var a=this;return new Promise(function(f,e){null==a.time?f():a.Le(a.time).then(function(c){a.vh=c;f()})["catch"](function(c){e(c)})})};p.Jk=function(){var a=this;return new Promise(function(f,e){null==a.vh?f():a.vh.restore().then(function(){f()})["catch"](function(c){e(c)})})};p.Le=function(a){return this.o.Le(a)};
p.Bd=function(){var a=this;return new Promise(function(f,e){var c={};a.context=c;c.canvas=document.createElement("canvas");a.Yi();a.a=a.rk();a.$j();c.G=a.Zj();a.Rc=a.jk();a.so();a.Cj().then(function(g){return a.oe("",g.U,g.url,null,g.T)}).then(function(g){(function(){var b=be.ca(g);Ia(b)||z(b,function(d){U.stop(d);U.b(d)})})();var h=be.I(g),k=be.Ya(g);a.Ka=h;a.Oh=k;a.lo=h[0];a.mo=k[0];a.ne();return a.cq()}).then(function(){a.Mp(a.Gl());a.mq();return a.Jk()}).then(function(){a.Uk();return a.Qo()}).then(function(){return a.ho()}).then(function(){return a.sk()}).then(function(g){f({imageURL:g,
width:a.ma.width,height:a.ma.height,yOffset:0})}).then(function(){f()})["catch"](function(g){e(g)})["finally"](function(){a.xo();a.gb(a.context);a.Fk();a.Ge()})})};p.gb=function(a){this.o.gb(a)};p.oe=function(a,f,e,c,g){return ae.wa(a,f,e,this.a,c,g)};
})();
